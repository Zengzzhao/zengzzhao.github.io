import{z as W,T as b,b as H,d as O,o as G,u as J,g as K,a as Q,c as U,j as X,h as Z,e as tt,f as et}from"./app.CiZxJCX8.js";import{_ as nt}from"./YunPostCollapse.vue_vue_type_style_index_0_lang.onNxto38.js";import{a as at,u as ot}from"./chunks/vue-router.DKB-BOv1.js";import{a as st,u as rt}from"./animation.D6tBhojs.js";import{z as R,aa as c,ac as S,af as f,ag as $,F as V,a9 as it,P as t,al as n,ab as C,at as ct,ah as lt,ap as ut,w as a,L as k,am as mt,ak as pt,C as T}from"./framework.COmLX_CU.js";import{_ as _t}from"./YunPageHeader.vue_vue_type_script_setup_true_lang.1oukcFwO.js";import"./chunks/dayjs.CPPL_t8N.js";import{u as ft}from"./chunks/vue-i18n.DJhGtnH1.js";import"./chunks/pinia.CI_tprmh.js";import"./chunks/@vueuse/motion.DAWx69iu.js";import"./chunks/nprogress.D6qpKeA8.js";import"./index.BRXJGymZ.js";function gt(o={primary:"#0078E7"}){const s=W(),r=new b("#999999"),u=new b(o.primary);return{tags:s,getTagStyle:i=>{const p=Array.from(s.value).map(([d,h])=>h.count),g=Math.max(...p),e=Math.min(...p),y=g-e,_=(i-e)/y;return{"--yun-tag-color":r.mix(u,_*100).toString(),fontSize:`${_*36+12}px`}}}}const yt={"inline-flex":""},dt={"inline-flex":"",text:"xs"},ht=R({__name:"YunLayoutPostTag",props:{i:{},title:{},count:{}},setup(o){const s=o,r=V();return st(r,{i:s.i||0,delay:25}),(u,m)=>(c(),S("span",{ref_key:"tagRef",ref:r,"inline-flex":"",my:"2",p:"1",class:"post-tag cursor-pointer items-baseline leading-4"},[f("span",yt,"#"+$(o.title),1),f("span",dt,"["+$(o.count)+"]",1)],512))}}),vt={class:"yun-text-light",text:"center",p:"2"},xt={class:"justify-center items-end",flex:"~ wrap",gap:"1"},At=R({__name:"tags",setup(o){H([O({"@type":"CollectionPage"})]);const s=at(),r=ot(),u=G(),{t:m}=ft(),i=J(),{tags:p,getTagStyle:g}=gt({primary:u.value.colors.primary}),e=T(()=>s.query.tag||""),y=K(),_=T(()=>y.postList.filter(l=>l.tags?typeof l.tags=="string"?l.tags===e.value:l.tags.includes(e.value):!1)),d=V(),{show:h}=rt(d);function z(v){r.push({query:{tag:v}}),h()}const A=Q(i),Y=T(()=>Array.from(p.value).sort());return(v,l)=>{const B=U,w=_t,F=ht,L=it("RouterView"),E=nt,N=X,j=Z,q=tt,D=et;return c(),S(k,null,[t(q,null,{default:n(()=>[t(B),t(L,null,{default:n(({Component:I})=>[(c(),C(ct(I),null,{"main-header":n(()=>[t(w,{title:a(A)||a(m)("menu.tags"),icon:a(i).icon||"i-ri-tag-line",color:a(i).color,"page-title-class":a(i).pageTitleClass},null,8,["title","icon","color","page-title-class"])]),"main-content":n(()=>[t(ut,{"enter-active-class":"animate-fade-in animate-duration-400",appear:""},{default:n(()=>[f("div",vt,$(a(m)("counter.tags",Y.value.length)),1)]),_:1}),f("div",xt,[(c(!0),S(k,null,mt(Y.value,([x,P],M)=>(c(),C(F,{key:x,i:M,title:x,count:P.count,style:pt(a(g)(P.count)),onClick:Ct=>z(x.toString())},null,8,["i","title","count","style","onClick"]))),128))]),t(L)]),"main-nav-before":n(()=>[e.value?(c(),C(N,{key:0,ref_key:"collapse",ref:d,m:"t-4",w:"full"},{default:n(()=>[t(w,{title:e.value,icon:"i-ri-hashtag"},null,8,["title"]),t(E,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:_.value},null,8,["posts"])]),_:1},512)):lt("v-if",!0)]),_:1}))]),_:1}),t(j)]),_:1}),t(D)],64)}}});export{At as default};
