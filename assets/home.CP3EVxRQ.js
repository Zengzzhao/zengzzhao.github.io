import{o as N,p as P,_ as V,l as j,s as B,q as R,r as H,t as G,v as W,w as O,e as J,f as K}from"./app.CiZxJCX8.js";import{_ as Q}from"./YunNotice.DfTdwq4f.js";import{a as U}from"./chunks/vue-router.DKB-BOv1.js";import{a8 as q,aa as o,ac as c,ah as u,z as v,M as D,ag as b,F as g,ab as y,al as x,af as i,aj as h,w as l,ak as E,L as k,am as T,ae as L,P as r,ap as z,C as w,a9 as X}from"./framework.COmLX_CU.js";import"./chunks/dayjs.CPPL_t8N.js";import{g as F}from"./animation.DoHX50ws.js";import"./chunks/vue-i18n.DJhGtnH1.js";import"./chunks/pinia.CI_tprmh.js";import"./chunks/@vueuse/motion.DAWx69iu.js";import"./chunks/nprogress.D6qpKeA8.js";const Z={},ee={class:"grid-bg"};function te(a,e){return o(),c("div",ee,[u(" <YunAEFrame /> "),u(" <YunAERect /> ")])}const ne=q(Z,[["render",te]]),se={class:"say"},oe={key:0,class:"say-content animate-fade-in animate-iteration-1"},ae={key:1,class:"say-author"},re={key:2,class:"say-from"},ce=v({__name:"YunSay",setup(a){const e=N(),t=g(""),n=g(""),s=g("");function m(){const _=e.value.say.hitokoto.enable?e.value.say.hitokoto.api:e.value.say.api;_&&fetch(_).then(f=>{if(f.ok)f.json().then(d=>{if(e.value.say.hitokoto.enable)t.value=d.hitokoto,n.value=d.from_who,s.value=d.from;else{const p=d[Math.floor(Math.random()*d.length)];p.content?(t.value=p.content,n.value=p.author,s.value=p.from):t.value=p}});else throw new Error(`${e.value.say.api}, HTTP error, status = ${f.status}`)}).catch(f=>{console.error(f.message)})}return D(()=>{m()}),(_,f)=>(o(),c("div",se,[t.value?(o(),c("span",oe,b(t.value),1)):u("v-if",!0),n.value?(o(),c("span",ae,b(n.value),1)):u("v-if",!0),s.value?(o(),c("span",re,b(s.value),1)):u("v-if",!0)]))}}),ie=v({__name:"YunSiteLinkItem",props:{page:{}},setup(a){const e=P();return(t,n)=>{const s=V;return o(),y(s,{class:"link-item inline-flex-center gap-2 transition rounded-lg text-xl p-2 md:text-lg md:p-2 lg:text-xl lg:p-3 text-$va-c-text",bg:"white/5 dark:black/5","inline-flex":"",to:a.page.url,title:a.page.name,style:E(`color:${a.page.color}`),hover:"bg-white/80 dark:bg-black/80",onClick:n[0]||(n[0]=m=>l(e).fullscreenMenu.isOpen=!1)},{default:x(()=>[i("div",{class:h([a.page.icon,"icon"])},null,2),i("span",null,b(a.page.name),1)]),_:1},8,["to","title","style"])}}}),le={key:0,class:"site-description text-$va-c-text text-sm"},ue=v({__name:"YunSiteDescription",setup(a){const e=j();return(t,n)=>l(e).description?(o(),c("div",le,b(l(e).description),1)):u("v-if",!0)}}),_e={key:0,class:"site-subtitle block text-$va-c-text op-80 font-medium",text:"sm"},pe=v({__name:"YunSiteSubtitle",setup(a){const e=j();return(t,n)=>l(e).subtitle?(o(),c("h4",_e,b(l(e).subtitle),1)):u("v-if",!0)}}),me=v({__name:"YunAnimLineDraw",setup(a){const e=g(!1);return D(()=>{e.value=!0}),(t,n)=>(o(),c("div",{class:h(["line",{enter:e.value}])},null,2))}}),fe=q(me,[["__scopeId","data-v-3207662b"]]),de={key:0,class:"site-author-intro",m:"t-0 b-4"},ve=v({__name:"YunAuthorIntro",setup(a){const e=j();return(t,n)=>l(e).author.intro?(o(),c("div",de,b(l(e).author.intro),1)):u("v-if",!0)}}),he={key:0,class:"line-burst-effects absolute"},be=v({__name:"LineBurstEffects",props:{delay:{},duration:{}},setup(a){const e=a,t=g(!0);return D(async()=>{await B(e.delay),t.value=!1,await B(e.duration),t.value=!0}),(n,s)=>t.value?u("v-if",!0):(o(),c("div",he,[(o(),c(k,null,T(8,m=>i("div",{key:m,class:"line"},[...s[0]||(s[0]=[i("div",null,[i("span")],-1)])])),64))]))}}),ge={flex:"~ col",class:"yun-square-container items-center justify-center text-center max-w-2xl"},ye={flex:"~ col",class:"yun-square square-rotate z-1 bg-white/80"},$e={class:"py-4 md:py-5 lg:pt-6"},xe={flex:"~ col",class:"gap-2 items-center justify-center"},ke={class:"scale-x--100 py-4 md:py-5 lg:pb-6"},we={class:"mt-4 flex-center w-72 md:w-150 m-auto gap-2",flex:"~ wrap"},Ye=v({__name:"YunPrologueSquare",setup(a){const e=N(),t=g(!1);return(n,s)=>{const m=be,_=R,f=H,d=ve,p=fe,C=G,$=pe,Y=ue,I=W,S=ie;return o(),c("div",ge,[L(n.$slots,"default",{},void 0,!0),i("div",{flex:"~ col center",class:h(["info-with-avatar relative duration-800 transition-cubic-bezier-ease-in",{show:t.value}])},[r(z,{"enter-from-class":"enter-from","enter-to-class":"enter-to",appear:"",onAfterAppear:s[0]||(s[0]=A=>t.value=!0)},{default:x(()=>[i("div",ye,[r(m,{class:"absolute top-0 left-0 right-0 bottom-0 size-full scale-200",delay:200,duration:400}),r(z,{"enter-from-class":"op-0","enter-to-class":"op-100","enter-active-class":"transition-400 delay-400",appear:""},{default:x(()=>[r(_)]),_:1})])]),_:1}),i("div",{class:h(["info",{show:t.value}])},[r(f,{class:"mt-3"}),r(d),i("div",$e,[r(p)]),i("div",xe,[r(C),r($),r(Y)]),i("div",ke,[r(p)]),r(I),i("div",we,[r(S,{page:{name:"博客文章",icon:"i-ri-article-line",url:"/posts/"}}),L(n.$slots,"default",{},void 0,!0),(o(!0),c(k,null,T(l(e).pages,(A,M)=>(o(),y(S,{key:M,page:A},null,8,["page"]))),128))])],2)],2)])}}}),Ce=q(Ye,[["__scopeId","data-v-8a507115"]]),Se=v({__name:"YunGoDown",setup(a){return(e,t)=>(o(),c("button",{class:"go-down w-20 bottom-0 text-sm md:bottom-2 md:text-40px","aria-label":"go-down",onClick:t[0]||(t[0]=(...n)=>l(F)&&l(F)(...n))},[...t[1]||(t[1]=[i("div",{"i-ri-arrow-down-s-fill":"","inline-flex":""},null,-1)])]))}}),Ae={class:"banner-char-container"},Be={class:"char"},Le=v({__name:"YunBannerCharContainer",props:{title:{},chars:{}},setup(a){return(e,t)=>(o(),c("div",Ae,[(o(!0),c(k,null,T(a.title,(n,s)=>(o(),c("div",{key:s,class:"char-box"},[i("span",{class:h([s%2!==0?"char-right":"char-left"]),style:E({"--banner-char-size":`${a.chars[s]}rem`})},[i("span",Be,b(n),1)],6)]))),128))]))}});function ze(a){const e=w(()=>{const n=[];for(let s=0;s<a.title.length;s++){const m=O(1.5,3.5);n.push(m)}return n}),t=w(()=>e.value.reduce((n,s)=>n+s,0));return{chars:e,totalCharHeight:t}}const Ne={class:"banner-line-container"},De={class:"banner-line-container bottom"},Ie=v({__name:"YunBanner",setup(a){const e=P(),t=N(),{totalCharHeight:n,chars:s}=ze(t.value.banner),m=w(()=>{const p={"--total-char-height":`${n.value}rem`,"--banner-line-height":`calc(var(--banner-height, 100 * var(--vh)) / 2 - ${n.value/2}rem)`,"justify-content":"space-between"};return e.isStrato&&(p.borderBottom="1px solid var(--banner-line-color)"),p}),_=g("enter"),f=w(()=>_.value),d=g("banner");return D(async()=>{await B(500),_.value="active",e.isNimbo&&(await B(500),_.value="exit",d.value="prologue")}),(p,C)=>{const $=Le,Y=Se;return o(),c("div",{id:"yun-banner",border:"b-1px b-solid b-$banner-line-color",style:E(m.value)},[i("div",Ne,[i("div",{class:h(["banner-line vertical-line-top",f.value])},null,2)]),l(e).isNimbo?(o(),c(k,{key:0},[d.value==="banner"?(o(),y($,{key:0,title:l(t).banner.title,chars:l(s)},null,8,["title","chars"])):u("v-if",!0)],64)):u("v-if",!0),l(e).isStrato?(o(),y($,{key:1,title:l(t).banner.title,chars:l(s)},null,8,["title","chars"])):u("v-if",!0),i("div",De,[i("div",{class:h(["banner-line vertical-line-bottom",f.value])},null,2)]),r(Y)],4)}}}),Pe={class:"absolute top-0 left-5 right-5 bottom-0 flex-center"},We=v({__name:"home",setup(a){const e=P(),t=U(),n=N(),s=w(()=>t.path.startsWith("/page")),m=w(()=>{const _=n.value.notice;return _.enable&&(s.value?!_.hideInPages:!0)});return(_,f)=>{const d=Ie,p=Ce,C=ce,$=ne,Y=Q,I=X("RouterView"),S=J,A=K;return o(),c(k,null,[r(S,{class:h(["items-center flex-col",{"mt-0!":!s.value}])},{default:x(()=>[s.value?u("v-if",!0):(o(),c(k,{key:0},[r(d),r(z,{"enter-from-class":"scale-60","enter-to-class":"scale-100","enter-active-class":"transition-300 transition-cubic-bezier-ease-in-out delay-1000",appear:""},{default:x(()=>[i("div",Pe,[r(z,{"enter-from-class":"op-0","enter-to-class":"op-100","enter-active-class":"transition-800 delay-1000",appear:""},{default:x(()=>[r(p,{class:"z-1"})]),_:1})])]),_:1}),l(n).say.enable?(o(),y(C,{key:0,w:"full"})):u("v-if",!0),l(e).isNimbo?(o(),y($,{key:1,class:"absolute left-0 top-0 right-0 bottom-0"})):u("v-if",!0)],64)),m.value?(o(),y(Y,{key:1,class:h(["mb-2 md:mb-6",{"mt-4":!s.value}]),content:l(n).notice.content},null,8,["class","content"])):u("v-if",!0),L(_.$slots,"board"),L(_.$slots,"default",{},()=>[r(I)])]),_:3},8,["class"]),r(A)],64)}}});export{We as default};
