import{a as Y}from"./chunks/vue-router.DKB-BOv1.js";import{j,_ as N,g as B,l as R}from"./app.CiZxJCX8.js";import"./chunks/dayjs.CPPL_t8N.js";import{C as c,z as T,ac as a,w as o,ab as y,al as b,ah as r,L as C,am as L,a9 as M,aj as k,aa as e,af as f,ai as V,ag as z,a8 as E,ak as F,P as $,F as S}from"./framework.COmLX_CU.js";import{b as H,_ as I,a as A}from"./YunPostMeta.vue_vue_type_style_index_0_lang.CjmEO_7e.js";import{u as D}from"./post.gu2Hxqn_.js";import{u as G}from"./chunks/vue-i18n.DJhGtnH1.js";function q(t){const m=Y(),s=c(()=>Number.parseInt(m.params.page||"1")),n=c(()=>Math.ceil(t.total/t.pageSize)),d=c(()=>s.value===1||s.value===n.value?3:2);function _(l){return l===1||l===n.value?!0:l>s.value-d.value&&l<s.value+d.value}function i(l){return l===1?"/":`/page/${l}`}const v=c(()=>i(s.value-1)),h=c(()=>i(s.value+1)),p=c(()=>s.value>1),w=c(()=>s.value<n.value);return{curPage:s,totalPages:n,showPage:_,surLen:d,getTo:i,prevTo:v,nextTo:h,showPrev:p,showNext:w}}const J={class:"pagination"},K=T({__name:"YunPagination",props:{total:{},pageSize:{}},setup(t,{expose:m}){const s=t,{curPage:n,totalPages:d,showPage:_,getTo:i,surLen:v,prevTo:h,nextTo:p,showPrev:w,showNext:l}=q({total:s.total,pageSize:s.pageSize});return m({curPage:n}),(P,g)=>{const x=M("RouterLink");return e(),a("nav",J,[o(w)?(e(),y(x,{key:0,class:"page-number",to:o(h),"aria-label":"prev"},{default:b(()=>[...g[0]||(g[0]=[f("div",{"i-ri-arrow-left-s-line":""},null,-1)])]),_:1},8,["to"])):r("v-if",!0),(e(!0),a(C,null,L(o(d),u=>(e(),a(C,null,[o(_)(u)?(e(),y(x,{key:u,class:k(["page-number",o(n)===u&&"active"]),to:o(i)(u)},{default:b(()=>[V(z(u),1)]),_:2},1032,["class","to"])):u===o(n)-o(v)?(e(),a("span",{key:`prev-space-${u}`,class:"space",disabled:""}," ... ")):u===o(n)+o(v)?(e(),a("span",{key:`next-space-${u}`,class:"space",disabled:""}," ... ")):r("v-if",!0)],64))),256)),o(l)?(e(),y(x,{key:1,class:"page-number",to:o(p),"aria-label":"next"},{default:b(()=>[...g[1]||(g[1]=[f("div",{"i-ri-arrow-right-s-line":""},null,-1)])]),_:1},8,["to"])):r("v-if",!0)])}}}),O={},Q={w:"full",h:"10",class:"absolute bottom-0 bg-gradient-to-t from-$va-c-bg-light to-transparent z-1"};function U(t,m){return e(),a("div",Q)}const W=E(O,[["render",U]]),X={class:"flex flex-1 of-hidden justify-start items-start post-card-info",w:"full"},Z=["src","alt"],tt={class:"flex-center title text-2xl",text:"center",font:"serif black"},et={flex:"~ grow col",w:"full",justify:"center",items:"center"},st={key:0,py:"1"},ot=["innerHTML"],at={key:2,m:"b-5"},nt=["href"],lt={w:"full",class:"yun-card-actions flex justify-between","min-h":"10",text:"sm"},rt={class:"post-categories inline-flex",flex:"wrap 1",items:"center"},ct=T({__name:"YunPostCard",props:{post:{}},setup(t){const m=t,{t:s}=G(),{icon:n,styles:d,color:_}=D(m.post.type),i=S("bg-gradient-to-r gradient-text from-$va-c-primary to-$va-c-primary-lighter"),v=c(()=>_?"":m.post.postTitleClass||i.value);return(h,p)=>{const w=N,l=H,P=W,g=I,x=A,u=j;return e(),y(u,{class:k(["w-full",t.post.cover?"post-card-image":"post-card"]),m:"auto",overflow:"hidden",style:F(o(d))},{default:b(()=>[f("div",X,[t.post.cover?(e(),a("img",{key:0,src:t.post.cover,alt:o(s)("post.cover"),width:"320",height:"180",w:"40%",h:"54",class:"cover object-cover object-center md:shadow",loading:"lazy"},null,8,Z)):r("v-if",!0),f("div",{class:k(["flex flex-col items-center relative",t.post.cover&&"h-54"]),w:"full"},[$(w,{class:k(["post-title-link cursor-pointer",v.value]),to:t.post.path||"",m:"t-3"},{default:b(()=>[f("div",tt,[t.post.type?(e(),a("div",{key:0,class:k(["inline-flex",o(n)]),m:"r-1"},null,2)):r("v-if",!0),f("span",null,z(t.post.title),1)])]),_:1},8,["to","class"]),$(l,{frontmatter:t.post},null,8,["frontmatter"]),f("div",et,[t.post.excerpt_type==="text"?(e(),a("div",st)):r("v-if",!0),t.post.excerpt?(e(),a("div",{key:1,class:"markdown-body",op:"90",text:"left",w:"full",p:"x-6 lt-sm:4 y-2",innerHTML:t.post.excerpt},null,8,ot)):(e(),a("div",at))]),r(' <div m="b-5" /> '),t.post.excerpt?(e(),y(P,{key:0})):r("v-if",!0),t.post.url?(e(),a("a",{key:1,href:t.post.url,class:"post-link-btn shadow hover:shadow-md z-2",rounded:"",target:"_blank",m:"b-4"},z(o(s)("post.view_link")),9,nt)):r("v-if",!0)],2)]),r(" always show "),f("div",lt,[f("div",rt,[$(g,{m:"l-1",categories:t.post.categories},null,8,["categories"])]),t.post.tags?(e(),y(x,{key:0,m:"1",tags:t.post.tags},null,8,["tags"])):r("v-if",!0)])]),_:1},8,["class","style"])}}}),it={flex:"~ col",class:"yun-post-list gap-4",w:"full",p:"x-4 lt-sm:0"},ut={key:0,py2:"",op50:"","text-center":""},ht=T({__name:"YunPostList",props:{type:{},posts:{}},setup(t){const m=t,s=S(),n=c(()=>{var p;return((p=s.value)==null?void 0:p.curPage)||1}),d=B(),_=R(),i=c(()=>_.value.pageSize),v=c(()=>(m.posts||d.postList).filter(p=>!p.hide)),h=c(()=>v.value.slice((n.value-1)*i.value,n.value*i.value));return(p,w)=>{const l=ct,P=K;return e(),a(C,null,[f("div",it,[h.value.length?r("v-if",!0):(e(),a("div",ut," 博主还什么都没写哦～ ")),(e(!0),a(C,null,L(h.value,(g,x)=>(e(),y(l,{key:x,post:g},null,8,["post"]))),128))]),$(P,{ref_key:"paginationRef",ref:s,class:"mt-5",total:v.value.length,"page-size":i.value},null,8,["total","page-size"])],64)}}});export{ht as _};
