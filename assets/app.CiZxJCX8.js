const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/view-transition.IkvUpX_n.css","assets/404.DDAQiyBG.js","assets/chunks/vue-router.DKB-BOv1.js","assets/framework.COmLX_CU.js","assets/back.BzDXXcqW.js","assets/chunks/dayjs.CPPL_t8N.js","assets/chunks/vue-i18n.DJhGtnH1.js","assets/chunks/pinia.CI_tprmh.js","assets/chunks/@vueuse/motion.DAWx69iu.js","assets/chunks/nprogress.D6qpKeA8.js","assets/404.BVla_BTh.css","assets/empty.ByrUJOfQ.js","assets/post.CiIBo7Hc.js","assets/404.CPhxx1l6.js","assets/404.bv7ttf42.css","assets/albums.D_AMggd5.js","assets/index.CCHiKjah.js","assets/animation.DoHX50ws.js","assets/YunPageHeader.vue_vue_type_script_setup_true_lang.1oukcFwO.js","assets/albums.B673jvUl.css","assets/archives.DGU0LzQZ.js","assets/YunPostCollapse.vue_vue_type_style_index_0_lang.onNxto38.js","assets/YunPostCollapse.CLDXGmA8.css","assets/categories.DiWwvVrq.js","assets/animation.D6tBhojs.js","assets/index.BRXJGymZ.js","assets/collection.B_lX9ZZf.js","assets/collections.BGfkVKzr.js","assets/gallery.DOpwDIGc.js","assets/home.CP3EVxRQ.js","assets/YunNotice.DfTdwq4f.js","assets/YunNotice.DGd8zybC.css","assets/home.CBbSZJNn.css","assets/post.I9wVeG5G.js","assets/YunSponsor.vue_vue_type_style_index_0_lang.CjjaN2jr.js","assets/YunSponsor.BJOC5yvc.css","assets/YunPostMeta.vue_vue_type_style_index_0_lang.CjmEO_7e.js","assets/YunPostMeta.DCrVMfuT.css","assets/post.DDxwAI70.css","assets/posts.CCyt6KTi.js","assets/YunPostList.vue_vue_type_script_setup_true_lang.TULt7bdi.js","assets/post.gu2Hxqn_.js","assets/YunPostList.BfWGcc9d.css","assets/projects.BS3oVJdM.js","assets/YunComment.vue_vue_type_style_index_0_lang.6pzhrwWh.js","assets/index.C5okkQwF.js","assets/YunComment.Db0RBBmt.css","assets/projects.Dti-qd8N.css","assets/tags.DWvVrvpC.js","assets/projects.aYlZTEVr.js","assets/projects.DK6Td5Dh.css","assets/animation-in.BI4ri2UH.css","assets/index.6Ti_Yt4O.js","assets/Live2DApp.DRBNJdEk.js","assets/YunAlgoliaSearch.Yg8wST_B.js"])))=>i.map(i=>d[i]);
var ux=Object.defineProperty;var cx=(t,e,r)=>e in t?ux(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var qe=(t,e,r)=>cx(t,typeof e!="symbol"?e+"":e,r);import{G as ki,v as Dy,$ as hx,w as R,a0 as ad,D as _e,a1 as dx,a2 as fx,a3 as px,F as z,K as on,a4 as mx,y as as,C as j,J as vl,a5 as By,a6 as Mi,a7 as Fy,M as Qe,O as dn,U as Ny,V as Uy,_ as Fe,Z as gx,a8 as Mr,a9 as ft,aa as $,ab as ue,ac as N,ad as Hy,z as H,ae as lt,af as O,ag as me,A as Js,P as b,ah as Q,ai as Ds,L as Le,aj as Te,b as yx,ak as yi,al as we,am as fn,an as yo,ao as ld,ap as pn,aq as an,ar as zy,as as vx,at as _x,au as bx,av as xx,aw as wx,ax as Tx,ay as Sx,az as Ax,aA as Ex,aB as Cx,aC as Px,aD as kx,B as Mx}from"./framework.COmLX_CU.js";import{u as ud,a as $r,c as $x,b as Rx,d as Ix,r as cd,D as Ox}from"./chunks/vue-router.DKB-BOv1.js";import{d as Er,r as Lx,t as Dx,u as Bx,g as _l,c as Bs,a as Fx}from"./chunks/dayjs.CPPL_t8N.js";import{u as gt,c as Nx}from"./chunks/vue-i18n.DJhGtnH1.js";import{d as bl,i as Ux}from"./chunks/pinia.CI_tprmh.js";import{d as Hx,c as jy,M as zx}from"./chunks/@vueuse/motion.DAWx69iu.js";import{i as jx}from"./chunks/nprogress.D6qpKeA8.js";function Gy(t,e){const r=[],i=e.resolveKeyData||(s=>s.key),n=e.resolveValueData||(s=>s.value);for(const[s,o]of Object.entries(t))r.push(...(Array.isArray(o)?o:[o]).map(a=>{const l={key:s,value:a},u=n(l);return typeof u=="object"?Gy(u,e):Array.isArray(u)?u:{[typeof e.key=="function"?e.key(l):e.key]:i(l),[typeof e.value=="function"?e.value(l):e.value]:u}}).flat());return r}function Vy(t,e){return Object.entries(t).map(([r,i])=>{if(typeof i=="object"&&(i=Vy(i,e)),e.resolve){const n=e.resolve({key:r,value:i});if(typeof n<"u")return n}return typeof i=="number"&&(i=i.toString()),typeof i=="string"&&e.wrapValue&&(i=i.replace(new RegExp(e.wrapValue,"g"),`\\${e.wrapValue}`),i=`${e.wrapValue}${i}${e.wrapValue}`),`${r}${e.keyValueSeparator||""}${i}`}).join(e.entrySeparator||"")}const Gx=new Set(["title","titleTemplate","script","style","noscript"]),wa=new Set(["base","meta","link","style","script","noscript"]),Vx=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),Wx=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),Wy=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),Xx=typeof window<"u";function Qs(t){let e=9;for(let r=0;r<t.length;)e=Math.imul(e^t.charCodeAt(r++),9**9);return((e^e>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Ec(t){if(t._h)return t._h;if(t._d)return Qs(t._d);let e=`${t.tag}:${t.textContent||t.innerHTML||""}:`;for(const r in t.props)e+=`${r}:${String(t.props[r])},`;return Qs(e)}const ct=t=>({keyValue:t,metaKey:"property"}),ou=t=>({keyValue:t}),hd={appleItunesApp:{unpack:{entrySeparator:", ",resolve({key:t,value:e}){return`${Fr(t)}=${e}`}}},articleExpirationTime:ct("article:expiration_time"),articleModifiedTime:ct("article:modified_time"),articlePublishedTime:ct("article:published_time"),bookReleaseDate:ct("book:release_date"),charset:{metaKey:"charset"},contentSecurityPolicy:{unpack:{entrySeparator:"; ",resolve({key:t,value:e}){return`${Fr(t)} ${e}`}},metaKey:"http-equiv"},contentType:{metaKey:"http-equiv"},defaultStyle:{metaKey:"http-equiv"},fbAppId:ct("fb:app_id"),msapplicationConfig:ou("msapplication-Config"),msapplicationTileColor:ou("msapplication-TileColor"),msapplicationTileImage:ou("msapplication-TileImage"),ogAudioSecureUrl:ct("og:audio:secure_url"),ogAudioUrl:ct("og:audio"),ogImageSecureUrl:ct("og:image:secure_url"),ogImageUrl:ct("og:image"),ogSiteName:ct("og:site_name"),ogVideoSecureUrl:ct("og:video:secure_url"),ogVideoUrl:ct("og:video"),profileFirstName:ct("profile:first_name"),profileLastName:ct("profile:last_name"),profileUsername:ct("profile:username"),refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve({key:t,value:e}){if(t==="seconds")return`${e}`}}},robots:{unpack:{entrySeparator:", ",resolve({key:t,value:e}){return typeof e=="boolean"?`${Fr(t)}`:`${Fr(t)}:${e}`}}},xUaCompatible:{metaKey:"http-equiv"}},Xy=new Set(["og","book","article","profile"]);function Yy(t){var i;const e=Fr(t),r=e.indexOf(":");return Xy.has(e.substring(0,r))?"property":((i=hd[t])==null?void 0:i.metaKey)||"name"}function Yx(t){var e;return((e=hd[t])==null?void 0:e.keyValue)||Fr(t)}function Fr(t){const e=t.replace(/([A-Z])/g,"-$1").toLowerCase(),r=e.indexOf("-"),i=e.substring(0,r);return i==="twitter"||Xy.has(i)?t.replace(/([A-Z])/g,":$1").toLowerCase():e}function Cc(t){if(Array.isArray(t))return t.map(r=>Cc(r));if(typeof t!="object"||Array.isArray(t))return t;const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[Fr(r)]=Cc(t[r]));return e}function qx(t,e){const r=hd[e];return e==="refresh"?`${t.seconds};url=${t.url}`:Vy(Cc(t),{keyValueSeparator:"=",entrySeparator:", ",resolve({value:i,key:n}){if(i===null)return"";if(typeof i=="boolean")return`${n}`},...r==null?void 0:r.unpack})}const qy=new Set(["og:image","og:video","og:audio","twitter:image"]);function Ky(t){const e={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const i=t[r];String(i)!=="false"&&r&&(e[r]=i)}return e}function Pf(t,e){const r=Ky(e),i=Fr(t),n=Yy(i);if(qy.has(i)){const s={};for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&(s[`${t}${o==="url"?"":`${o[0].toUpperCase()}${o.slice(1)}`}`]=r[o]);return dd(s).sort((o,a)=>{var l,u;return(((l=o[n])==null?void 0:l.length)||0)-(((u=a[n])==null?void 0:u.length)||0)})}return[{[n]:i,...r}]}function dd(t){const e=[],r={};for(const n in t){if(!Object.prototype.hasOwnProperty.call(t,n))continue;const s=t[n];if(!Array.isArray(s)){if(typeof s=="object"&&s){if(qy.has(Fr(n))){e.push(...Pf(n,s));continue}r[n]=Ky(s)}else r[n]=s;continue}for(const o of s)e.push(...typeof o=="string"?dd({[n]:o}):Pf(n,o))}const i=Gy(r,{key({key:n}){return Yy(n)},value({key:n}){return n==="charset"?"charset":"content"},resolveKeyData({key:n}){return Yx(n)},resolveValueData({value:n,key:s}){return n===null?"_null":typeof n=="object"?qx(n,s):typeof n=="number"?n.toString():n}});return[...e,...i].map(n=>(n.content==="_null"&&(n.content=null),n))}function Kx(t,e){return t instanceof Promise?t.then(e):e(t)}function Pc(t,e,r,i){const n=i||Jy(typeof e=="object"&&typeof e!="function"&&!(e instanceof Promise)?{...e}:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},t==="templateParams"||t==="titleTemplate");if(n instanceof Promise)return n.then(o=>Pc(t,e,r,o));const s={tag:t,props:n};for(const o of Wy){const a=s.props[o]!==void 0?s.props[o]:r[o];a!==void 0&&((!(o==="innerHTML"||o==="textContent"||o==="children")||Gx.has(s.tag))&&(s[o==="children"?"innerHTML":o]=a),delete s.props[o])}return s.props.body&&(s.tagPosition="bodyClose",delete s.props.body),s.tag==="script"&&typeof s.innerHTML=="object"&&(s.innerHTML=JSON.stringify(s.innerHTML),s.props.type=s.props.type||"application/json"),Array.isArray(s.props.content)?s.props.content.map(o=>({...s,props:{...s.props,content:o}})):s}function Zx(t,e){var i;const r=t==="class"?" ":";";return e&&typeof e=="object"&&!Array.isArray(e)&&(e=Object.entries(e).filter(([,n])=>n).map(([n,s])=>t==="style"?`${n}:${s}`:n)),(i=String(Array.isArray(e)?e.join(r):e))==null?void 0:i.split(r).filter(n=>!!n.trim()).join(r)}function Zy(t,e,r,i){for(let n=i;n<r.length;n+=1){const s=r[n];if(s==="class"||s==="style"){t[s]=Zx(s,t[s]);continue}if(t[s]instanceof Promise)return t[s].then(o=>(t[s]=o,Zy(t,e,r,n)));if(!e&&!Wy.has(s)){const o=String(t[s]),a=s.startsWith("data-");o==="true"||o===""?t[s]=a?"true":!0:t[s]||(a&&o==="false"?t[s]="false":delete t[s])}}}function Jy(t,e=!1){const r=Zy(t,e,Object.keys(t),0);return r instanceof Promise?r.then(()=>t):t}const Jx=10;function Qy(t,e,r){for(let i=r;i<e.length;i+=1){const n=e[i];if(n instanceof Promise)return n.then(s=>(e[i]=s,Qy(t,e,i)));Array.isArray(n)?t.push(...n):t.push(n)}}function Qx(t){const e=[],r=t.resolvedInput;for(const n in r){if(!Object.prototype.hasOwnProperty.call(r,n))continue;const s=r[n];if(!(s===void 0||!Vx.has(n))){if(Array.isArray(s)){for(const o of s)e.push(Pc(n,o,t));continue}e.push(Pc(n,s,t))}}if(e.length===0)return[];const i=[];return Kx(Qy(i,e,0),()=>i.map((n,s)=>(n._e=t._i,t.mode&&(n._m=t.mode),n._p=(t._i<<Jx)+s,n)))}const kf=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),Mf={base:-10,title:10},$f={critical:-80,high:-10,low:20};function Fa(t){const e=t.tagPriority;if(typeof e=="number")return e;let r=100;return t.tag==="meta"?t.props["http-equiv"]==="content-security-policy"?r=-30:t.props.charset?r=-20:t.props.name==="viewport"&&(r=-15):t.tag==="link"&&t.props.rel==="preconnect"?r=20:t.tag in Mf&&(r=Mf[t.tag]),e&&e in $f?r+$f[e]:r}const ew=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],tw=["name","property","http-equiv"];function e0(t){const{props:e,tag:r}=t;if(Wx.has(r))return r;if(r==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(e.id)return`${r}:id:${e.id}`;for(const i of tw)if(e[i]!==void 0)return`${r}:${i}:${e[i]}`;return!1}const li="%separator";function rw(t,e,r=!1){var n;let i;if(e==="s"||e==="pageTitle")i=t.pageTitle;else if(e.includes(".")){const s=e.indexOf(".");i=(n=t[e.substring(0,s)])==null?void 0:n[e.substring(s+1)]}else i=t[e];if(i!==void 0)return r?(i||"").replace(/"/g,'\\"'):i||""}const iw=new RegExp(`${li}(?:\\s*${li})*`,"g");function Es(t,e,r,i=!1){if(typeof t!="string"||!t.includes("%"))return t;let n=t;try{n=decodeURI(t)}catch{}const s=n.match(/%\w+(?:\.\w+)?/g);if(!s)return t;const o=t.includes(li);return t=t.replace(/%\w+(?:\.\w+)?/g,a=>{if(a===li||!s.includes(a))return a;const l=rw(e,a.slice(1),i);return l!==void 0?l:a}).trim(),o&&(t.endsWith(li)&&(t=t.slice(0,-li.length)),t.startsWith(li)&&(t=t.slice(li.length)),t=t.replace(iw,r).trim()),t}function Rf(t,e){return t==null?e||null:typeof t=="function"?t(e):t}const nw=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,sw=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,ow=/^([/\\]\s*){2,}[^/\\]/,aw=/^\.?\//;function fd(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?nw.test(t):sw.test(t)||(e.acceptRelative?ow.test(t):!1)}function kc(t="",e){return t.endsWith("/")}function pd(t="",e){return(kc(t)?t.slice(0,-1):t)||"/"}function t0(t="",e){return t.endsWith("/")?t:t+"/"}function Zt(t,e){if(lw(e)||fd(t))return t;const r=pd(e);if(t.startsWith(r)){const i=t[r.length];if(!i||i==="/"||i==="?")return t}return r0(r,t)}function lw(t){return!t||t==="/"}function uw(t){return t&&t!=="/"}function r0(t,...e){let r=t||"";for(const i of e.filter(n=>uw(n)))if(r){const n=i.replace(aw,"");r=t0(r)+n}else r=i;return r}const If=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function cw(t,e){e?e={...If,...e}:e=If;const r=i0(e);return r.dispatch(t),r.toString()}const hw=Object.freeze(["prototype","__proto__","constructor"]);function i0(t){let e="",r=new Map;const i=n=>{e+=n};return{toString(){return e},getContext(){return r},dispatch(n){return t.replacer&&(n=t.replacer(n)),this[n===null?"null":typeof n](n)},object(n){if(n&&typeof n.toJSON=="function")return this.object(n.toJSON());const s=Object.prototype.toString.call(n);let o="";const a=s.length;a<10?o="unknown:["+s+"]":o=s.slice(8,a-1),o=o.toLowerCase();let l=null;if((l=r.get(n))===void 0)r.set(n,r.size);else return this.dispatch("[CIRCULAR:"+l+"]");if(typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(n))return i("buffer:"),i(n.toString("utf8"));if(o!=="object"&&o!=="function"&&o!=="asyncfunction")this[o]?this[o](n):t.ignoreUnknown||this.unkown(n,o);else{let u=Object.keys(n);t.unorderedObjects&&(u=u.sort());let c=[];t.respectType!==!1&&!Of(n)&&(c=hw),t.excludeKeys&&(u=u.filter(d=>!t.excludeKeys(d)),c=c.filter(d=>!t.excludeKeys(d))),i("object:"+(u.length+c.length)+":");const h=d=>{this.dispatch(d),i(":"),t.excludeValues||this.dispatch(n[d]),i(",")};for(const d of u)h(d);for(const d of c)h(d)}},array(n,s){if(s=s===void 0?t.unorderedArrays!==!1:s,i("array:"+n.length+":"),!s||n.length<=1){for(const l of n)this.dispatch(l);return}const o=new Map,a=n.map(l=>{const u=i0(t);u.dispatch(l);for(const[c,h]of u.getContext())o.set(c,h);return u.toString()});return r=o,a.sort(),this.array(a,!1)},date(n){return i("date:"+n.toJSON())},symbol(n){return i("symbol:"+n.toString())},unkown(n,s){if(i(s),!!n&&(i(":"),n&&typeof n.entries=="function"))return this.array(Array.from(n.entries()),!0)},error(n){return i("error:"+n.toString())},boolean(n){return i("bool:"+n)},string(n){i("string:"+n.length+":"),i(n)},function(n){i("fn:"),Of(n)?this.dispatch("[native]"):this.dispatch(n.toString()),t.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(n.name)),t.respectFunctionProperties&&this.object(n)},number(n){return i("number:"+n)},xml(n){return i("xml:"+n.toString())},null(){return i("Null")},undefined(){return i("Undefined")},regexp(n){return i("regex:"+n.toString())},uint8array(n){return i("uint8array:"),this.dispatch(Array.prototype.slice.call(n))},uint8clampedarray(n){return i("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(n))},int8array(n){return i("int8array:"),this.dispatch(Array.prototype.slice.call(n))},uint16array(n){return i("uint16array:"),this.dispatch(Array.prototype.slice.call(n))},int16array(n){return i("int16array:"),this.dispatch(Array.prototype.slice.call(n))},uint32array(n){return i("uint32array:"),this.dispatch(Array.prototype.slice.call(n))},int32array(n){return i("int32array:"),this.dispatch(Array.prototype.slice.call(n))},float32array(n){return i("float32array:"),this.dispatch(Array.prototype.slice.call(n))},float64array(n){return i("float64array:"),this.dispatch(Array.prototype.slice.call(n))},arraybuffer(n){return i("arraybuffer:"),this.dispatch(new Uint8Array(n))},url(n){return i("url:"+n.toString())},map(n){i("map:");const s=[...n];return this.array(s,t.unorderedSets!==!1)},set(n){i("set:");const s=[...n];return this.array(s,t.unorderedSets!==!1)},file(n){return i("file:"),this.dispatch([n.name,n.size,n.type,n.lastModfied])},blob(){if(t.ignoreUnknown)return i("[blob]");throw new Error(`Hashing Blob objects is currently not supported
Use "options.replacer" or "options.ignoreUnknown"
`)},domwindow(){return i("domwindow")},bigint(n){return i("bigint:"+n.toString())},process(){return i("process")},timer(){return i("timer")},pipe(){return i("pipe")},tcp(){return i("tcp")},udp(){return i("udp")},tty(){return i("tty")},statwatcher(){return i("statwatcher")},securecontext(){return i("securecontext")},connection(){return i("connection")},zlib(){return i("zlib")},context(){return i("context")},nodescript(){return i("nodescript")},httpparser(){return i("httpparser")},dataview(){return i("dataview")},signal(){return i("signal")},fsevent(){return i("fsevent")},tlswrap(){return i("tlswrap")}}}const n0="[native code] }",dw=n0.length;function Of(t){return typeof t!="function"?!1:Function.prototype.toString.call(t).slice(-dw)===n0}class vi{constructor(e,r){qe(this,"words");qe(this,"sigBytes");e=this.words=e||[],this.sigBytes=r===void 0?e.length*4:r}toString(e){return(e||fw).stringify(this)}concat(e){if(this.clamp(),this.sigBytes%4)for(let r=0;r<e.sigBytes;r++){const i=e.words[r>>>2]>>>24-r%4*8&255;this.words[this.sigBytes+r>>>2]|=i<<24-(this.sigBytes+r)%4*8}else for(let r=0;r<e.sigBytes;r+=4)this.words[this.sigBytes+r>>>2]=e.words[r>>>2];return this.sigBytes+=e.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new vi([...this.words])}}const fw={stringify(t){const e=[];for(let r=0;r<t.sigBytes;r++){const i=t.words[r>>>2]>>>24-r%4*8&255;e.push((i>>>4).toString(16),(i&15).toString(16))}return e.join("")}},pw={stringify(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=[];for(let i=0;i<t.sigBytes;i+=3){const n=t.words[i>>>2]>>>24-i%4*8&255,s=t.words[i+1>>>2]>>>24-(i+1)%4*8&255,o=t.words[i+2>>>2]>>>24-(i+2)%4*8&255,a=n<<16|s<<8|o;for(let l=0;l<4&&i*8+l*6<t.sigBytes*8;l++)r.push(e.charAt(a>>>6*(3-l)&63))}return r.join("")}},mw={parse(t){const e=t.length,r=[];for(let i=0;i<e;i++)r[i>>>2]|=(t.charCodeAt(i)&255)<<24-i%4*8;return new vi(r,e)}},gw={parse(t){return mw.parse(unescape(encodeURIComponent(t)))}};class yw{constructor(){qe(this,"_data",new vi);qe(this,"_nDataBytes",0);qe(this,"_minBufferSize",0);qe(this,"blockSize",512/32)}reset(){this._data=new vi,this._nDataBytes=0}_append(e){typeof e=="string"&&(e=gw.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_doProcessBlock(e,r){}_process(e){let r,i=this._data.sigBytes/(this.blockSize*4);e?i=Math.ceil(i):i=Math.max((i|0)-this._minBufferSize,0);const n=i*this.blockSize,s=Math.min(n*4,this._data.sigBytes);if(n){for(let o=0;o<n;o+=this.blockSize)this._doProcessBlock(this._data.words,o);r=this._data.words.splice(0,n),this._data.sigBytes-=s}return new vi(r,s)}}class vw extends yw{update(e){return this._append(e),this._process(),this}finalize(e){e&&this._append(e)}}const Lf=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],_w=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Bi=[];class bw extends vw{constructor(){super(...arguments);qe(this,"_hash",new vi([...Lf]))}reset(){super.reset(),this._hash=new vi([...Lf])}_doProcessBlock(r,i){const n=this._hash.words;let s=n[0],o=n[1],a=n[2],l=n[3],u=n[4],c=n[5],h=n[6],d=n[7];for(let f=0;f<64;f++){if(f<16)Bi[f]=r[i+f]|0;else{const w=Bi[f-15],S=(w<<25|w>>>7)^(w<<14|w>>>18)^w>>>3,x=Bi[f-2],T=(x<<15|x>>>17)^(x<<13|x>>>19)^x>>>10;Bi[f]=S+Bi[f-7]+T+Bi[f-16]}const p=u&c^~u&h,m=s&o^s&a^o&a,g=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),v=(u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25),_=d+v+p+_w[f]+Bi[f],y=g+m;d=h,h=c,c=u,u=l+_|0,l=a,a=o,o=s,s=_+y|0}n[0]=n[0]+s|0,n[1]=n[1]+o|0,n[2]=n[2]+a|0,n[3]=n[3]+l|0,n[4]=n[4]+u|0,n[5]=n[5]+c|0,n[6]=n[6]+h|0,n[7]=n[7]+d|0}finalize(r){super.finalize(r);const i=this._nDataBytes*8,n=this._data.sigBytes*8;return this._data.words[n>>>5]|=128<<24-n%32,this._data.words[(n+64>>>9<<4)+14]=Math.floor(i/4294967296),this._data.words[(n+64>>>9<<4)+15]=i,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function xw(t){return new bw().finalize(t).toString(pw)}function xl(t,e={}){const r=typeof t=="string"?t:cw(t,e);return xw(r).slice(0,10)}function ww(t){return t}function be(t){return{"@id":typeof t!="string"?t["@id"]:t}}function md(t){try{const e=t instanceof Date?t:new Date(Date.parse(t));return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`}catch{}return typeof t=="string"?t:t.toString()}const Tw=[/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,/^\d{4}-[01]\d-[0-3]\d$/,/^\d{4}-[01]\d$/,/^\d{4}$/];function Sw(t){return Tw.some(e=>e.test(t))}function Vr(t){if(!t)return t;try{return t instanceof Date?t.toISOString():Sw(t)?t:new Date(Date.parse(t)).toISOString()}catch{}return typeof t=="string"?t:t.toString()}const pt="#identity";function ie(t,e,r){!(t!=null&&t[e])&&r&&(t[e]=r)}function ir(t){return Array.isArray(t)?t:[t]}function Aw(t,e,r){const i=new Set(ir(t[e]));i.add(r),t[e]=[...i].filter(Boolean)}function Fs(t,e){return fd(e)?e:(e.includes("#")||(e=`#${e}`),Zt(e,t))}function Ew(t,e){if(!t)return t;if(t.length>e){const r=t.substring(0,e);return r.substring(0,Math.min(r.length,r.lastIndexOf(" ")))}return t}function ls(t,e){const r=t["@type"];if(r===e)return;const i=new Set([...ir(e),...ir(r)]);t["@type"]=i.size===1?r:[...i.values()]}function Wr(t,e){return!e||fd(e)||e[0]!=="/"&&e[0]!=="#"?e:Zt(e,t)}function us(t){return t&&t.substring(t.lastIndexOf("#"))}function s0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){if(t[e]&&typeof t[e]=="object"){if(t[e].__v_isReadonly||t[e].__v_isRef)return;s0(t[e]);return}(t[e]===""||t[e]===null||t[e]===void 0)&&delete t[e]}return t}const Mc={cast(t){return typeof t=="number"?{value:t}:t},defaults:{"@type":"QuantitativeValue"}},gd={defaults:{"@type":"MonetaryAmount"},resolve(t,e){return typeof t.value!="number"&&(t.value=q(t.value,e,Mc)),t}},Cw={defaults:{"@type":"MerchantReturnPolicy"},resolve(t,e){return t.returnPolicyCategory&&(t.returnPolicyCategory=Zt(t.returnPolicyCategory,"https://schema.org/")),t.returnFees&&(t.returnFees=Zt(t.returnFees,"https://schema.org/")),t.returnMethod&&(t.returnMethod=Zt(t.returnMethod,"https://schema.org/")),t.returnShippingFeesAmount=q(t.returnShippingFeesAmount,e,gd),t}},Pw={defaults:{"@type":"DefinedRegion"}},kw={defaults:{"@type":"ShippingDeliveryTime"},resolve(t,e){return t.handlingTime=q(t.handlingTime,e,Mc),t.transitTime=q(t.transitTime,e,Mc),t}},Mw={defaults:{"@type":"OfferShippingDetails"},resolve(t,e){return t.deliveryTime=q(t.deliveryTime,e,kw),t.shippingDestination=q(t.shippingDestination,e,Pw),t.shippingRate=q(t.shippingRate,e,gd),t}},cs={cast(t){return typeof t=="number"||typeof t=="string"?{price:t}:t},defaults:{"@type":"Offer",availability:"InStock"},resolve(t,e){return ie(t,"priceCurrency",e.meta.currency),ie(t,"priceValidUntil",new Date(Date.UTC(new Date().getFullYear()+1,12,-1,0,0,0))),t.url&&Wr(e.meta.host,t.url),t.availability&&(t.availability=Zt(t.availability,"https://schema.org/")),t.itemCondition&&(t.itemCondition=Zt(t.itemCondition,"https://schema.org/")),t.priceValidUntil&&(t.priceValidUntil=Vr(t.priceValidUntil)),t.hasMerchantReturnPolicy=q(t.hasMerchantReturnPolicy,e,Cw),t.shippingDetails=q(t.shippingDetails,e,Mw),t}},yd={defaults:{"@type":"AggregateOffer"},inheritMeta:[{meta:"currency",key:"priceCurrency"}],resolve(t,e){return t.offers=q(t.offers,e,cs),t.offers&&ie(t,"offerCount",ir(t.offers).length),t}},vo={defaults:{"@type":"AggregateRating"}},wl={cast(t){return typeof t=="string"&&(t={name:t}),t},defaults:{"@type":"ListItem"},resolve(t,e){return typeof t.item=="string"?t.item=Wr(e.meta.host,t.item):typeof t.item=="object"&&(t.item=q(t.item,e)),t}},vd="#breadcrumb",_d={defaults:{"@type":"BreadcrumbList"},idPrefix:["url",vd],resolve(t,e){if(t.itemListElement){let r=1;t.itemListElement=q(t.itemListElement,e,wl,{array:!0,afterResolve(i){ie(i,"position",r++)}})}return t},resolveRootNode(t,{find:e}){const r=e(Nt);r&&ie(r,"breadcrumb",be(t))}},wi={alias:"image",cast(t){return typeof t=="string"&&(t={url:t}),t},defaults:{"@type":"ImageObject"},inheritMeta:["inLanguage"],idPrefix:"host",resolve(t,{meta:e}){return t.url=Wr(e.host,t.url),ie(t,"contentUrl",t.url),t.height&&!t.width&&delete t.height,t.width&&!t.height&&delete t.width,t}},_o={defaults:{"@type":"PostalAddress"}},bd={defaults:{"@type":"SearchAction",target:{"@type":"EntryPoint"},"query-input":{"@type":"PropertyValueSpecification",valueRequired:!0,valueName:"search_term_string"}},resolve(t,e){return typeof t.target=="string"&&(t.target={"@type":"EntryPoint",urlTemplate:Wr(e.meta.host,t.target)}),t}},Qn="#website",o0={defaults:{"@type":"WebSite"},inheritMeta:["inLanguage",{meta:"host",key:"url"}],idPrefix:["host",Qn],resolve(t,e){return t.potentialAction=q(t.potentialAction,e,bd,{array:!0}),t.publisher=q(t.publisher,e),t},resolveRootNode(t,{find:e}){if(us(t["@id"])===Qn){const r=e(pt);r&&ie(t,"publisher",be(r));const i=e(Nt);i&&ie(i,"isPartOf",be(t))}return t}},Ti={defaults:{"@type":"Organization"},idPrefix:["host",pt],inheritMeta:[{meta:"host",key:"url"}],resolve(t,e){return ls(t,"Organization"),t.address=q(t.address,e,_o),t},resolveRootNode(t,e){const r=us(t["@id"])===pt,i=e.find(Nt);if(t.logo&&r){if(!e.find("#organization")){const s=q(t.logo,e,wi,{root:!0,afterResolve(o){o["@id"]=Fs(e.meta.host,"#logo"),ie(o,"caption",t.name)}});i&&s&&ie(i,"primaryImageOfPage",be(s)),e.nodes.push({"@type":"Organization",name:t.name,url:t.url,sameAs:t.sameAs,address:t.address,logo:q(t.logo,e,wi,{root:!1}).url,_priority:-1,"@id":Fs(e.meta.host,"#organization")})}delete t.logo}r&&i&&ie(i,"about",be(t));const n=e.find(Qn);n&&ie(n,"publisher",be(t))}},xd={defaults:{"@type":"ReadAction"},resolve(t,e){return t.target.includes(e.meta.url)||t.target.unshift(e.meta.url),t}},Nt="#webpage",a0={defaults({meta:t}){const e=pd(t.url.substring(t.url.lastIndexOf("/")+1));let r="WebPage";switch(e){case"about":case"about-us":r="AboutPage";break;case"search":r="SearchResultsPage";break;case"checkout":r="CheckoutPage";break;case"contact":case"get-in-touch":case"contact-us":r="ContactPage";break;case"faq":r="FAQPage";break}return{"@type":r}},idPrefix:["url",Nt],inheritMeta:[{meta:"title",key:"name"},"description","datePublished","dateModified","url"],resolve(t,e){return t.dateModified=Vr(t.dateModified),t.datePublished=Vr(t.datePublished),ls(t,"WebPage"),t.about=q(t.about,e,Ti),t.breadcrumb=q(t.breadcrumb,e,_d),t.author=q(t.author,e,Xr),t.primaryImageOfPage=q(t.primaryImageOfPage,e,wi),t.potentialAction=q(t.potentialAction,e,xd),t["@type"]==="WebPage"&&e.meta.url&&ie(t,"potentialAction",[{"@type":"ReadAction",target:[e.meta.url]}]),t},resolveRootNode(t,{find:e,meta:r}){const i=e(pt),n=e(Qn),s=e("#logo");i&&r.url===r.host&&ie(t,"about",be(i)),s&&ie(t,"primaryImageOfPage",be(s)),n&&ie(t,"isPartOf",be(n));const o=e(vd);return o&&ie(t,"breadcrumb",be(o)),t}},Xr={cast(t){return typeof t=="string"?{name:t}:t},defaults:{"@type":"Person"},idPrefix:["host",pt],resolve(t,e){return t.url&&(t.url=Wr(e.meta.host,t.url)),t},resolveRootNode(t,{find:e,meta:r}){if(us(t["@id"])===pt){ie(t,"url",r.host);const n=e(Nt);n&&ie(n,"about",be(t));const s=e(Qn);s&&ie(s,"publisher",be(t))}const i=e(bo);i&&ie(i,"author",be(t))}},bo="#article",l0={defaults:{"@type":"Article"},inheritMeta:["inLanguage","description","image","dateModified","datePublished",{meta:"title",key:"headline"}],idPrefix:["url",bo],resolve(t,e){return t.author=q(t.author,e,Xr,{root:!0}),t.publisher=q(t.publisher,e),t.dateModified=Vr(t.dateModified),t.datePublished=Vr(t.datePublished),ls(t,"Article"),t.headline=Ew(t.headline,110),t},resolveRootNode(t,{find:e,meta:r}){var s;const i=e(Nt),n=e(pt);if(t.image&&!t.thumbnailUrl){const o=ir(t.image)[0];typeof o=="string"?ie(t,"thumbnailUrl",Wr(r.host,o)):o!=null&&o["@id"]&&ie(t,"thumbnailUrl",(s=e(o["@id"]))==null?void 0:s.url)}return n&&(ie(t,"publisher",be(n)),ie(t,"author",be(n))),i&&(ie(t,"isPartOf",be(i)),ie(t,"mainEntityOfPage",be(i)),ie(i,"potentialAction",[{"@type":"ReadAction",target:[r.url]}]),ie(i,"dateModified",t.dateModified),ie(i,"datePublished",t.datePublished)),t}},wd={defaults:{"@type":"Book"},inheritMeta:["inLanguage"],resolve(t,e){return t.bookFormat&&(t.bookFormat=Zt(t.bookFormat,"https://schema.org/")),t.datePublished&&(t.datePublished=md(t.datePublished)),t.author=q(t.author,e),t},resolveRootNode(t,{find:e}){const r=e(pt);return r&&ie(t,"provider",be(r)),t}},u0="#book",c0={defaults:{"@type":"Book"},inheritMeta:["description","url",{meta:"title",key:"name"}],idPrefix:["url",u0],resolve(t,e){return t.workExample=q(t.workExample,e,wd),t.author=q(t.author,e),t.url&&Zt(t.url,e.meta.host),t},resolveRootNode(t,{find:e}){const r=e(pt);return r&&ie(t,"author",be(r)),t}},h0={defaults:{"@type":"Comment"},idPrefix:"url",resolve(t,e){return t.author=q(t.author,e,Xr,{root:!0}),t},resolveRootNode(t,{find:e}){const r=e(bo);r&&ie(t,"about",be(r))}},d0={defaults:{"@type":"Course"},resolve(t,e){return t.provider=q(t.provider,e,Ti,{root:!0}),t},resolveRootNode(t,{find:e}){const r=e(pt);return r&&ie(t,"provider",be(r)),t}},Tl={defaults:{"@type":"Place"},resolve(t,e){return typeof t.address!="string"&&(t.address=q(t.address,e,_o)),t}},Td={cast(t){return typeof t=="string"?{url:t}:t},defaults:{"@type":"VirtualLocation"}},f0="#event",p0={defaults:{"@type":"Event"},inheritMeta:["inLanguage","description","image",{meta:"title",key:"name"}],idPrefix:["url",f0],resolve(t,e){var n;if(t.location){const s=t.location==="string"||((n=t.location)==null?void 0:n.url)!=="undefined";t.location=q(t.location,e,s?Td:Tl)}t.performer=q(t.performer,e,Xr,{root:!0}),t.organizer=q(t.organizer,e,Ti,{root:!0}),t.offers=q(t.offers,e,cs),t.eventAttendanceMode&&(t.eventAttendanceMode=Zt(t.eventAttendanceMode,"https://schema.org/")),t.eventStatus&&(t.eventStatus=Zt(t.eventStatus,"https://schema.org/"));const r=t.eventStatus==="https://schema.org/EventMovedOnline";return["startDate","previousStartDate","endDate"].forEach(s=>{r?t[s]=Vr(t[s]):t[s]instanceof Date&&t[s].getHours()===0&&t[s].getMinutes()===0&&(t[s]=md(t[s]))}),ie(t,"endDate",t.startDate),t},resolveRootNode(t,{find:e}){const r=e(pt);r&&ie(t,"organizer",be(r))}},Sd={defaults:{"@type":"OpeningHoursSpecification",opens:"00:00",closes:"23:59"}},Na={defaults:{"@type":["Organization","LocalBusiness"]},inheritMeta:[{key:"url",meta:"host"},{key:"currenciesAccepted",meta:"currency"}],idPrefix:["host",pt],resolve(t,e){return ls(t,["Organization","LocalBusiness"]),t.address=q(t.address,e,_o),t.openingHoursSpecification=q(t.openingHoursSpecification,e,Sd),t=wo({...t},e,Ti),t},resolveRootNode(t,e){return Ti.resolveRootNode(t,e),t}},Ad={cast(t){return t==="number"?{ratingValue:t}:t},defaults:{"@type":"Rating",bestRating:5,worstRating:1}},m0={defaults:{"@type":["Organization","LocalBusiness","FoodEstablishment"]},inheritMeta:[{key:"url",meta:"host"},{key:"currenciesAccepted",meta:"currency"}],idPrefix:["host",pt],resolve(t,e){return ls(t,["Organization","LocalBusiness","FoodEstablishment"]),t.starRating=q(t.starRating,e,Ad),t=wo(t,e,Na),t},resolveRootNode(t,e){return Na.resolveRootNode(t,e),t}},g0={cast(t){return typeof t=="string"?{text:t}:t},defaults:{"@type":"HowToDirection"}},Sl={cast(t){return typeof t=="string"?{text:t}:t},defaults:{"@type":"HowToStep"},resolve(t,e){return t.url&&(t.url=Wr(e.meta.url,t.url)),t.image&&(t.image=q(t.image,e,wi,{root:!0})),t.itemListElement&&(t.itemListElement=q(t.itemListElement,e,g0)),t}},y0="#howto",v0={defaults:{"@type":"HowTo"},inheritMeta:["description","image","inLanguage",{meta:"title",key:"name"}],idPrefix:["url",y0],resolve(t,e){return t.step=q(t.step,e,Sl),t},resolveRootNode(t,{find:e}){const r=e(Nt);r&&ie(t,"mainEntityOfPage",be(r))}},_0={defaults:{"@type":"ItemList"},resolve(t,e){if(t.itemListElement){let r=1;t.itemListElement=q(t.itemListElement,e,wl,{array:!0,afterResolve(i){ie(i,"position",r++)}})}return t}},b0={defaults:{"@type":"JobPosting"},idPrefix:["url","#job-posting"],resolve(t,e){return t.datePosted=Vr(t.datePosted),t.hiringOrganization=q(t.hiringOrganization,e,Ti),t.jobLocation=q(t.jobLocation,e,Tl),t.baseSalary=q(t.baseSalary,e,gd),t.validThrough=Vr(t.validThrough),t},resolveRootNode(t,{find:e}){const r=e(Nt),i=e(pt);return i&&ie(t,"hiringOrganization",be(i)),r&&ie(t,"mainEntityOfPage",be(r)),t}},xo={defaults:{"@type":"Review"},inheritMeta:["inLanguage"],resolve(t,e){return t.reviewRating=q(t.reviewRating,e,Ad),t.author=q(t.author,e,Xr),t}},Ed={cast(t){return typeof t=="string"&&(t={url:t}),t},alias:"video",defaults:{"@type":"VideoObject"},inheritMeta:[{meta:"title",key:"name"},"description","image","inLanguage",{meta:"datePublished",key:"uploadDate"}],idPrefix:"host",resolve(t,e){if(t.uploadDate&&(t.uploadDate=Vr(t.uploadDate)),t.url=Wr(e.meta.host,t.url),t.caption&&!t.description&&(t.description=t.caption),t.description||(t.description="No description"),t.thumbnailUrl&&(typeof t.thumbnailUrl=="string"||Array.isArray(t.thumbnailUrl))){const r=ir(t.thumbnailUrl).map(i=>Wr(e.meta.host,i));t.thumbnailUrl=r.length>1?r:r[0]}return t.thumbnail&&(t.thumbnail=q(t.thumbnailUrl,e,wi)),t},resolveRootNode(t,{find:e}){var r;if(t.image&&!t.thumbnail){const i=ir(t.image)[0];ie(t,"thumbnail",(r=e(i["@id"]))==null?void 0:r.url)}}},x0={defaults:{"@type":"Movie"},resolve(t,e){return t.aggregateRating=q(t.aggregateRating,e,vo),t.review=q(t.review,e,xo),t.director=q(t.director,e,Xr),t.actor=q(t.actor,e,Xr),t.trailer=q(t.trailer,e,Ed),t.dateCreated&&(t.dateCreated=md(t.dateCreated)),t}},w0="#product",T0={defaults:{"@type":"Product"},inheritMeta:["description","image",{meta:"title",key:"name"}],idPrefix:["url",w0],resolve(t,e){return ie(t,"sku",xl(t.name)),t.aggregateOffer=q(t.aggregateOffer,e,yd),t.aggregateRating=q(t.aggregateRating,e,vo),t.offers=q(t.offers,e,cs),t.review=q(t.review,e,xo),t},resolveRootNode(t,{find:e}){const r=e(Nt),i=e(pt);return i&&ie(t,"brand",be(i)),r&&ie(t,"mainEntityOfPage",be(r)),t}},$w={cast(t){return typeof t=="string"?{text:t}:t},defaults:{"@type":"Answer"}},S0={defaults:{"@type":"Question"},inheritMeta:["inLanguage"],idPrefix:"url",resolve(t,e){return t.question&&(t.name=t.question,delete t.question),t.answer&&(t.acceptedAnswer=t.answer,delete t.answer),t.acceptedAnswer=q(t.acceptedAnswer,e,$w),t},resolveRootNode(t,{find:e}){const r=e(Nt);r&&ir(r["@type"]).includes("FAQPage")&&Aw(r,"mainEntity",be(t))}},A0="#recipe",E0={defaults:{"@type":"Recipe"},inheritMeta:[{meta:"title",key:"name"},"description","image","datePublished"],idPrefix:["url",A0],resolve(t,e){return t.recipeInstructions=q(t.recipeInstructions,e,Sl),t},resolveRootNode(t,{find:e}){const r=e(bo),i=e(Nt);return r?ie(t,"mainEntityOfPage",be(r)):i&&ie(t,"mainEntityOfPage",be(i)),r!=null&&r.author&&ie(t,"author",r.author),t}},C0={defaults:{"@type":"SoftwareApplication"},resolve(t,e){return ls(t,"SoftwareApplication"),t.offers=q(t.offers,e,cs),t.aggregateRating=q(t.aggregateRating,e,vo),t.review=q(t.review,e,xo),t}};function P0(t){switch(t){case"address":return _o;case"aggregateOffer":return yd;case"aggregateRating":return vo;case"article":return l0;case"breadcrumb":return _d;case"comment":return h0;case"event":return p0;case"foodEstablishment":return m0;case"virtualLocation":return Td;case"place":return Tl;case"howTo":return v0;case"howToStep":return Sl;case"image":return wi;case"localBusiness":return Na;case"offer":return cs;case"openingHours":return Sd;case"organization":return Ti;case"person":return Xr;case"product":return T0;case"question":return S0;case"recipe":return E0;case"review":return xo;case"video":return Ed;case"webPage":return a0;case"webSite":return o0;case"book":return c0;case"course":return d0;case"itemList":return _0;case"jobPosting":return b0;case"listItem":return wl;case"movie":return x0;case"searchAction":return bd;case"readAction":return xd;case"softwareApp":return C0;case"bookEdition":return wd}return null}const Rw={__proto__:null,loadResolver:P0};function Cd(t){return!t.host&&t.canonicalHost&&(t.host=t.canonicalHost),!t.tagPosition&&t.position&&(t.tagPosition=t.position),!t.currency&&t.defaultCurrency&&(t.currency=t.defaultCurrency),!t.inLanguage&&t.defaultLanguage&&(t.inLanguage=t.defaultLanguage),t.path||(t.path="/"),!t.host&&typeof document<"u"&&(t.host=document.location.host),!t.url&&t.canonicalUrl&&(t.url=t.canonicalUrl),t.path!=="/"&&(t.trailingSlash&&!kc(t.path)?t.path=t0(t.path):!t.trailingSlash&&kc(t.path)&&(t.path=pd(t.path))),t.url=r0(t.host||"",t.path),{...t,host:t.host,url:t.url,currency:t.currency,image:t.image,inLanguage:t.inLanguage,title:t.title,description:t.description,datePublished:t.datePublished,dateModified:t.dateModified}}function wo(t,e,r){var i;if(r!=null&&r.cast&&(t=r.cast(t,e)),r!=null&&r.defaults){let n=r.defaults||{};typeof n=="function"&&(n=n(e)),t={...n,...t}}(i=r==null?void 0:r.inheritMeta)==null||i.forEach(n=>{typeof n=="string"?ie(t,n,e.meta[n]):ie(t,n.key,e.meta[n.meta])}),r!=null&&r.resolve&&(t=r.resolve(t,e));for(const n in t){const s=t[n];Array.isArray(s)&&s.forEach((o,a)=>{typeof o=="object"&&(o!=null&&o._resolver)&&(t[n][a]=q(o,e,o._resolver))}),typeof s=="object"&&(s!=null&&s._resolver)&&(t[n]=q(s,e,s._resolver))}return s0(t),t}function Ua(t,e,r,i=!1){var l,u,c,h;if(t["@id"]&&t["@id"].startsWith("http"))return t;const n=r&&(Array.isArray(r.idPrefix)?r.idPrefix[0]:r.idPrefix)||"url",s=t["@id"]||(r?Array.isArray(r.idPrefix)?(l=r.idPrefix)==null?void 0:l[1]:void 0:"");if(!t["@id"]&&i&&s)return t["@id"]=Fs(e.meta[n],s),t;if((u=t["@id"])!=null&&u.startsWith("#/schema/")||(c=t["@id"])!=null&&c.startsWith("/"))return t["@id"]=Fs(e.meta[n],t["@id"]),t;let o=r==null?void 0:r.alias;o||(o=(((h=ir(t["@type"]))==null?void 0:h[0])||"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase());const a={};for(const d in t)d[0]!=="_"&&Object.prototype.hasOwnProperty.call(t,d)&&(a[d]=t[d]);return t["@id"]=Fs(e.meta[n],`#/schema/${o}/${t["@id"]||Qs(JSON.stringify(a))}`),t}function q(t,e,r,i={}){if(!t)return t;const n=ir(t).map(s=>{var u;const o=Object.keys(s).length;if(o===1&&s["@id"]||o===2&&s["@id"]&&s["@type"])return Ua({"@id":((u=e.find(s["@id"]))==null?void 0:u["@id"])||s["@id"]},e);let a=r;if(s._resolver&&(a=s._resolver,typeof a=="string"&&(a=P0(a)),delete s._resolver),!a)return s;let l=wo(s,e,a);return i.afterResolve&&i.afterResolve(l),(i.generateId||i.root)&&(l=Ua(l,e,a,!1)),i.root?(a.resolveRootNode&&a.resolveRootNode(l,e),e.push(l),be(l["@id"])):l});return!i.array&&n.length===1?n[0]:n}function k0(t,e){return t.reduce((r,i,n,s)=>{const o=e(i,n,s);return r[o]||(r[o]=[]),r[o].push(i),r},{})}function Iw(t,e){return Object.values(k0(t,e)).map(r=>r[r.length-1])}const Pd=jy((t,e,r)=>{if(Array.isArray(t[e])){if(Array.isArray(r)){const i={};for(const n of[...t[e],...r])i[xl(n)]=n;return t[e]=Object.values(i),e==="itemListElement"&&(t[e]=[...Iw(t[e],n=>n.position)]),!0}return t[e]=Pd(t[e],Array.isArray(r)?r:[r]),!0}});function M0(t){const e={};for(const r of t.keys()){const i=t[r],n=us(i["@id"]||xl(i));e[n]&&i._dedupeStrategy!=="replace"?e[n]=Pd(t[r],e[n]):e[n]=t[r]}return Object.values(e)}function $0(t){const e=t.keys(),r={};for(const i of e){const n=t[i],s=us(n["@id"]||xl(n)),o=k0(Object.keys(n),u=>{const c=n[u];return u[0]==="_"?"ignored":Array.isArray(c)||typeof c=="object"?"relations":"primitives"}),a=[...(o.primitives||[]).sort(),...(o.relations||[]).sort()];let l={};for(const u of a)l[u]=n[u];r[s]&&(l=Pd(l,r[s])),r[s]=l}return Object.values(r)}const Ow=["translationOfWork","workTranslation"];function R0(){const t={find(e){let r=n=>n;e[0]==="#"?r=us:e[0]==="/"&&(r=n=>n.replace(/(https?:)?\/\//,"").split("/")[0]);const i=r(e);return t.nodes.filter(n=>!!n["@id"]).find(n=>r(n["@id"])===i)},push(e){ir(e).forEach(r=>{const i=r;t.nodes.push(i)})},resolveGraph(e){return t.meta=Cd({...e}),t.nodes.forEach((r,i)=>{const n=r._resolver;r=wo(r,t,n),r=Ua(r,t,n,!0),t.nodes[i]=r}),t.nodes=M0(t.nodes),t.nodes.forEach(r=>{var i;r.image&&typeof r.image=="string"&&(r.image=q(r.image,t,wi,{root:!0})),Ow.forEach(n=>{r[n]=q(r[n],t)}),(i=r._resolver)!=null&&i.resolveRootNode&&r._resolver.resolveRootNode(r,t),delete r._resolver}),$0(t.nodes)},nodes:[],meta:{}};return t}function I0(t){return O0({},()=>({}),t)}function O0(t,e,r){t=Cd({...t});let i,n={};return s=>({key:"schema-org",hooks:{"entries:resolve":()=>{i=R0()},"tag:normalise":async({tag:o})=>{if(o.tag==="script"&&o.props.type==="application/ld+json"&&o.props.nodes){const{loadResolver:a}=await Promise.resolve().then(function(){return Rw}),l=await o.props.nodes;for(const u of Array.isArray(l)?l:[l]){if(typeof u!="object"||Object.keys(u).length===0)continue;const c={...u,_dedupeStrategy:o.tagDuplicateStrategy,_resolver:a(await u._resolver)};i.push(c)}o.tagPosition=o.tagPosition||t.tagPosition==="head"?"head":"bodyClose"}if(o.tag==="htmlAttrs"&&o.props.lang)n.inLanguage=o.props.lang;else if(o.tag==="title")n.title=o.textContent;else if(o.tag==="meta"&&o.props.name==="description")n.description=o.props.content;else if(o.tag==="link"&&o.props.rel==="canonical"){if(n.url=o.props.href,n.url&&!n.host)try{n.host=new URL(n.url).origin}catch{}}else o.tag==="meta"&&o.props.property==="og:image"?n.image=o.props.content:o.tag==="templateParams"&&o.props.schemaOrg&&(n={...n,...o.props.schemaOrg},delete o.props.schemaOrg)},"tags:resolve":async o=>{for(const a in o.tags){const l=o.tags[a];if(l.tag==="script"&&l.props.type==="application/ld+json"&&l.props.nodes){delete l.props.nodes;const u=i.resolveGraph({...await(e==null?void 0:e())||{},...t,...n});if(!u.length){l.props={};return}const c=(r==null?void 0:r.minify)||!0;l.innerHTML=JSON.stringify({"@context":"https://schema.org","@graph":u},(h,d)=>typeof d!="object"?Es(d,s._templateParams,s._separator):d,c?0:2);return}}},"tags:afterResolve":o=>{let a;for(const l in o.tags){const u=o.tags[l];if(u.props.type==="application/ld+json"&&u.props.nodes||u.key==="schema-org-graph"){if(delete u.props.nodes,typeof a>"u"){a=l;continue}o.tags[a].props=Hx(o.tags[a].props,u.props),delete o.tags[a].props.nodes,o.tags[l]=!1}}o.tags=o.tags.filter(Boolean)}}})}async function Lw(t,e={}){const r=e.document||t.resolvedOptions.document;if(!r||!t.dirty)return;const i={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",i),!!i.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async n=>{var h;const s=(await t.resolveTags()).map(d=>({tag:d,id:wa.has(d.tag)?Ec(d):d.tag,shouldRender:!0}));let o=t._dom;if(!o){o={elMap:{htmlAttrs:r.documentElement,bodyAttrs:r.body}};const d=new Set;for(const f of["body","head"]){const p=(h=r[f])==null?void 0:h.children;for(const m of p){const g=m.tagName.toLowerCase();if(!wa.has(g))continue;const v={tag:g,props:await Jy(m.getAttributeNames().reduce((S,x)=>({...S,[x]:m.getAttribute(x)}),{})),innerHTML:m.innerHTML},_=e0(v);let y=_,w=1;for(;y&&d.has(y);)y=`${_}:${w++}`;y&&(v._d=y,d.add(y)),o.elMap[m.getAttribute("data-hid")||Ec(v)]=m}}}o.pendingSideEffects={...o.sideEffects},o.sideEffects={};function a(d,f,p){const m=`${d}:${f}`;o.sideEffects[m]=p,delete o.pendingSideEffects[m]}function l({id:d,$el:f,tag:p}){const m=p.tag.endsWith("Attrs");if(o.elMap[d]=f,m||(p.textContent&&p.textContent!==f.textContent&&(f.textContent=p.textContent),p.innerHTML&&p.innerHTML!==f.innerHTML&&(f.innerHTML=p.innerHTML),a(d,"el",()=>{var g;(g=o.elMap[d])==null||g.remove(),delete o.elMap[d]})),p._eventHandlers)for(const g in p._eventHandlers)Object.prototype.hasOwnProperty.call(p._eventHandlers,g)&&f.getAttribute(`data-${g}`)!==""&&((p.tag==="bodyAttrs"?r.defaultView:f).addEventListener(g.substring(2),p._eventHandlers[g].bind(f)),f.setAttribute(`data-${g}`,""));for(const g in p.props){if(!Object.prototype.hasOwnProperty.call(p.props,g))continue;const v=p.props[g],_=`attr:${g}`;if(g==="class"){if(!v)continue;for(const y of v.split(" "))m&&a(d,`${_}:${y}`,()=>f.classList.remove(y)),!f.classList.contains(y)&&f.classList.add(y)}else if(g==="style"){if(!v)continue;for(const y of v.split(";")){const w=y.indexOf(":"),S=y.substring(0,w).trim(),x=y.substring(w+1).trim();a(d,`${_}:${S}`,()=>{f.style.removeProperty(S)}),f.style.setProperty(S,x)}}else f.getAttribute(g)!==v&&f.setAttribute(g,v===!0?"":String(v)),m&&a(d,_,()=>f.removeAttribute(g))}}const u=[],c={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const d of s){const{tag:f,shouldRender:p,id:m}=d;if(p){if(f.tag==="title"){r.title=f.textContent;continue}d.$el=d.$el||o.elMap[m],d.$el?l(d):wa.has(f.tag)&&u.push(d)}}for(const d of u){const f=d.tag.tagPosition||"head";d.$el=r.createElement(d.tag.tag),l(d),c[f]=c[f]||r.createDocumentFragment(),c[f].appendChild(d.$el)}for(const d of s)await t.hooks.callHook("dom:renderTag",d,r,a);c.head&&r.head.appendChild(c.head),c.bodyOpen&&r.body.insertBefore(c.bodyOpen,r.body.firstChild),c.bodyClose&&r.body.appendChild(c.bodyClose);for(const d in o.pendingSideEffects)o.pendingSideEffects[d]();t._dom=o,await t.hooks.callHook("dom:rendered",{renders:s}),n()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function Dw(t,e={}){const r=e.delayFn||(i=>setTimeout(i,10));return t._domDebouncedUpdatePromise=t._domDebouncedUpdatePromise||new Promise(i=>r(()=>Lw(t,e).then(()=>{delete t._domDebouncedUpdatePromise,i()})))}function Bw(t){return e=>{var i,n;const r=((n=(i=e.resolvedOptions.document)==null?void 0:i.head.querySelector('script[id="unhead:payload"]'))==null?void 0:n.innerHTML)||!1;return r&&e.push(JSON.parse(r)),{mode:"client",hooks:{"entries:updated":s=>{Dw(s,t)}}}}}function $c(t,e={},r){for(const i in t){const n=t[i],s=r?`${r}:${i}`:i;typeof n=="object"&&n!==null?$c(n,e,s):typeof n=="function"&&(e[s]=n)}return e}const Fw={run:t=>t()},Nw=()=>Fw,L0=typeof console.createTask<"u"?console.createTask:Nw;function Uw(t,e){const r=e.shift(),i=L0(r);return t.reduce((n,s)=>n.then(()=>i.run(()=>s(...e))),Promise.resolve())}function Hw(t,e){const r=e.shift(),i=L0(r);return Promise.all(t.map(n=>i.run(()=>n(...e))))}function au(t,e){for(const r of[...t])r(e)}class zw{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,r,i={}){if(!e||typeof r!="function")return()=>{};const n=e;let s;for(;this._deprecatedHooks[e];)s=this._deprecatedHooks[e],e=s.to;if(s&&!i.allowDeprecated){let o=s.message;o||(o=`${n} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!r.name)try{Object.defineProperty(r,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(r),()=>{r&&(this.removeHook(e,r),r=void 0)}}hookOnce(e,r){let i,n=(...s)=>(typeof i=="function"&&i(),i=void 0,n=void 0,r(...s));return i=this.hook(e,n),i}removeHook(e,r){if(this._hooks[e]){const i=this._hooks[e].indexOf(r);i!==-1&&this._hooks[e].splice(i,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,r){this._deprecatedHooks[e]=typeof r=="string"?{to:r}:r;const i=this._hooks[e]||[];delete this._hooks[e];for(const n of i)this.hook(e,n)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const r in e)this.deprecateHook(r,e[r])}addHooks(e){const r=$c(e),i=Object.keys(r).map(n=>this.hook(n,r[n]));return()=>{for(const n of i.splice(0,i.length))n()}}removeHooks(e){const r=$c(e);for(const i in r)this.removeHook(i,r[i])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...r){return r.unshift(e),this.callHookWith(Uw,e,...r)}callHookParallel(e,...r){return r.unshift(e),this.callHookWith(Hw,e,...r)}callHookWith(e,r,...i){const n=this._before||this._after?{name:r,args:i,context:{}}:void 0;this._before&&au(this._before,n);const s=e(r in this._hooks?[...this._hooks[r]]:[],i);return s instanceof Promise?s.finally(()=>{this._after&&n&&au(this._after,n)}):(this._after&&n&&au(this._after,n),s)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const r=this._before.indexOf(e);r!==-1&&this._before.splice(r,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const r=this._after.indexOf(e);r!==-1&&this._after.splice(r,1)}}}}function jw(){return new zw}const Gw=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Vw={hooks:{"tag:normalise":({tag:t})=>{t.props.hid&&(t.key=t.props.hid,delete t.props.hid),t.props.vmid&&(t.key=t.props.vmid,delete t.props.vmid),t.props.key&&(t.key=t.props.key,delete t.props.key);const e=e0(t);e&&!e.startsWith("meta:og:")&&!e.startsWith("meta:twitter:")&&delete t.key;const r=e||(t.key?`${t.tag}:${t.key}`:!1);r&&(t._d=r)},"tags:resolve":t=>{const e=Object.create(null);for(const i of t.tags){const n=(i.key?`${i.tag}:${i.key}`:i._d)||Ec(i),s=e[n];if(s){let a=i==null?void 0:i.tagDuplicateStrategy;if(!a&&Gw.has(i.tag)&&(a="merge"),a==="merge"){const l=s.props;l.style&&i.props.style&&(l.style[l.style.length-1]!==";"&&(l.style+=";"),i.props.style=`${l.style} ${i.props.style}`),l.class&&i.props.class?i.props.class=`${l.class} ${i.props.class}`:l.class&&(i.props.class=l.class),e[n].props={...l,...i.props};continue}else if(i._e===s._e){s._duped=s._duped||[],i._d=`${s._d}:${s._duped.length+1}`,s._duped.push(i);continue}else if(Fa(i)>Fa(s))continue}if(!(i.innerHTML||i.textContent||Object.keys(i.props).length!==0)&&wa.has(i.tag)){delete e[n];continue}e[n]=i}const r=[];for(const i in e){const n=e[i],s=n._duped;r.push(n),s&&(delete n._duped,r.push(...s))}t.tags=r,t.tags=t.tags.filter(i=>!(i.tag==="meta"&&(i.props.name||i.props.property)&&!i.props.content))}}},Ww=new Set(["script","link","bodyAttrs"]),Xw=t=>({hooks:{"tags:resolve":e=>{for(const r of e.tags){if(!Ww.has(r.tag))continue;const i=r.props;for(const n in i){if(n[0]!=="o"||n[1]!=="n"||!Object.prototype.hasOwnProperty.call(i,n))continue;const s=i[n];typeof s=="function"&&(t.ssr&&kf.has(n)?i[n]=`this.dataset.${n}fired = true`:delete i[n],r._eventHandlers=r._eventHandlers||{},r._eventHandlers[n]=s)}t.ssr&&r._eventHandlers&&(r.props.src||r.props.href)&&(r.key=r.key||Qs(r.props.src||r.props.href))}},"dom:renderTag":({$el:e,tag:r})=>{var n,s;const i=e==null?void 0:e.dataset;if(i)for(const o in i){if(!o.endsWith("fired"))continue;const a=o.slice(0,-5);kf.has(a)&&((s=(n=r._eventHandlers)==null?void 0:n[a])==null||s.call(e,new Event(a.substring(2))))}}}}),Yw=new Set(["link","style","script","noscript"]),qw={hooks:{"tag:normalise":({tag:t})=>{t.key&&Yw.has(t.tag)&&(t.props["data-hid"]=t._h=Qs(t.key))}}},Kw={mode:"server",hooks:{"tags:beforeResolve":t=>{const e={};let r=!1;for(const i of t.tags)i._m!=="server"||i.tag!=="titleTemplate"&&i.tag!=="templateParams"&&i.tag!=="title"||(e[i.tag]=i.tag==="title"||i.tag==="titleTemplate"?i.textContent:i.props,r=!0);r&&t.tags.push({tag:"script",innerHTML:JSON.stringify(e),props:{id:"unhead:payload",type:"application/json"}})}}},Zw={hooks:{"tags:resolve":t=>{var e;for(const r of t.tags)if(typeof r.tagPriority=="string")for(const{prefix:i,offset:n}of ew){if(!r.tagPriority.startsWith(i))continue;const s=r.tagPriority.substring(i.length),o=(e=t.tags.find(a=>a._d===s))==null?void 0:e._p;if(o!==void 0){r._p=o+n;break}}t.tags.sort((r,i)=>{const n=Fa(r),s=Fa(i);return n<s?-1:n>s?1:r._p-i._p})}}},Jw={meta:"content",link:"href",htmlAttrs:"lang"},Qw=["innerHTML","textContent"],eT=t=>({hooks:{"tags:resolve":e=>{var o;const{tags:r}=e;let i;for(let a=0;a<r.length;a+=1)r[a].tag==="templateParams"&&(i=e.tags.splice(a,1)[0].props,a-=1);const n=i||{},s=n.separator||"|";delete n.separator,n.pageTitle=Es(n.pageTitle||((o=r.find(a=>a.tag==="title"))==null?void 0:o.textContent)||"",n,s);for(const a of r){if(a.processTemplateParams===!1)continue;const l=Jw[a.tag];if(l&&typeof a.props[l]=="string")a.props[l]=Es(a.props[l],n,s);else if(a.processTemplateParams||a.tag==="titleTemplate"||a.tag==="title")for(const u of Qw)typeof a[u]=="string"&&(a[u]=Es(a[u],n,s,a.tag==="script"&&a.props.type.endsWith("json")))}t._templateParams=n,t._separator=s},"tags:afterResolve":({tags:e})=>{let r;for(let i=0;i<e.length;i+=1){const n=e[i];n.tag==="title"&&n.processTemplateParams!==!1&&(r=n)}r!=null&&r.textContent&&(r.textContent=Es(r.textContent,t._templateParams,t._separator))}}}),tT={hooks:{"tags:resolve":t=>{const{tags:e}=t;let r,i;for(let n=0;n<e.length;n+=1){const s=e[n];s.tag==="title"?r=s:s.tag==="titleTemplate"&&(i=s)}if(i&&r){const n=Rf(i.textContent,r.textContent);n!==null?r.textContent=n||r.textContent:t.tags.splice(t.tags.indexOf(r),1)}else if(i){const n=Rf(i.textContent);n!==null&&(i.textContent=n,i.tag="title",i=void 0)}i&&t.tags.splice(t.tags.indexOf(i),1)}}},rT={hooks:{"tags:afterResolve":t=>{for(const e of t.tags)typeof e.innerHTML=="string"&&(e.innerHTML&&(e.props.type==="application/ld+json"||e.props.type==="application/json")?e.innerHTML=e.innerHTML.replace(/</g,"\\u003C"):e.innerHTML=e.innerHTML.replace(new RegExp(`</${e.tag}`,"g"),`<\\/${e.tag}`))}}};let D0;function iT(t={}){const e=nT(t);return e.use(Bw()),D0=e}function Df(t,e){return!t||t==="server"&&e||t==="client"&&!e}function nT(t={}){const e=jw();e.addHooks(t.hooks||{}),t.document=t.document||(Xx?document:void 0);const r=!t.document,i=()=>{a.dirty=!0,e.callHook("entries:updated",a)};let n=0,s=[];const o=[],a={plugins:o,dirty:!1,resolvedOptions:t,hooks:e,headEntries(){return s},use(l){const u=typeof l=="function"?l(a):l;(!u.key||!o.some(c=>c.key===u.key))&&(o.push(u),Df(u.mode,r)&&e.addHooks(u.hooks||{}))},push(l,u){u==null||delete u.head;const c={_i:n++,input:l,...u};return Df(c.mode,r)&&(s.push(c),i()),{dispose(){s=s.filter(h=>h._i!==c._i),i()},patch(h){for(const d of s)d._i===c._i&&(d.input=c.input=h);i()}}},async resolveTags(){const l={tags:[],entries:[...s]};await e.callHook("entries:resolve",l);for(const u of l.entries){const c=u.resolvedInput||u.input;if(u.resolvedInput=await(u.transform?u.transform(c):c),u.resolvedInput)for(const h of await Qx(u)){const d={tag:h,entry:u,resolvedOptions:a.resolvedOptions};await e.callHook("tag:normalise",d),l.tags.push(d.tag)}}return await e.callHook("tags:beforeResolve",l),await e.callHook("tags:resolve",l),await e.callHook("tags:afterResolve",l),l.tags},ssr:r};return[Vw,Kw,Xw,qw,Zw,eT,tT,rT,...(t==null?void 0:t.plugins)||[]].forEach(l=>a.use(l)),a.hooks.callHook("init",a),a}function kd(){return D0}function sT(t,e={}){const r=e.head||kd();return r==null?void 0:r.push(t,e)}function Al(t,e){return t||(t={}),t._resolver=e,t}function oT(t){return Al(t,"article")}function B0(t){return Al(t,"person")}function F0(t){return Al(t,"webPage")}function N0(t){return Al(t,"webSite")}function U0(t,e){const r=kd();if(r&&!(Array.isArray(t)&&t.length===0||!t))return r.use(I0()),sT({script:[{type:"application/ld+json",key:"schema-org-graph",nodes:t}]},e)}const aT=Object.freeze(Object.defineProperty({__proto__:null,HowToId:y0,PrimaryArticleId:bo,PrimaryBookId:u0,PrimaryBreadcrumbId:vd,PrimaryEventId:f0,PrimaryWebPageId:Nt,PrimaryWebSiteId:Qn,ProductId:w0,RecipeId:A0,SchemaOrgUnheadPlugin:O0,UnheadSchemaOrg:I0,addressResolver:_o,aggregateOfferResolver:yd,aggregateRatingResolver:vo,articleResolver:l0,bookEditionResolver:wd,bookResolver:c0,breadcrumbResolver:_d,commentResolver:h0,courseResolver:d0,createSchemaOrgGraph:R0,dedupeNodes:M0,defineArticle:oT,definePerson:B0,defineSchemaOrgResolver:ww,defineWebPage:F0,defineWebSite:N0,eventResolver:p0,foodEstablishmentResolver:m0,howToResolver:v0,howToStepDirectionResolver:g0,howToStepResolver:Sl,imageResolver:wi,itemListResolver:_0,jobPostingResolver:b0,listItemResolver:wl,localBusinessResolver:Na,movieResolver:x0,normaliseNodes:$0,offerResolver:cs,openingHoursResolver:Sd,organizationResolver:Ti,personResolver:Xr,placeResolver:Tl,productResolver:T0,questionResolver:S0,ratingResolver:Ad,readActionResolver:xd,recipeResolver:E0,resolveMeta:Cd,resolveNode:wo,resolveNodeId:Ua,resolveRelation:q,reviewResolver:xo,searchActionResolver:bd,softwareAppResolver:C0,useSchemaOrg:U0,videoResolver:Ed,virtualLocationResolver:Td,webPageResolver:a0,webSiteResolver:o0},Symbol.toStringTag,{value:"Module"})),lT=hx[0]==="3";function uT(t){return typeof t=="function"?t():R(t)}function Ha(t){if(t instanceof Promise||t instanceof Date||t instanceof RegExp)return t;const e=uT(t);if(!t||!e)return e;if(Array.isArray(e))return e.map(r=>Ha(r));if(typeof e=="object"){const r={};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(i==="titleTemplate"||i[0]==="o"&&i[1]==="n"){r[i]=R(e[i]);continue}r[i]=Ha(e[i])}return r}return e}const cT={hooks:{"entries:resolve":t=>{for(const e of t.entries)e.resolvedInput=Ha(e.input)}}},H0="usehead";function hT(t){return{install(r){lT&&(r.config.globalProperties.$unhead=t,r.config.globalProperties.$head=t,r.provide(H0,t))}}.install}function dT(t={}){t.domDelayFn=t.domDelayFn||(r=>ki(()=>setTimeout(()=>r(),0)));const e=iT(t);return e.use(cT),e.install=hT(e),e}const Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ff="__unhead_injection_handler__";function fT(){return Ff in Bf?Bf[Ff]():Dy(H0)||kd()}function El(t,e={}){const r=e.head||fT();if(r)return r.ssr?r.push(t,e):pT(r,t,e)}function pT(t,e,r={}){const i=z(!1),n=z({});ad(()=>{n.value=i.value?{}:Ha(e)});const s=t.push(n.value,r);return _e(n,a=>{s.patch(a)}),on()&&(dx(()=>{s.dispose()}),fx(()=>{i.value=!0}),px(()=>{i.value=!1})),s}function mT(t,e){const{title:r,titleTemplate:i,...n}=t;return El({title:r,titleTemplate:i,_flatMeta:n},{...e,transform(s){const o=dd({...s._flatMeta});return delete s._flatMeta,{...s,meta:o}}})}Er.extend(Lx);Er.extend(Dx);Er.extend(Bx);function vU(t,e={}){return typeof t=="string"&&(t=new Date(t)),Er.tz(Er.utc(t),e.timezone).format(e.template||"YYYY-MM-DD")}function Nf(t,e=!0){return t.sort((r,i)=>{const n=+new Date(r.date||""),s=+new Date(i.date||"");return e?s-n:n-s})}function gT(){const t=nt();mx(()=>{t.value.timezone&&Er.tz.setDefault(t.value.timezone)})}const z0='{"siteConfig":{"mode":"auto","url":"https://valaxy.site/","lang":"zh-CN","languages":["en","zh-CN"],"timezone":"","title":"","description":"","subtitle":"All at sea.","author":{"avatar":"https://s2.loli.net/2025/01/05/BGIvtD6UbMqQAnN.jpg","email":"i@valaxy.site","link":"https://valaxy.site","name":"","status":{"emoji":"","message":"..."}},"favicon":"https://s2.loli.net/2025/01/05/BGIvtD6UbMqQAnN.jpg","feed":{"name":"","favicon":"/favicon.svg"},"social":[{"name":"RSS","link":"/atom.xml","icon":"i-ri-rss-line","color":"orange"},{"name":"QQ","link":"tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=787332942","icon":"i-ri-qq-line","color":"#12B7F5"},{"name":"GitHub","link":"https://github.com/Zengzzhao","icon":"i-ri-github-line","color":"#6e5494"},{"name":"","link":"https://weibo.com/u/6079358073","icon":"i-ri-weibo-line","color":"#E6162D"},{"name":"","link":"https://www.douban.com/people/230373346/?_i=6045193f5vQX6L","icon":"i-ri-douban-line","color":"#007722"},{"name":"","link":"https://music.163.com/#/user/home?id=8919414798","icon":"i-ri-netease-cloud-music-line","color":"#C20C0C"},{"name":"","link":"https://www.zhihu.com/people/mou-zhao-2","icon":"i-ri-zhihu-line","color":"#0084FF"},{"name":"","link":"https://space.bilibili.com/490548239?spm_id_from=333.1007.0.0","icon":"i-ri-bilibili-line","color":"#FF8EB3"},{"name":"","link":"","icon":"i-ri-wechat-2-line","color":"#1AAD19"},{"name":"Twitter","link":"https://x.com/W787332942","icon":"i-ri-twitter-x-fill","color":"black"},{"name":"","link":"https://www.douyin.com/user/self","icon":"i-ri-tiktok-fill","color":"black"},{"name":"E-Mail","link":"mailto:787332942@qq.com","icon":"i-ri-mail-line","color":"#8E71C1"}],"lastUpdated":true,"license":{"enabled":true,"language":"","type":"by-nc-sa"},"sponsor":{"enable":true,"description":"","methods":[{"name":"","url":"https://s2.loli.net/2025/01/05/QfC6ZVwlxntoHmy.jpg","color":"#00A3EE","icon":"i-ri-alipay-line"},{"name":"QQ ","url":"https://s2.loli.net/2025/01/05/joYl8OTqUd3J9LF.jpg","color":"#12B7F5","icon":"i-ri-qq-line"},{"name":"","url":"https://s2.loli.net/2025/01/05/GYioJDrme1puhTC.jpg","color":"#2DC100","icon":"i-ri-wechat-pay-line"}]},"search":{"enable":true,"type":"fuse"},"fuse":{"dataPath":"valaxy-fuse-list.json","options":{"keys":[]}},"comment":{"enable":true},"frontmatter":{"time_warning":15552000000},"cdn":{"prefix":"https://unpkg.com/"},"mediumZoom":{"enable":false,"selector":"","options":{}},"vanillaLazyload":{"enable":true,"options":{}},"floatingVue":{"disabled":false,"distance":5,"skidding":0,"container":"body","instantMove":false,"disposeTimeout":150,"popperTriggers":[],"strategy":"absolute","preventOverflow":true,"flip":true,"shift":true,"overflowPadding":0,"arrowPadding":0,"arrowOverflow":true,"autoHideOnMousedown":false,"themes":{"tooltip":{"placement":"top","triggers":["hover","focus","touch"],"delay":{"show":200,"hide":0},"handleResize":false,"html":false,"loadingContent":"..."},"dropdown":{"placement":"bottom","triggers":["click"],"delay":0,"handleResize":true,"autoHide":true},"menu":{"$extend":"dropdown","triggers":["hover","focus"],"popperTriggers":["hover"],"delay":{"show":0,"hide":400}}}},"statistics":{"enable":true,"readTime":{"speed":{"cn":300,"en":100}}},"pageSize":7,"encrypt":{"enable":true,"algorithm":"AES-CBC","salt":{"0":125,"1":174,"2":123,"3":221,"4":26,"5":254,"6":160,"7":40,"8":97,"9":7,"10":138,"11":185,"12":15,"13":75,"14":253,"15":149},"iv":{"0":3,"1":191,"2":55,"3":67,"4":0,"5":7,"6":104,"7":137,"8":247,"9":29,"10":44,"11":153,"12":114,"13":15,"14":79,"15":144}},"redirects":{"useVueRouter":true,"rules":[]},"codeHeightLimit":300},"theme":"yun","themeConfig":{"pkg":{"name":"valaxy-theme-yun","type":"module","version":"0.22.6","author":{"email":"me@yunyoujun.cn","name":"YunYouJun","url":"https://www.yunyoujun.cn"},"homepage":"https://yun.valaxy.site","repository":{"type":"git","url":"https://github.com/YunYouJun/valaxy/tree/main/packages/valaxy-theme-yun"},"exports":{"./client":"./client/index.ts","./theme":"./types/index.d.ts","./*":"./*",".":"./index.ts"},"main":"index.ts","module":"index.ts","dependencies":{"@ctrl/tinycolor":"^4.1.0","@explosions/fireworks":"^0.1.0","@iconify-json/ant-design":"^1.2.5","@iconify-json/simple-icons":"^1.2.17","@vueuse/motion":"^2.2.6","animejs":"^3.2.2","gsap":"^3.12.5","primevue":"^4.2.5"},"devDependencies":{"@types/animejs":"^3.1.12","valaxy-addon-waline":"0.2.0","valaxy":"0.22.6"},"scripts":{"release":"bumpp && pnpm publish"}},"type":"nimbo","valaxyDarkOptions":{"circleTransition":true},"outlineTitle":"On this page","colors":{"primary":"#0078E7"},"banner":{"enable":true,"title":"","cloud":{"enable":true}},"bg_image":{"enable":true,"url":"https://s2.loli.net/2025/01/07/UCvIpoudfNGDBmT.jpg","dark":"https://s2.loli.net/2025/01/07/ckTfOXmRojZaStD.jpg"},"say":{"enable":true,"api":"","hitokoto":{"enable":true,"api":"https://v1.hitokoto.cn"}},"fireworks":{"enable":true,"colors":["#F6A4B5","#888E8E","#BFCED0"]},"notice":{"enable":true,"hideInPages":false,"content":"..."},"pages":[{"name":"","url":"/projects/","icon":"i-ri-code-s-slash-fill","color":""}],"footer":{"since":2024,"icon":{"enable":true,"name":"i-ri-cloud-line","animated":true,"color":"var(--va-c-primary)","url":"https://sponsors.yunyoujun.cn","title":"Sponsor YunYouJun"},"powered":false,"beian":{"enable":true,"icp":"ICP17038157"}},"types":{"link":{"color":"var(--va-c-primary)","icon":"i-ri-external-link-line"},"bilibili":{"color":"#FF8EB3","icon":"i-ri-bilibili-line"},"douban":{"color":"#007722","icon":"i-ri-douban-line"},"github":{"color":"var(--va-c-text)","icon":"i-ri-github-line"},"netease-cloud-music":{"color":"#C10D0C","icon":"i-ri-netease-cloud-music-line"},"notion":{"color":"var(--va-c-text)","icon":"i-simple-icons-notion"},"twitter":{"color":"black","icon":"i-ri-twitter-x-fill"},"wechat":{"color":"#1AAD19","icon":"i-ri-wechat-2-line"},"weibo":{"color":"#E6162D","icon":"i-ri-weibo-line"},"yuque":{"color":"#25b864","icon":"i-ant-design-yuque-outlined"},"zhihu":{"color":"#0084FF","icon":"i-ri-zhihu-line"}},"menu":{"custom":{"title":"button.about","icon":"i-ri-clipboard-line","url":"/about"}}},"build":{"ssgForPagination":false},"deploy":{},"runtimeConfig":{"addons":{"valaxy-addon-waline":{"name":"valaxy-addon-waline","enable":true,"options":{"serverURL":"walinecomment-5292.vercel.app","copyright":false,"locale":{"admin":"","sofa":"~","placeholder":"email"}},"global":false,"root":"/home/runner/work/zengzzhao.github.io/zengzzhao.github.io/node_modules/valaxy-addon-waline","props":{},"pkg":{"name":"valaxy-addon-waline","version":"0.2.1","description":"Waline Composition API for Valaxy","repository":{"url":"https://github.com/YunYouJun/valaxy/tree/main/packages/valaxy-addon-waline"},"keywords":["valaxy","addon","waline"],"exports":{"./*":"./*"},"main":"index.ts","types":"index.d.ts","peerDependencies":{"valaxy":">=0.22"},"dependencies":{"@waline/client":"3.4.1"}},"configFile":"/home/runner/work/zengzzhao.github.io/zengzzhao.github.io/node_modules/valaxy-addon-waline/valaxy.config.ts"},"valaxy-addon-meting":{"name":"valaxy-addon-meting","enable":true,"global":true,"root":"/home/runner/work/zengzzhao.github.io/zengzzhao.github.io/node_modules/valaxy-addon-meting","options":{},"props":{},"pkg":{"name":"valaxy-addon-meting","global":true,"version":"0.1.4","license":"MIT","repository":{"url":"https://github.com/YunYouJun/valaxy/tree/main/packages/valaxy-addon-meting","type":"git"},"keywords":["valaxy","addon","meting"]},"configFile":"/home/runner/work/zengzzhao.github.io/zengzzhao.github.io/node_modules/valaxy-addon-meting/valaxy.config.ts"},"valaxy-addon-components":{"name":"valaxy-addon-components","enable":true,"options":{},"global":false,"root":"/home/runner/work/zengzzhao.github.io/zengzzhao.github.io/node_modules/valaxy-addon-components","props":{},"pkg":{"name":"valaxy-addon-components","version":"0.1.0","description":"Common Components for Valaxy","homepage":"https://github.com/YunYouJun/valaxy/tree/main/packages/valaxy-addon-components","repository":{"url":"https://github.com/YunYouJun/valaxy/tree/main/packages/valaxy-addon-components"},"keywords":["valaxy","addon","components"],"main":"index.ts"}},"valaxy-addon-live2d":{"name":"valaxy-addon-live2d","enable":true,"global":true,"options":{"enableLive2D":["heimao","baimao","girl1","girl2","girl3","girl4"],"live2DCollection":{"heimao":{"message":"","models":["https://cdn.jsdelivr.net/gh/evrstr/live2d-widget-models/live2d_evrstr/blackcat/model.json"]},"baimao":{"message":"","models":["https://cdn.jsdelivr.net/gh/evrstr/live2d-widget-models/live2d_evrstr/whitecat/model.json"]},"girl1":{"message":"","models":["https://cdn.jsdelivr.net/gh/evrstr/live2d-widget-models/live2d_evrstr/kp31_3101/model.json"]},"girl2":{"message":"","models":["https://cdn.jsdelivr.net/gh/evrstr/live2d-widget-models/live2d_evrstr/mlemk1_604/model.json"]},"girl3":{"message":"","models":["https://cdn.jsdelivr.net/gh/evrstr/live2d-widget-models/live2d_evrstr/vector_1901/model.json"]},"girl4":{"message":"","models":["https://cdn.jsdelivr.net/gh/evrstr/live2d-widget-models/live2d_evrstr/aa12_2403/model.json"]}},"skipHello":true},"root":"/home/runner/work/zengzzhao.github.io/zengzzhao.github.io/node_modules/valaxy-addon-live2d","props":{},"pkg":{"name":"valaxy-addon-live2d","global":true,"version":"0.3.0","packageManager":"pnpm@9.5.0","description":"","repository":{"url":"git+https://github.com/valaxyjs/valaxy-addon-live2d.git"},"keywords":["valaxy","addon","valaxy-addon","live2d"],"exports":{"./*":"./*"},"main":"index.ts","types":"index.d.ts","scripts":{"ci:publish":"cd dist && npm publish --access public","build":"tsx scripts/build.ts"},"dependencies":{"pixi-live2d-display":"^0.5.0-beta","pixi.js":"^7.4.2","stats.js":"^1.0.0","url":"^0.11.4"},"devDependencies":{"@types/lodash-es":"^4.17.12","@types/stats.js":"^0.17.3","consola":"^3.2.3","tsx":"^4.16.2","vue-tsc":"^2.0.28"}},"configFile":"/home/runner/work/zengzzhao.github.io/zengzzhao.github.io/node_modules/valaxy-addon-live2d/valaxy.config.ts"}},"redirects":{"useVueRouter":true,"redirectRoutes":[]}},"modules":{"rss":{"enable":true,"fullText":false}},"features":{"katex":true},"vite":{"build":{"emptyOutDir":true,"rollupOptions":{"external":[],"preserveEntrySignatures":"allow-extension","output":{"assetFileNames":"assets/[name].[hash].[ext]","entryFileNames":"assets/[name].[hash].js"}}},"optimizeDeps":{"include":["@waline/client/component","@pixi/utils","@pixi/graphics","@pixi/settings","@pixi/app","@pixi/core","@pixi/extract","@pixi/ticker"]},"plugins":[{"name":"valaxy-theme-yun","enforce":"pre"}]},"devtools":true,"vue":{"isCustomElement":[null]},"unocss":{"safelist":["i-ri-home-line","i-ri-code-s-slash-fill"]},"addons":[{"name":"valaxy-addon-waline","enable":true,"options":{"serverURL":"walinecomment-5292.vercel.app","copyright":false,"locale":{"admin":"","sofa":"~","placeholder":"email"}}},{"name":"valaxy-addon-meting","enable":true,"global":true},{"name":"valaxy-addon-components","enable":true},{"name":"valaxy-addon-live2d","enable":true,"global":false,"options":{"enableLive2D":["heimao","baimao","girl1","girl2","girl3","girl4"],"live2DCollection":{"heimao":{"message":"","models":["https://cdn.jsdelivr.net/gh/evrstr/live2d-widget-models/live2d_evrstr/blackcat/model.json"]},"baimao":{"message":"","models":["https://cdn.jsdelivr.net/gh/evrstr/live2d-widget-models/live2d_evrstr/whitecat/model.json"]},"girl1":{"message":"","models":["https://cdn.jsdelivr.net/gh/evrstr/live2d-widget-models/live2d_evrstr/kp31_3101/model.json"]},"girl2":{"message":"","models":["https://cdn.jsdelivr.net/gh/evrstr/live2d-widget-models/live2d_evrstr/mlemk1_604/model.json"]},"girl3":{"message":"","models":["https://cdn.jsdelivr.net/gh/evrstr/live2d-widget-models/live2d_evrstr/vector_1901/model.json"]},"girl4":{"message":"","models":["https://cdn.jsdelivr.net/gh/evrstr/live2d-widget-models/live2d_evrstr/aa12_2403/model.json"]}},"skipHello":true}}],"markdown":{"theme":{"light":"github-light","dark":"github-dark"},"lineNumbers":true}}',j0='{"userRoot":"/home/runner/work/zengzzhao.github.io/zengzzhao.github.io"}';function Cl(t){return JSON.parse(t)}const G0=Symbol("valaxy:config"),V0=as(Cl(z0)),yT=as(Cl(j0));V0.value=Cl(z0);yT.value=Cl(j0);function W0(){return j(()=>V0.value)}function To(){const t=Dy(G0);if(!t)throw new Error("[Valaxy] site config not properly injected in app");return t}function nt(){const t=To();return j(()=>t.value.siteConfig)}function Md(){const t=To();return j(()=>t.value.themeConfig)}function X0(){const t=To();return j(()=>t.value.runtimeConfig)}function vT(){const t=nt(),e=$i(),{locale:r}=gt(),i=j(()=>e.value[`title_${r.value}`]||e.value.title),n=j(()=>e.value.url||t.value.url),s=j(()=>e.value.excerpt||e.value.description||t.value.description);mT({description:s,ogDescription:s,ogLocale:j(()=>r.value||e.value.lang||t.value.lang||"en"),ogLocaleAlternate:j(()=>t.value.languages.filter(o=>o!==r.value)),ogSiteName:j(()=>t.value.title),ogTitle:j(()=>e.value.title||t.value.title),ogImage:j(()=>e.value.ogImage||e.value.cover||t.value.favicon),ogType:"website",ogUrl:n}),U0([B0({name:t.value.author.name,url:n.value,image:t.value.author.avatar,sameAs:t.value.social.map(o=>o.link)}),N0({name:i.value,datePublished:j(()=>e.value.date),dateModified:j(()=>e.value.updated)}),F0()]),gT(),wT()}const _T="valaxy",bT="0.22.6",xT={url:"https://github.com/YunYouJun/valaxy"},Cs={name:_T,version:bT,repository:xT};function wT(){var n;const{locale:t}=gt(),e=$i(),r=nt(),i=j(()=>e.value[`title_${t.value}`]||e.value.title);El({title:i,titleTemplate:s=>e.value.titleTemplate||(s?`${s} - ${r.value.title}`:r.value.title),link:[{rel:"icon",href:r.value.favicon,type:(n=r.value.favicon)!=null&&n.endsWith("svg")?"image/svg+xml":"image/png"}],meta:[j(()=>({name:"description",content:e.value.description||r.value.description})),{name:"generator",content:`Valaxy ${Cs.version}`}],templateParams:{schemaOrg:{host:r.value.url}},script:[{id:"check-mac-os",innerHTML:"document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))",async:!0}]})}const Yr=bl("app",()=>{const t=nt(),e=Md(),{isDark:r,toggleDark:i,toggleDarkWithTransition:n,themeColor:s}=Rd(e.value.valaxyDarkOptions),o=WT(),a=z(!0),l=j(()=>t.value.languages.length>1);return{isMobile:o,isDark:r,showToggleLocale:l,themeColor:s,toggleDark:i,toggleDarkWithTransition:n,showLoading:a}}),Y0=bl("routerStore",()=>({router:ud()})),Pl=bl("site",()=>{const e=Y0().router,r=z(1),i=j(()=>{const n=a2().value;return r.value&&n,n});return e&&e.isReady().then(()=>{}),{postList:i}});function _U(t){return t.children}function q0(t,e=[]){return j(()=>{const r=R(t);e.length||(e=Pl().postList);const i={name:"All",total:e.length,children:new Map([["Uncategorized",{name:"Uncategorized",total:0,children:new Map}]])},n=i.children.get("Uncategorized");if(e.forEach(s=>{if(s.categories)if(Array.isArray(s.categories)){const o=s.categories.length;let a=i,l=a;s.categories.forEach((u,c)=>{a.total+=1,a=a.children.get(u),a||(a={name:u,total:0,children:new Map},l.children.set(u,a)),c===o-1&&(a.children.set(s.path,s),a.total+=1),l=a})}else{const o=s.categories,a=i.children.get(o);a?(a.total+=1,a.children.set(s.path,s)):i.children.set(o,{name:o,total:1,children:new Map([[s.path,s]])})}else n.total+=1,n.children.set(s.path,s)}),n.total===0&&i.children.delete("Uncategorized"),r){let s=i;const o=r.split("/");for(const a of o){const l=s.children.get(a);if(l&&l.children)s=l;else return console.warn(`Do not have category: ${t}`),i}return s}else return i})}function So(t){return Ny()?(Uy(t),!0):!1}function Dt(t){return typeof t=="function"?t():R(t)}const Ao=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const K0=t=>t!=null,TT=Object.prototype.toString,ST=t=>TT.call(t)==="[object Object]",jn=()=>{};function AT(t,e){function r(...i){return new Promise((n,s)=>{Promise.resolve(t(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})).then(n).catch(s)})}return r}const Z0=t=>t();function ET(t=Z0){const e=z(!0);function r(){e.value=!1}function i(){e.value=!0}const n=(...s)=>{e.value&&t(...s)};return{isActive:Mi(e),pause:r,resume:i,eventFilter:n}}function J0(t){return on()}function CT(...t){if(t.length!==1)return By(...t);const e=t[0];return typeof e=="function"?Mi(Fy(()=>({get:e,set:jn}))):z(e)}function PT(t,e,r={}){const{eventFilter:i=Z0,...n}=r;return _e(t,AT(i,e),n)}function kT(t,e,r={}){const{eventFilter:i,...n}=r,{eventFilter:s,pause:o,resume:a,isActive:l}=ET(i);return{stop:PT(t,e,{...n,eventFilter:s}),pause:o,resume:a,isActive:l}}function kl(t,e=!0,r){J0()?Qe(t,r):e?t():ki(t)}function MT(t,e){J0()&&dn(t,e)}function $T(t=!1,e={}){const{truthyValue:r=!0,falsyValue:i=!1}=e,n=vl(t),s=z(t);function o(a){if(arguments.length)return s.value=a,s.value;{const l=Dt(r);return s.value=s.value===l?Dt(i):l,s.value}}return n?o:[s,o]}const qr=Ao?window:void 0,RT=Ao?window.document:void 0;function br(t){var e;const r=Dt(t);return(e=r==null?void 0:r.$el)!=null?e:r}function eo(...t){let e,r,i,n;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,i,n]=t,e=qr):[e,r,i,n]=t,!e)return jn;Array.isArray(r)||(r=[r]),Array.isArray(i)||(i=[i]);const s=[],o=()=>{s.forEach(c=>c()),s.length=0},a=(c,h,d,f)=>(c.addEventListener(h,d,f),()=>c.removeEventListener(h,d,f)),l=_e(()=>[br(e),Dt(n)],([c,h])=>{if(o(),!c)return;const d=ST(h)?{...h}:h;s.push(...r.flatMap(f=>i.map(p=>a(c,f,p,d))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return So(u),u}function IT(){const t=z(!1),e=on();return e&&Qe(()=>{t.value=!0},e),t}function Ml(t){const e=IT();return j(()=>(e.value,!!t()))}function OT(t,e,r={}){const{window:i=qr,...n}=r;let s;const o=Ml(()=>i&&"MutationObserver"in i),a=()=>{s&&(s.disconnect(),s=void 0)},l=j(()=>{const d=Dt(t),f=(Array.isArray(d)?d:[d]).map(br).filter(K0);return new Set(f)}),u=_e(()=>l.value,d=>{a(),o.value&&d.size&&(s=new MutationObserver(e),d.forEach(f=>s.observe(f,n)))},{immediate:!0,flush:"post"}),c=()=>s==null?void 0:s.takeRecords(),h=()=>{u(),a()};return So(h),{isSupported:o,stop:h,takeRecords:c}}function fr(t,e={}){const{window:r=qr}=e,i=Ml(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let n;const s=z(!1),o=u=>{s.value=u.matches},a=()=>{n&&("removeEventListener"in n?n.removeEventListener("change",o):n.removeListener(o))},l=ad(()=>{i.value&&(a(),n=r.matchMedia(Dt(t)),"addEventListener"in n?n.addEventListener("change",o):n.addListener(o),s.value=n.matches)});return So(()=>{l(),a(),n=void 0}),s}const Oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Lo="__vueuse_ssr_handlers__",LT=DT();function DT(){return Lo in Oo||(Oo[Lo]=Oo[Lo]||{}),Oo[Lo]}function Q0(t,e){return LT[t]||e}function BT(t){return fr("(prefers-color-scheme: dark)",t)}function FT(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const NT={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},Uf="vueuse-storage";function $d(t,e,r,i={}){var n;const{flush:s="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:u=!1,shallow:c,window:h=qr,eventFilter:d,onError:f=E=>{console.error(E)},initOnMounted:p}=i,m=(c?as:z)(typeof e=="function"?e():e);if(!r)try{r=Q0("getDefaultStorage",()=>{var E;return(E=qr)==null?void 0:E.localStorage})()}catch(E){f(E)}if(!r)return m;const g=Dt(e),v=FT(g),_=(n=i.serializer)!=null?n:NT[v],{pause:y,resume:w}=kT(m,()=>x(m.value),{flush:s,deep:o,eventFilter:d});h&&a&&kl(()=>{r instanceof Storage?eo(h,"storage",A):eo(h,Uf,P),p&&A()}),p||A();function S(E,I){if(h){const k={key:t,oldValue:E,newValue:I,storageArea:r};h.dispatchEvent(r instanceof Storage?new StorageEvent("storage",k):new CustomEvent(Uf,{detail:k}))}}function x(E){try{const I=r.getItem(t);if(E==null)S(I,null),r.removeItem(t);else{const k=_.write(E);I!==k&&(r.setItem(t,k),S(I,k))}}catch(I){f(I)}}function T(E){const I=E?E.newValue:r.getItem(t);if(I==null)return l&&g!=null&&r.setItem(t,_.write(g)),g;if(!E&&u){const k=_.read(I);return typeof u=="function"?u(k,g):v==="object"&&!Array.isArray(k)?{...g,...k}:k}else return typeof I!="string"?I:_.read(I)}function A(E){if(!(E&&E.storageArea!==r)){if(E&&E.key==null){m.value=g;return}if(!(E&&E.key!==t)){y();try{(E==null?void 0:E.newValue)!==_.write(m.value)&&(m.value=T(E))}catch(I){f(I)}finally{E?ki(w):w()}}}}function P(E){A(E.detail)}return m}const UT="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function HT(t={}){const{selector:e="html",attribute:r="class",initialValue:i="auto",window:n=qr,storage:s,storageKey:o="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:l,emitAuto:u,disableTransition:c=!0}=t,h={auto:"",light:"light",dark:"dark",...t.modes||{}},d=BT({window:n}),f=j(()=>d.value?"dark":"light"),p=l||(o==null?CT(i):$d(o,i,s,{window:n,listenToStorageChanges:a})),m=j(()=>p.value==="auto"?f.value:p.value),g=Q0("updateHTMLAttrs",(w,S,x)=>{const T=typeof w=="string"?n==null?void 0:n.document.querySelector(w):br(w);if(!T)return;const A=new Set,P=new Set;let E=null;if(S==="class"){const k=x.split(/\s/g);Object.values(h).flatMap(C=>(C||"").split(/\s/g)).filter(Boolean).forEach(C=>{k.includes(C)?A.add(C):P.add(C)})}else E={key:S,value:x};if(A.size===0&&P.size===0&&E===null)return;let I;c&&(I=n.document.createElement("style"),I.appendChild(document.createTextNode(UT)),n.document.head.appendChild(I));for(const k of A)T.classList.add(k);for(const k of P)T.classList.remove(k);E&&T.setAttribute(E.key,E.value),c&&(n.getComputedStyle(I).opacity,document.head.removeChild(I))});function v(w){var S;g(e,r,(S=h[w])!=null?S:w)}function _(w){t.onChanged?t.onChanged(w,v):v(w)}_e(m,_,{flush:"post",immediate:!0}),kl(()=>_(m.value));const y=j({get(){return u?p.value:m.value},set(w){p.value=w}});return Object.assign(y,{store:p,system:f,state:m})}function zT(t={}){const{valueDark:e="dark",valueLight:r=""}=t,i=HT({...t,onChanged:(o,a)=>{var l;t.onChanged?(l=t.onChanged)==null||l.call(t,o==="dark",a,o):a(o)},modes:{dark:e,light:r}}),n=j(()=>i.system.value);return j({get(){return i.value==="dark"},set(o){const a=o?"dark":"light";n.value===a?i.value="auto":i.value=a}})}function jT(t,e,r={}){const{window:i=qr,...n}=r;let s;const o=Ml(()=>i&&"ResizeObserver"in i),a=()=>{s&&(s.disconnect(),s=void 0)},l=j(()=>{const h=Dt(t);return Array.isArray(h)?h.map(d=>br(d)):[br(h)]}),u=_e(l,h=>{if(a(),o.value&&i){s=new ResizeObserver(e);for(const d of h)d&&s.observe(d,n)}},{immediate:!0,flush:"post"}),c=()=>{a(),u()};return So(c),{isSupported:o,stop:c}}function bU(t,e={}){const{reset:r=!0,windowResize:i=!0,windowScroll:n=!0,immediate:s=!0,updateTiming:o="sync"}=e,a=z(0),l=z(0),u=z(0),c=z(0),h=z(0),d=z(0),f=z(0),p=z(0);function m(){const v=br(t);if(!v){r&&(a.value=0,l.value=0,u.value=0,c.value=0,h.value=0,d.value=0,f.value=0,p.value=0);return}const _=v.getBoundingClientRect();a.value=_.height,l.value=_.bottom,u.value=_.left,c.value=_.right,h.value=_.top,d.value=_.width,f.value=_.x,p.value=_.y}function g(){o==="sync"?m():o==="next-frame"&&requestAnimationFrame(()=>m())}return jT(t,g),_e(()=>br(t),v=>!v&&g()),OT(t,g,{attributeFilter:["style","class"]}),n&&eo("scroll",g,{capture:!0,passive:!0}),i&&eo("resize",g,{passive:!0}),kl(()=>{s&&g()}),{height:a,bottom:l,left:u,right:c,top:h,width:d,x:f,y:p,update:g}}function xU(t,e,r={}){const{root:i,rootMargin:n="0px",threshold:s=0,window:o=qr,immediate:a=!0}=r,l=Ml(()=>o&&"IntersectionObserver"in o),u=j(()=>{const p=Dt(t);return(Array.isArray(p)?p:[p]).map(br).filter(K0)});let c=jn;const h=z(a),d=l.value?_e(()=>[u.value,br(i),h.value],([p,m])=>{if(c(),!h.value||!p.length)return;const g=new IntersectionObserver(e,{root:br(m),rootMargin:n,threshold:s});p.forEach(v=>v&&g.observe(v)),c=()=>{g.disconnect(),c=jn}},{immediate:a,flush:"post"}):jn,f=()=>{c(),d(),h.value=!1};return So(f),{isSupported:l,isActive:h,pause(){c(),h.value=!1},resume(){h.value=!0},stop:f}}function wU(t,e=jn,r={}){const{immediate:i=!0,manual:n=!1,type:s="text/javascript",async:o=!0,crossOrigin:a,referrerPolicy:l,noModule:u,defer:c,document:h=RT,attrs:d={}}=r,f=z(null);let p=null;const m=_=>new Promise((y,w)=>{const S=A=>(f.value=A,y(A),A);if(!h){y(!1);return}let x=!1,T=h.querySelector(`script[src="${Dt(t)}"]`);T?T.hasAttribute("data-loaded")&&S(T):(T=h.createElement("script"),T.type=s,T.async=o,T.src=Dt(t),c&&(T.defer=c),a&&(T.crossOrigin=a),u&&(T.noModule=u),l&&(T.referrerPolicy=l),Object.entries(d).forEach(([A,P])=>T==null?void 0:T.setAttribute(A,P)),x=!0),T.addEventListener("error",A=>w(A)),T.addEventListener("abort",A=>w(A)),T.addEventListener("load",()=>{T.setAttribute("data-loaded","true"),e(T),S(T)}),x&&(T=h.head.appendChild(T)),_||S(T)}),g=(_=!0)=>(p||(p=m(_)),p),v=()=>{if(!h)return;p=null,f.value&&(f.value=null);const _=h.querySelector(`script[src="${Dt(t)}"]`);_&&h.head.removeChild(_)};return i&&!n&&kl(g),n||MT(v),{scriptTag:f,load:g,unload:v}}function GT(t={}){const{window:e=qr,behavior:r="auto"}=t;if(!e)return{x:z(0),y:z(0)};const i=z(e.scrollX),n=z(e.scrollY),s=j({get(){return i.value},set(a){scrollTo({left:a,behavior:r})}}),o=j({get(){return n.value},set(a){scrollTo({top:a,behavior:r})}});return eo(e,"scroll",()=>{i.value=e.scrollX,n.value=e.scrollY},{capture:!1,passive:!0}),{x:s,y:o}}function $i(){const t=$r();return j(()=>t.meta.frontmatter||{})}function TU(){const t=$r();return j(()=>t.meta.$encryptedPhotos||"")}function SU(){const t=nt(),e=$r();return j(()=>((t.value.url.endsWith("/")?t.value.url.slice(0,-1):t.value.url)||Ao&&window.location.origin)+e.path)}function Rd(t={}){const e=zT(t.useDarkOptions),r=$T(e),i=j(()=>{var s,o;return e.value?((s=t.themeColor)==null?void 0:s.dark)||"#000":((o=t.themeColor)==null?void 0:o.light)||"#fff"});t.circleTransition&&Fe(()=>Promise.resolve({}),__vite__mapDeps([0]));function n(s,o={}){if(!document.startViewTransition){r();return}const a=s.clientX,l=s.clientY,u=Math.hypot(Math.max(a,innerWidth-a),Math.max(l,innerHeight-l));document.startViewTransition(()=>{r()}).ready.then(()=>{const h=[`circle(0px at ${a}px ${l}px)`,`circle(${u}px at ${a}px ${l}px)`];document.documentElement.animate({clipPath:e.value?h.reverse():h},{duration:o.duration||300,easing:o.easing||"ease-in",pseudoElement:e.value?"::view-transition-old(root)":"::view-transition-new(root)"})})}return{isDark:e,themeColor:i,toggleDark:r,toggleDarkWithTransition:n}}function VT(){const t=fr("(max-width: 639px)"),e=fr("(min-width: 640px)"),r=fr("(min-width: 768px)"),i=fr("(min-width: 1024px)"),n=fr("(min-width: 1280px)"),s=fr("(min-width: 1536px)");return{isXs:t,isSm:e,isMd:r,isLg:i,isXl:n,is2xl:s}}function ev(t){const e=$r();return j(()=>{var r;return(r=e.meta)==null?void 0:r.layout})}function WT(){return fr("(max-width: 768px)")}function XT(){const{availableLocales:t,locale:e}=gt(),r=$d("valaxy-locale",e.value);return Er.locale(e.value==="zh-CN"?"zh-cn":"en"),{lang:r,toggleLocales:()=>{const n=t;e.value=n[(n.indexOf(e.value)+1)%n.length],r.value=e.value,Er.locale(e.value==="zh-CN"?"zh-cn":"en"),Ao&&document.documentElement.setAttribute("lang",e.value)}}}var Rc=[];function YT(t,e,r){Rc.length=0;let i=[],n=[];return t.forEach(s=>{let o={...s,children:[]},a=n[n.length-1];for(;a&&a.level>=o.level;)n.pop(),a=n[n.length-1];if(o.element.classList.contains("ignore-header")||a&&"shouldIgnore"in a){n.push({level:o.level,shouldIgnore:!0});return}o.level>r||o.level<e||(Rc.push({element:o.element,link:o.link}),a?a.children.push(o):i.push(o),n.push(o))}),i}function qT(t,e=[2,4]){let r=(typeof e=="object"&&!Array.isArray(e)?e.level:e)||2,[i,n]=typeof r=="number"?[r,r]:r==="deep"?[2,6]:r;return YT(t,i,n)}function KT(t){let e="";for(let r of Array.from(t.childNodes))if(r.nodeType===1){if(r.classList.contains("VABadge")||r.classList.contains("header-anchor"))continue;e+=r.textContent}else r.nodeType===3&&(e+=r.textContent);return e.trim()}function ZT(t={range:[2,4],selector:".markdown-body"}){let e=t.selector||".markdown-body",r=document.querySelectorAll(e),i=r[r.length-1],n=Array.from(i.querySelectorAll(`${e} :where(h1,h2,h3,h4,h5,h6)`)).filter(s=>t.filter?t.filter(s):!0).map(s=>{let o=Number(s.tagName[1]);return{element:s,title:KT(s),link:`#${s.id}`,level:o,lang:s.lang}});return qT(n,t.range)}let Ta=[];function JT(t){Ta.push(t),dn(()=>{Ta=Ta.filter(e=>e!==t)})}const QT=()=>Ta.forEach(t=>t()),AU=QT;function EU(t,e){return Math.random()*(e-t)+t}function e2(t,e){let r,i=!1;return()=>{r&&clearTimeout(r),i?r=setTimeout(t,e):(t(),i=!0,setTimeout(()=>{i=!1},e))}}function CU(t){return new Promise(e=>setTimeout(e,t))}function t2(){const{hasSidebar:t}=q2(),e=fr("(min-width: 960px)"),r=fr("(min-width: 1280px)");return{isAsideEnabled:j(()=>!r.value&&!e.value?!1:t.value?r.value:e.value)}}const r2=130,lu=33;function i2(t){let e=0;for(;t!==document.body;){if(t===null)return Number.NaN;e+=t.offsetTop,t=t.offsetParent}return e}function n2(t,e){const{isAsideEnabled:r}=t2(),i=e2(o,100);let n=null;Qe(()=>{requestAnimationFrame(o),window.addEventListener("scroll",i)}),gx(()=>{a(location.hash)}),dn(()=>{window.removeEventListener("scroll",i)});const s=()=>{const l=n;if(!l)return;const u=document.querySelector(".yun-aside");if(u){const c=l.offsetTop+lu+60;(c<u.scrollTop||c>u.offsetHeight+u.scrollTop)&&u.scrollTo({top:c,behavior:"smooth"})}};function o(){if(!r.value)return;const l=window.scrollY,u=window.innerHeight,c=document.body.offsetHeight,h=Math.abs(l+u-c)<1,d=Rc.map(({element:p,link:m})=>({link:m,top:i2(p)})).filter(({top:p})=>!Number.isNaN(p)).sort((p,m)=>p.top-m.top);if(!d.length){a(null);return}if(l<1){a(null);return}if(h){a(d[d.length-1].link);return}let f=null;for(const{link:p,top:m}of d){if(m>l+4+r2)break;f=p}a(f)}function a(l){n&&n.classList.remove("active"),l==null?n=null:n=t.value.querySelector(`a[href="${decodeURIComponent(l)}"]`);const u=n;s(),u?(u.classList.add("active"),e.value.style.top=`${u.offsetTop+lu}px`,e.value.style.opacity="1"):e.value&&(e.value.style.top=`${lu}px`,e.value.style.opacity="0")}}function s2(){const t=$i(),e=Md(),r=as([]),i=j(()=>t.value.outline??e.value.outline);return JT(()=>{i.value!==!1&&(r.value=ZT({range:i.value,selector:".markdown-body",filter:s=>!!s.id&&s.hasChildNodes()}))}),{headers:r,handleClick:({target:s})=>{const o=s.href.split("#")[1],a=document.getElementById(decodeURIComponent(o));a==null||a.focus({preventScroll:!0})}}}function PU(t){const{locale:e}=gt();return j(()=>{const r=e.value==="zh-CN"?"zh":e.value;return t.value[`title_${r}`]||t.value.title})}function o2(){const e=Y0().router;return j(()=>{const r=["/:..all","/:all(.*)*","/","/:path(.*)"];return e.getRoutes().filter(n=>n.name).filter(n=>n.meta).filter(n=>n.meta.frontmatter).filter(n=>n.path&&!r.includes(n.path)).map(n=>Object.assign({path:n.path,excerpt:n.meta.excerpt},n.meta.frontmatter||{}))})}function a2(t={}){const e=o2();return j(()=>{const r=e.value.filter(s=>{var o,a;return((o=s.path)==null?void 0:o.startsWith("/posts"))&&!((a=s.path)!=null&&a.endsWith(".html"))&&s.date&&(!t.type||s.type===t.type)&&(!s.hide||s.hide==="index")}),i=Nf(r.filter(s=>s.top)).sort((s,o)=>o.top-s.top),n=Nf(r.filter(s=>!s.top));return i.concat(n)})}function ti(t){return typeof t=="function"?t():R(t)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function Kr(t){return Array.isArray?Array.isArray(t):iv(t)==="[object Array]"}function l2(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function u2(t){return t==null?"":l2(t)}function gr(t){return typeof t=="string"}function tv(t){return typeof t=="number"}function c2(t){return t===!0||t===!1||h2(t)&&iv(t)=="[object Boolean]"}function rv(t){return typeof t=="object"}function h2(t){return rv(t)&&t!==null}function xt(t){return t!=null}function uu(t){return!t.trim().length}function iv(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const d2="Incorrect 'index' type",f2=t=>`Invalid value for key ${t}`,p2=t=>`Pattern length exceeds max of ${t}.`,m2=t=>`Missing ${t} property in key`,g2=t=>`Property 'weight' in key '${t}' must be a positive integer`,Hf=Object.prototype.hasOwnProperty;class y2{constructor(e){this._keys=[],this._keyMap={};let r=0;e.forEach(i=>{let n=nv(i);this._keys.push(n),this._keyMap[n.id]=n,r+=n.weight}),this._keys.forEach(i=>{i.weight/=r})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function nv(t){let e=null,r=null,i=null,n=1,s=null;if(gr(t)||Kr(t))i=t,e=zf(t),r=Ic(t);else{if(!Hf.call(t,"name"))throw new Error(m2("name"));const o=t.name;if(i=o,Hf.call(t,"weight")&&(n=t.weight,n<=0))throw new Error(g2(o));e=zf(o),r=Ic(o),s=t.getFn}return{path:e,id:r,weight:n,src:i,getFn:s}}function zf(t){return Kr(t)?t:t.split(".")}function Ic(t){return Kr(t)?t.join("."):t}function v2(t,e){let r=[],i=!1;const n=(s,o,a)=>{if(xt(s))if(!o[a])r.push(s);else{let l=o[a];const u=s[l];if(!xt(u))return;if(a===o.length-1&&(gr(u)||tv(u)||c2(u)))r.push(u2(u));else if(Kr(u)){i=!0;for(let c=0,h=u.length;c<h;c+=1)n(u[c],o,a+1)}else o.length&&n(u,o,a+1)}};return n(t,gr(e)?e.split("."):e,0),i?r:r[0]}const _2={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},b2={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},x2={location:0,threshold:.6,distance:100},w2={useExtendedSearch:!1,getFn:v2,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var ne={...b2,..._2,...x2,...w2};const T2=/[^ ]+/g;function S2(t=1,e=3){const r=new Map,i=Math.pow(10,e);return{get(n){const s=n.match(T2).length;if(r.has(s))return r.get(s);const o=1/Math.pow(s,.5*t),a=parseFloat(Math.round(o*i)/i);return r.set(s,a),a},clear(){r.clear()}}}class Id{constructor({getFn:e=ne.getFn,fieldNormWeight:r=ne.fieldNormWeight}={}){this.norm=S2(r,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((r,i)=>{this._keysMap[r.id]=i})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,gr(this.docs[0])?this.docs.forEach((e,r)=>{this._addString(e,r)}):this.docs.forEach((e,r)=>{this._addObject(e,r)}),this.norm.clear())}add(e){const r=this.size();gr(e)?this._addString(e,r):this._addObject(e,r)}removeAt(e){this.records.splice(e,1);for(let r=e,i=this.size();r<i;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(e,r){return e[this._keysMap[r]]}size(){return this.records.length}_addString(e,r){if(!xt(e)||uu(e))return;let i={v:e,i:r,n:this.norm.get(e)};this.records.push(i)}_addObject(e,r){let i={i:r,$:{}};this.keys.forEach((n,s)=>{let o=n.getFn?n.getFn(e):this.getFn(e,n.path);if(xt(o)){if(Kr(o)){let a=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:u,value:c}=l.pop();if(xt(c))if(gr(c)&&!uu(c)){let h={v:c,i:u,n:this.norm.get(c)};a.push(h)}else Kr(c)&&c.forEach((h,d)=>{l.push({nestedArrIndex:d,value:h})})}i.$[s]=a}else if(gr(o)&&!uu(o)){let a={v:o,n:this.norm.get(o)};i.$[s]=a}}}),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function sv(t,e,{getFn:r=ne.getFn,fieldNormWeight:i=ne.fieldNormWeight}={}){const n=new Id({getFn:r,fieldNormWeight:i});return n.setKeys(t.map(nv)),n.setSources(e),n.create(),n}function A2(t,{getFn:e=ne.getFn,fieldNormWeight:r=ne.fieldNormWeight}={}){const{keys:i,records:n}=t,s=new Id({getFn:e,fieldNormWeight:r});return s.setKeys(i),s.setIndexRecords(n),s}function Do(t,{errors:e=0,currentLocation:r=0,expectedLocation:i=0,distance:n=ne.distance,ignoreLocation:s=ne.ignoreLocation}={}){const o=e/t.length;if(s)return o;const a=Math.abs(i-r);return n?o+a/n:a?1:o}function E2(t=[],e=ne.minMatchCharLength){let r=[],i=-1,n=-1,s=0;for(let o=t.length;s<o;s+=1){let a=t[s];a&&i===-1?i=s:!a&&i!==-1&&(n=s-1,n-i+1>=e&&r.push([i,n]),i=-1)}return t[s-1]&&s-i>=e&&r.push([i,s-1]),r}const Yi=32;function C2(t,e,r,{location:i=ne.location,distance:n=ne.distance,threshold:s=ne.threshold,findAllMatches:o=ne.findAllMatches,minMatchCharLength:a=ne.minMatchCharLength,includeMatches:l=ne.includeMatches,ignoreLocation:u=ne.ignoreLocation}={}){if(e.length>Yi)throw new Error(p2(Yi));const c=e.length,h=t.length,d=Math.max(0,Math.min(i,h));let f=s,p=d;const m=a>1||l,g=m?Array(h):[];let v;for(;(v=t.indexOf(e,p))>-1;){let T=Do(e,{currentLocation:v,expectedLocation:d,distance:n,ignoreLocation:u});if(f=Math.min(T,f),p=v+c,m){let A=0;for(;A<c;)g[v+A]=1,A+=1}}p=-1;let _=[],y=1,w=c+h;const S=1<<c-1;for(let T=0;T<c;T+=1){let A=0,P=w;for(;A<P;)Do(e,{errors:T,currentLocation:d+P,expectedLocation:d,distance:n,ignoreLocation:u})<=f?A=P:w=P,P=Math.floor((w-A)/2+A);w=P;let E=Math.max(1,d-P+1),I=o?h:Math.min(d+P,h)+c,k=Array(I+2);k[I+1]=(1<<T)-1;for(let M=I;M>=E;M-=1){let D=M-1,Y=r[t.charAt(D)];if(m&&(g[D]=+!!Y),k[M]=(k[M+1]<<1|1)&Y,T&&(k[M]|=(_[M+1]|_[M])<<1|1|_[M+1]),k[M]&S&&(y=Do(e,{errors:T,currentLocation:D,expectedLocation:d,distance:n,ignoreLocation:u}),y<=f)){if(f=y,p=D,p<=d)break;E=Math.max(1,2*d-p)}}if(Do(e,{errors:T+1,currentLocation:d,expectedLocation:d,distance:n,ignoreLocation:u})>f)break;_=k}const x={isMatch:p>=0,score:Math.max(.001,y)};if(m){const T=E2(g,a);T.length?l&&(x.indices=T):x.isMatch=!1}return x}function P2(t){let e={};for(let r=0,i=t.length;r<i;r+=1){const n=t.charAt(r);e[n]=(e[n]||0)|1<<i-r-1}return e}const za=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class ov{constructor(e,{location:r=ne.location,threshold:i=ne.threshold,distance:n=ne.distance,includeMatches:s=ne.includeMatches,findAllMatches:o=ne.findAllMatches,minMatchCharLength:a=ne.minMatchCharLength,isCaseSensitive:l=ne.isCaseSensitive,ignoreDiacritics:u=ne.ignoreDiacritics,ignoreLocation:c=ne.ignoreLocation}={}){if(this.options={location:r,threshold:i,distance:n,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:u,ignoreLocation:c},e=l?e:e.toLowerCase(),e=u?za(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const h=(f,p)=>{this.chunks.push({pattern:f,alphabet:P2(f),startIndex:p})},d=this.pattern.length;if(d>Yi){let f=0;const p=d%Yi,m=d-p;for(;f<m;)h(this.pattern.substr(f,Yi),f),f+=Yi;if(p){const g=d-Yi;h(this.pattern.substr(g),g)}}else h(this.pattern,0)}searchIn(e){const{isCaseSensitive:r,ignoreDiacritics:i,includeMatches:n}=this.options;if(e=r?e:e.toLowerCase(),e=i?za(e):e,this.pattern===e){let m={isMatch:!0,score:0};return n&&(m.indices=[[0,e.length-1]]),m}const{location:s,distance:o,threshold:a,findAllMatches:l,minMatchCharLength:u,ignoreLocation:c}=this.options;let h=[],d=0,f=!1;this.chunks.forEach(({pattern:m,alphabet:g,startIndex:v})=>{const{isMatch:_,score:y,indices:w}=C2(e,m,g,{location:s+v,distance:o,threshold:a,findAllMatches:l,minMatchCharLength:u,includeMatches:n,ignoreLocation:c});_&&(f=!0),d+=y,_&&w&&(h=[...h,...w])});let p={isMatch:f,score:f?d/this.chunks.length:1};return f&&n&&(p.indices=h),p}}class Ri{constructor(e){this.pattern=e}static isMultiMatch(e){return jf(e,this.multiRegex)}static isSingleMatch(e){return jf(e,this.singleRegex)}search(){}}function jf(t,e){const r=t.match(e);return r?r[1]:null}class k2 extends Ri{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const r=e===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class M2 extends Ri{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const i=e.indexOf(this.pattern)===-1;return{isMatch:i,score:i?0:1,indices:[0,e.length-1]}}}class $2 extends Ri{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const r=e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class R2 extends Ri{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const r=!e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class I2 extends Ri{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const r=e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class O2 extends Ri{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const r=!e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class av extends Ri{constructor(e,{location:r=ne.location,threshold:i=ne.threshold,distance:n=ne.distance,includeMatches:s=ne.includeMatches,findAllMatches:o=ne.findAllMatches,minMatchCharLength:a=ne.minMatchCharLength,isCaseSensitive:l=ne.isCaseSensitive,ignoreDiacritics:u=ne.ignoreDiacritics,ignoreLocation:c=ne.ignoreLocation}={}){super(e),this._bitapSearch=new ov(e,{location:r,threshold:i,distance:n,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:u,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class lv extends Ri{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let r=0,i;const n=[],s=this.pattern.length;for(;(i=e.indexOf(this.pattern,r))>-1;)r=i+s,n.push([i,r-1]);const o=!!n.length;return{isMatch:o,score:o?0:1,indices:n}}}const Oc=[k2,lv,$2,R2,O2,I2,M2,av],Gf=Oc.length,L2=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,D2="|";function B2(t,e={}){return t.split(D2).map(r=>{let i=r.trim().split(L2).filter(s=>s&&!!s.trim()),n=[];for(let s=0,o=i.length;s<o;s+=1){const a=i[s];let l=!1,u=-1;for(;!l&&++u<Gf;){const c=Oc[u];let h=c.isMultiMatch(a);h&&(n.push(new c(h,e)),l=!0)}if(!l)for(u=-1;++u<Gf;){const c=Oc[u];let h=c.isSingleMatch(a);if(h){n.push(new c(h,e));break}}}return n})}const F2=new Set([av.type,lv.type]);class N2{constructor(e,{isCaseSensitive:r=ne.isCaseSensitive,ignoreDiacritics:i=ne.ignoreDiacritics,includeMatches:n=ne.includeMatches,minMatchCharLength:s=ne.minMatchCharLength,ignoreLocation:o=ne.ignoreLocation,findAllMatches:a=ne.findAllMatches,location:l=ne.location,threshold:u=ne.threshold,distance:c=ne.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:i,includeMatches:n,minMatchCharLength:s,findAllMatches:a,ignoreLocation:o,location:l,threshold:u,distance:c},e=r?e:e.toLowerCase(),e=i?za(e):e,this.pattern=e,this.query=B2(this.pattern,this.options)}static condition(e,r){return r.useExtendedSearch}searchIn(e){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:n,ignoreDiacritics:s}=this.options;e=n?e:e.toLowerCase(),e=s?za(e):e;let o=0,a=[],l=0;for(let u=0,c=r.length;u<c;u+=1){const h=r[u];a.length=0,o=0;for(let d=0,f=h.length;d<f;d+=1){const p=h[d],{isMatch:m,indices:g,score:v}=p.search(e);if(m){if(o+=1,l+=v,i){const _=p.constructor.type;F2.has(_)?a=[...a,...g]:a.push(g)}}else{l=0,o=0,a.length=0;break}}if(o){let d={isMatch:!0,score:l/o};return i&&(d.indices=a),d}}return{isMatch:!1,score:1}}}const Lc=[];function U2(...t){Lc.push(...t)}function Dc(t,e){for(let r=0,i=Lc.length;r<i;r+=1){let n=Lc[r];if(n.condition(t,e))return new n(t,e)}return new ov(t,e)}const ja={AND:"$and",OR:"$or"},Bc={PATH:"$path",PATTERN:"$val"},Fc=t=>!!(t[ja.AND]||t[ja.OR]),H2=t=>!!t[Bc.PATH],z2=t=>!Kr(t)&&rv(t)&&!Fc(t),Vf=t=>({[ja.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function uv(t,e,{auto:r=!0}={}){const i=n=>{let s=Object.keys(n);const o=H2(n);if(!o&&s.length>1&&!Fc(n))return i(Vf(n));if(z2(n)){const l=o?n[Bc.PATH]:s[0],u=o?n[Bc.PATTERN]:n[l];if(!gr(u))throw new Error(f2(l));const c={keyId:Ic(l),pattern:u};return r&&(c.searcher=Dc(u,e)),c}let a={children:[],operator:s[0]};return s.forEach(l=>{const u=n[l];Kr(u)&&u.forEach(c=>{a.children.push(i(c))})}),a};return Fc(t)||(t=Vf(t)),i(t)}function j2(t,{ignoreFieldNorm:e=ne.ignoreFieldNorm}){t.forEach(r=>{let i=1;r.matches.forEach(({key:n,norm:s,score:o})=>{const a=n?n.weight:null;i*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(e?1:s))}),r.score=i})}function G2(t,e){const r=t.matches;e.matches=[],xt(r)&&r.forEach(i=>{if(!xt(i.indices)||!i.indices.length)return;const{indices:n,value:s}=i;let o={indices:n,value:s};i.key&&(o.key=i.key.src),i.idx>-1&&(o.refIndex=i.idx),e.matches.push(o)})}function V2(t,e){e.score=t.score}function W2(t,e,{includeMatches:r=ne.includeMatches,includeScore:i=ne.includeScore}={}){const n=[];return r&&n.push(G2),i&&n.push(V2),t.map(s=>{const{idx:o}=s,a={item:e[o],refIndex:o};return n.length&&n.forEach(l=>{l(s,a)}),a})}class hs{constructor(e,r={},i){this.options={...ne,...r},this.options.useExtendedSearch,this._keyStore=new y2(this.options.keys),this.setCollection(e,i)}setCollection(e,r){if(this._docs=e,r&&!(r instanceof Id))throw new Error(d2);this._myIndex=r||sv(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){xt(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const r=[];for(let i=0,n=this._docs.length;i<n;i+=1){const s=this._docs[i];e(s,i)&&(this.removeAt(i),i-=1,n-=1,r.push(s))}return r}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:r=-1}={}){const{includeMatches:i,includeScore:n,shouldSort:s,sortFn:o,ignoreFieldNorm:a}=this.options;let l=gr(e)?gr(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return j2(l,{ignoreFieldNorm:a}),s&&l.sort(o),tv(r)&&r>-1&&(l=l.slice(0,r)),W2(l,this._docs,{includeMatches:i,includeScore:n})}_searchStringList(e){const r=Dc(e,this.options),{records:i}=this._myIndex,n=[];return i.forEach(({v:s,i:o,n:a})=>{if(!xt(s))return;const{isMatch:l,score:u,indices:c}=r.searchIn(s);l&&n.push({item:s,idx:o,matches:[{score:u,value:s,norm:a,indices:c}]})}),n}_searchLogical(e){const r=uv(e,this.options),i=(a,l,u)=>{if(!a.children){const{keyId:h,searcher:d}=a,f=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(l,h),searcher:d});return f&&f.length?[{idx:u,item:l,matches:f}]:[]}const c=[];for(let h=0,d=a.children.length;h<d;h+=1){const f=a.children[h],p=i(f,l,u);if(p.length)c.push(...p);else if(a.operator===ja.AND)return[]}return c},n=this._myIndex.records,s={},o=[];return n.forEach(({$:a,i:l})=>{if(xt(a)){let u=i(r,a,l);u.length&&(s[l]||(s[l]={idx:l,item:a,matches:[]},o.push(s[l])),u.forEach(({matches:c})=>{s[l].matches.push(...c)}))}}),o}_searchObjectList(e){const r=Dc(e,this.options),{keys:i,records:n}=this._myIndex,s=[];return n.forEach(({$:o,i:a})=>{if(!xt(o))return;let l=[];i.forEach((u,c)=>{l.push(...this._findMatches({key:u,value:o[c],searcher:r}))}),l.length&&s.push({idx:a,item:o,matches:l})}),s}_findMatches({key:e,value:r,searcher:i}){if(!xt(r))return[];let n=[];if(Kr(r))r.forEach(({v:s,i:o,n:a})=>{if(!xt(s))return;const{isMatch:l,score:u,indices:c}=i.searchIn(s);l&&n.push({score:u,key:e,value:s,idx:o,norm:a,indices:c})});else{const{v:s,n:o}=r,{isMatch:a,score:l,indices:u}=i.searchIn(s);a&&n.push({score:l,key:e,value:s,norm:o,indices:u})}return n}}hs.version="7.1.0";hs.createIndex=sv;hs.parseIndex=A2;hs.config=ne;hs.parseQuery=uv;U2(N2);function X2(t,e,r){const i=()=>{var o,a;return new hs((o=ti(e))!=null?o:[],(a=ti(r))==null?void 0:a.fuseOptions)},n=z(i());_e(()=>{var o;return(o=ti(r))==null?void 0:o.fuseOptions},()=>{n.value=i()},{deep:!0}),_e(()=>ti(e),o=>{n.value.setCollection(o)},{deep:!0});const s=j(()=>{const o=ti(r);if(o!=null&&o.matchAllWhenSearchEmpty&&!ti(t))return ti(e).map((l,u)=>({item:l,refIndex:u}));const a=o==null?void 0:o.resultLimit;return n.value.search(ti(t),a?{limit:a}:void 0)});return{fuse:n,results:s}}function Y2(t,e){const r=nt(),i=as([]),n=j(()=>{const c=r.value.fuse.options.keys||[];return c.length===0?["title","tags","categories","excerpt"]:c}),s={fuseOptions:{includeMatches:!0,findAllMatches:!0,...r.value.fuse.options,keys:n.value}},o=j(()=>({...s,...e})),{fuse:a,results:l}=X2(t,i,o);async function u(c){const h=c||(r.value.fuse.dataPath.startsWith("http")?r.value.fuse.dataPath:`/${r.value.fuse.dataPath}`),f=await(await fetch(h)).json();Array.isArray(f)&&(i.value=f)}return{fuse:a,results:l,fetchFuseListData:u}}function q2(){const t=z(!1),e=$i(),r=ev(),i=j(()=>e.value.sidebar!==!1&&r.value!=="home");function n(){t.value=!0}function s(){t.value=!1}function o(){t.value?s():n()}return{isOpen:t,hasSidebar:i,open:n,close:s,toggle:o}}function cv(){const t=Pl();return j(()=>{const e=new Map;return t.postList.forEach(r=>{if(r.tags){let i;typeof r.tags=="string"?i=[r.tags]:i=r.tags,i.forEach(n=>{if(e.has(n)){const s=e.get(n);e.set(n,{...s,count:s.count+1})}else e.set(n,{count:1})})}}),e})}function K2(t={offset:100}){if(!Ao)return{percentage:z(0),show:z(!1)};const{y:e}=GT(),r=j(()=>e.value/(document.body.scrollHeight-window.innerHeight)),i=j(()=>e.value>t.offset);return{percentage:r,show:i,backToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})}}}const Z2={};function J2(t,e){const r=ft("RouterView");return $(),ue(r)}const Q2=Mr(Z2,[["render",J2]]),eS={},tS={class:"businessCardContainer"};function rS(t,e){return $(),N("div",tS,[...e[0]||(e[0]=[Hy('<div class="business-center" data-v-8fd0fb70><div class="business-card" data-v-8fd0fb70><div class="business-flip" data-v-8fd0fb70><div class="business-front" data-v-8fd0fb70><div class="business-strip-bottom" data-v-8fd0fb70></div><div class="business-strip-top" data-v-8fd0fb70></div><img class="business-logo entered loaded" width="80" height="80" src="https://s2.loli.net/2025/01/11/7mIexbu9TgEtBiK.jpg" data-lazy-src="https://s2.loli.net/2025/01/11/7mIexbu9TgEtBiK.jpg" alt="cardcode" data-ll-status="loaded" data-v-8fd0fb70><div class="business-Invitation" data-v-8fd0fb70>Invitation</div><div class="business-chip" data-v-8fd0fb70><div class="business-chip-line" data-v-8fd0fb70></div><div class="business-chip-line" data-v-8fd0fb70></div><div class="business-chip-line" data-v-8fd0fb70></div><div class="business-chip-line" data-v-8fd0fb70></div><div class="business-chip-main" data-v-8fd0fb70></div></div><svg class="business-wave" viewBox="0 3.71 26.959 38.787" width="26.959" height="38.787" fill="white" data-v-8fd0fb70><path d="M19.709 3.719c.266.043.5.187.656.406 4.125 5.207 6.594 11.781 6.594 18.938 0 7.156-2.469 13.73-6.594 18.937-.195.336-.57.531-.957.492a.9946.9946 0 0 1-.851-.66c-.129-.367-.035-.777.246-1.051 3.855-4.867 6.156-11.023 6.156-17.718 0-6.696-2.301-12.852-6.156-17.719-.262-.317-.301-.762-.102-1.121.204-.36.602-.559 1.008-.504z" data-v-8fd0fb70></path><path d="M13.74 7.563c.231.039.442.164.594.343 3.508 4.059 5.625 9.371 5.625 15.157 0 5.785-2.113 11.097-5.625 15.156-.363.422-1 .472-1.422.109-.422-.363-.472-1-.109-1.422 3.211-3.711 5.156-8.551 5.156-13.843 0-5.293-1.949-10.133-5.156-13.844-.27-.309-.324-.75-.141-1.114.188-.367.578-.582.985-.542h.093z" data-v-8fd0fb70></path><path d="M7.584 11.438c.227.031.438.144.594.312 2.953 2.863 4.781 6.875 4.781 11.313 0 4.433-1.828 8.449-4.781 11.312-.398.387-1.035.383-1.422-.016-.387-.398-.383-1.035.016-1.421 2.582-2.504 4.187-5.993 4.187-9.875 0-3.883-1.605-7.372-4.187-9.875-.321-.282-.426-.739-.266-1.133.164-.395.559-.641.984-.617h.094zM1.178 15.531c.121.02.238.063.344.125 2.633 1.414 4.437 4.215 4.437 7.407 0 3.195-1.797 5.996-4.437 7.406-.492.258-1.102.07-1.36-.422-.257-.492-.07-1.102.422-1.359 2.012-1.075 3.375-3.176 3.375-5.625 0-2.446-1.371-4.551-3.375-5.625-.441-.204-.676-.692-.551-1.165.122-.468.567-.785 1.051-.742h.094z" data-v-8fd0fb70></path></svg><div class="business-card-number" data-v-8fd0fb70><div class="business-section" data-v-8fd0fb70></div><div class="business-section" data-v-8fd0fb70>1018605693</div></div><div class="business-end" data-v-8fd0fb70><span class="business-end-text" data-v-8fd0fb70>created:</span><span class="business-end-date" data-v-8fd0fb70>11/1/2025</span></div><div class="business-card-holder" data-v-8fd0fb70>Welcome to organization</div><div class="business-master" data-v-8fd0fb70><div class="business-circle business-master-red" data-v-8fd0fb70></div><div class="business-circle business-master-yellow" data-v-8fd0fb70></div></div></div><div class="business-back" data-v-8fd0fb70><div class="business-strip-black" data-v-8fd0fb70></div><div class="business-ccv" data-v-8fd0fb70><label data-v-8fd0fb70>sitelink</label><div data-v-8fd0fb70><a target="_blank" href="https://qm.qq.com/cgi-bin/qm/qr?k=VIkHbsQlD-iCBPT9GoSedTiSi7zD9Ph-&amp;jump_from=webapi&amp;authKey=K/DqfDhmVoX5Qt5J3TlvPQF5WwSESjVtbWedLOW6eTAvNUW5inzV35zDErIpR/mB" data-v-8fd0fb70></a></div></div><div class="business-terms" data-v-8fd0fb70><p data-v-8fd0fb70>Use this card to join the organization and participate in a pleasant discussion together .</p><p data-v-8fd0fb70>Welcome to &#39;s organization,wish you a nice day .</p></div></div></div></div></div>',1)])])}const iS=Mr(eS,[["render",rS],["__scopeId","data-v-8fd0fb70"]]),nS={class:"vc-site-live-time"},sS={"mx-1":""},oS={"mx-1":""},aS={"mx-1":""},lS={"mx-1":""},uS=H({__name:"VCLiveTime",props:{startTime:{}},setup(t){const e=t,{t:r}=gt(),i=z(0),n=z(0),s=z(0),o=z(0);function a(){const l=Er(e.startTime),c=Er().diff(l)/1e3;i.value=Math.floor(c/60/60/24),n.value=Math.floor(c/60/60%24),s.value=Math.floor(c/60%60),o.value=Math.floor(c%60)}return Qe(()=>{setInterval(a,1e3)}),(l,u)=>($(),N("div",nS,[lt(l.$slots,"live-time-before"),O("span",sS,me(R(r)("time.day",i.value)),1),O("span",oS,me(R(r)("time.hour",n.value)),1),O("span",aS,me(R(r)("time.minute",s.value)),1),O("span",lS,me(R(r)("time.second",o.value)),1),lt(l.$slots,"live-time-after")]))}}),cS={},hS={class:"yun-cloud"};function dS(t,e){return $(),N("div",hS,[...e[0]||(e[0]=[Hy('<svg class="waves" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" fill="var(--yun-c-cloud)"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg>',1)])])}const fS=Mr(cS,[["render",dS]]);function Ii(){const t=To();return j(()=>t.value.themeConfig)}function Si(t){return Ny()?(Uy(t),!0):!1}function xe(t){return typeof t=="function"?t():R(t)}const Ai=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const pS=t=>t!=null,mS=Object.prototype.toString,gS=t=>mS.call(t)==="[object Object]",Bt=()=>{},Nc=yS();function yS(){var t,e;return Ai&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function Od(t,e){function r(...i){return new Promise((n,s)=>{Promise.resolve(t(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})).then(n).catch(s)})}return r}const hv=t=>t();function vS(t,e={}){let r,i,n=Bt;const s=a=>{clearTimeout(a),n(),n=Bt};return a=>{const l=xe(t),u=xe(e.maxWait);return r&&s(r),l<=0||u!==void 0&&u<=0?(i&&(s(i),i=null),Promise.resolve(a())):new Promise((c,h)=>{n=e.rejectOnCancel?h:c,u&&!i&&(i=setTimeout(()=>{r&&s(r),i=null,c(a())},u)),r=setTimeout(()=>{i&&s(i),i=null,c(a())},l)})}}function _S(...t){let e=0,r,i=!0,n=Bt,s,o,a,l,u;!vl(t[0])&&typeof t[0]=="object"?{delay:o,trailing:a=!0,leading:l=!0,rejectOnCancel:u=!1}=t[0]:[o,a=!0,l=!0,u=!1]=t;const c=()=>{r&&(clearTimeout(r),r=void 0,n(),n=Bt)};return d=>{const f=xe(o),p=Date.now()-e,m=()=>s=d();return c(),f<=0?(e=Date.now(),m()):(p>f&&(l||!i)?(e=Date.now(),m()):a&&(s=new Promise((g,v)=>{n=u?v:g,r=setTimeout(()=>{e=Date.now(),i=!0,g(m()),c()},Math.max(0,f-p))})),!l&&!r&&(r=setTimeout(()=>i=!0,f)),i=!1,s)}}function bS(t=hv){const e=z(!0);function r(){e.value=!1}function i(){e.value=!0}const n=(...s)=>{e.value&&t(...s)};return{isActive:Mi(e),pause:r,resume:i,eventFilter:n}}function dv(t){return on()}function xS(...t){if(t.length!==1)return By(...t);const e=t[0];return typeof e=="function"?Mi(Fy(()=>({get:e,set:Bt}))):z(e)}function wS(t,e=200,r={}){return Od(vS(e,r),t)}function TS(t,e=200,r=!1,i=!0,n=!1){return Od(_S(e,r,i,n),t)}function SS(t,e,r={}){const{eventFilter:i=hv,...n}=r;return _e(t,Od(i,e),n)}function AS(t,e,r={}){const{eventFilter:i,...n}=r,{eventFilter:s,pause:o,resume:a,isActive:l}=bS(i);return{stop:SS(t,e,{...n,eventFilter:s}),pause:o,resume:a,isActive:l}}function $l(t,e=!0,r){dv()?Qe(t,r):e?t():ki(t)}function ES(t,e){dv()&&dn(t,e)}function CS(t,e=1e3,r={}){const{immediate:i=!0,immediateCallback:n=!1}=r;let s=null;const o=z(!1);function a(){s&&(clearInterval(s),s=null)}function l(){o.value=!1,a()}function u(){const c=xe(e);c<=0||(o.value=!0,n&&t(),a(),o.value&&(s=setInterval(t,c)))}if(i&&Ai&&u(),vl(e)||typeof e=="function"){const c=_e(e,()=>{o.value&&Ai&&u()});Si(c)}return Si(l),{isActive:o,pause:l,resume:u}}function cu(t=!1,e={}){const{truthyValue:r=!0,falsyValue:i=!1}=e,n=vl(t),s=z(t);function o(a){if(arguments.length)return s.value=a,s.value;{const l=xe(r);return s.value=s.value===l?xe(i):l,s.value}}return n?o:[s,o]}const Zr=Ai?window:void 0,fv=Ai?window.document:void 0;function hi(t){var e;const r=xe(t);return(e=r==null?void 0:r.$el)!=null?e:r}function Ft(...t){let e,r,i,n;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,i,n]=t,e=Zr):[e,r,i,n]=t,!e)return Bt;Array.isArray(r)||(r=[r]),Array.isArray(i)||(i=[i]);const s=[],o=()=>{s.forEach(c=>c()),s.length=0},a=(c,h,d,f)=>(c.addEventListener(h,d,f),()=>c.removeEventListener(h,d,f)),l=_e(()=>[hi(e),xe(n)],([c,h])=>{if(o(),!c)return;const d=gS(h)?{...h}:h;s.push(...r.flatMap(f=>i.map(p=>a(c,f,p,d))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return Si(u),u}let Wf=!1;function PS(t,e,r={}){const{window:i=Zr,ignore:n=[],capture:s=!0,detectIframe:o=!1}=r;if(!i)return Bt;Nc&&!Wf&&(Wf=!0,Array.from(i.document.body.children).forEach(m=>m.addEventListener("click",Bt)),i.document.documentElement.addEventListener("click",Bt));let a=!0;const l=m=>xe(n).some(g=>{if(typeof g=="string")return Array.from(i.document.querySelectorAll(g)).some(v=>v===m.target||m.composedPath().includes(v));{const v=hi(g);return v&&(m.target===v||m.composedPath().includes(v))}});function u(m){const g=xe(m);return g&&g.$.subTree.shapeFlag===16}function c(m,g){const v=xe(m),_=v.$.subTree&&v.$.subTree.children;return _==null||!Array.isArray(_)?!1:_.some(y=>y.el===g.target||g.composedPath().includes(y.el))}const h=m=>{const g=hi(t);if(m.target!=null&&!(!(g instanceof Element)&&u(t)&&c(t,m))&&!(!g||g===m.target||m.composedPath().includes(g))&&(m.detail===0&&(a=!l(m)),!a)){a=!0;return}};let d=!1;const f=[Ft(i,"click",m=>{d||(d=!0,setTimeout(()=>{d=!1},0),h(m))},{passive:!0,capture:s}),Ft(i,"pointerdown",m=>{const g=hi(t);a=!l(m)&&!!(g&&!m.composedPath().includes(g))},{passive:!0}),o&&Ft(i,"blur",m=>{setTimeout(()=>{var g;const v=hi(t);((g=i.document.activeElement)==null?void 0:g.tagName)==="IFRAME"&&(v!=null&&v.contains(i.document.activeElement))},0)})].filter(Boolean);return()=>f.forEach(m=>m())}function kS(){const t=z(!1),e=on();return e&&Qe(()=>{t.value=!0},e),t}function pv(t){const e=kS();return j(()=>(e.value,!!t()))}function MS(t,e,r={}){const{window:i=Zr,...n}=r;let s;const o=pv(()=>i&&"MutationObserver"in i),a=()=>{s&&(s.disconnect(),s=void 0)},l=j(()=>{const d=xe(t),f=(Array.isArray(d)?d:[d]).map(hi).filter(pS);return new Set(f)}),u=_e(()=>l.value,d=>{a(),o.value&&d.size&&(s=new MutationObserver(e),d.forEach(f=>s.observe(f,n)))},{immediate:!0,flush:"post"}),c=()=>s==null?void 0:s.takeRecords(),h=()=>{u(),a()};return Si(h),{isSupported:o,stop:h,takeRecords:c}}function $S(t,e={}){const{immediate:r=!0,fpsLimit:i=void 0,window:n=Zr}=e,s=z(!1),o=i?1e3/i:null;let a=0,l=null;function u(d){if(!s.value||!n)return;a||(a=d);const f=d-a;if(o&&f<o){l=n.requestAnimationFrame(u);return}a=d,t({delta:f,timestamp:d}),l=n.requestAnimationFrame(u)}function c(){!s.value&&n&&(s.value=!0,a=0,l=n.requestAnimationFrame(u))}function h(){s.value=!1,l!=null&&n&&(n.cancelAnimationFrame(l),l=null)}return r&&c(),Si(h),{isActive:Mi(s),pause:h,resume:c}}function RS(t,e={}){const{window:r=Zr}=e,i=pv(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let n;const s=z(!1),o=u=>{s.value=u.matches},a=()=>{n&&("removeEventListener"in n?n.removeEventListener("change",o):n.removeListener(o))},l=ad(()=>{i.value&&(a(),n=r.matchMedia(xe(t)),"addEventListener"in n?n.addEventListener("change",o):n.addListener(o),s.value=n.matches)});return Si(()=>{l(),a(),n=void 0}),s}const Bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fo="__vueuse_ssr_handlers__",IS=OS();function OS(){return Fo in Bo||(Bo[Fo]=Bo[Fo]||{}),Bo[Fo]}function LS(t,e){return IS[t]||e}function DS(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const BS={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},Xf="vueuse-storage";function kU(t,e,r,i={}){var n;const{flush:s="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:u=!1,shallow:c,window:h=Zr,eventFilter:d,onError:f=E=>{console.error(E)},initOnMounted:p}=i,m=(c?as:z)(typeof e=="function"?e():e);if(!r)try{r=LS("getDefaultStorage",()=>{var E;return(E=Zr)==null?void 0:E.localStorage})()}catch(E){f(E)}if(!r)return m;const g=xe(e),v=DS(g),_=(n=i.serializer)!=null?n:BS[v],{pause:y,resume:w}=AS(m,()=>x(m.value),{flush:s,deep:o,eventFilter:d});h&&a&&$l(()=>{r instanceof Storage?Ft(h,"storage",A):Ft(h,Xf,P),p&&A()}),p||A();function S(E,I){if(h){const k={key:t,oldValue:E,newValue:I,storageArea:r};h.dispatchEvent(r instanceof Storage?new StorageEvent("storage",k):new CustomEvent(Xf,{detail:k}))}}function x(E){try{const I=r.getItem(t);if(E==null)S(I,null),r.removeItem(t);else{const k=_.write(E);I!==k&&(r.setItem(t,k),S(I,k))}}catch(I){f(I)}}function T(E){const I=E?E.newValue:r.getItem(t);if(I==null)return l&&g!=null&&r.setItem(t,_.write(g)),g;if(!E&&u){const k=_.read(I);return typeof u=="function"?u(k,g):v==="object"&&!Array.isArray(k)?{...g,...k}:k}else return typeof I!="string"?I:_.read(I)}function A(E){if(!(E&&E.storageArea!==r)){if(E&&E.key==null){m.value=g;return}if(!(E&&E.key!==t)){y();try{(E==null?void 0:E.newValue)!==_.write(m.value)&&(m.value=T(E))}catch(I){f(I)}finally{E?ki(w):w()}}}}function P(E){A(E.detail)}return m}function Uc(t,e,r={}){const{window:i=Zr,initialValue:n,observe:s=!1}=r,o=z(n),a=j(()=>{var u;return hi(e)||((u=i==null?void 0:i.document)==null?void 0:u.documentElement)});function l(){var u;const c=xe(t),h=xe(a);if(h&&i&&c){const d=(u=i.getComputedStyle(h).getPropertyValue(c))==null?void 0:u.trim();o.value=d||n}}return s&&MS(a,l,{attributeFilter:["style","class"],window:i}),_e([a,()=>xe(t)],(u,c)=>{c[0]&&c[1]&&c[0].style.removeProperty(c[1]),l()},{immediate:!0}),_e(o,u=>{var c;const h=xe(t);(c=a.value)!=null&&c.style&&h&&(u==null?a.value.style.removeProperty(h):a.value.style.setProperty(h,u))}),o}function hu(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}const Yf=1;function FS(t,e={}){const{throttle:r=0,idle:i=200,onStop:n=Bt,onScroll:s=Bt,offset:o={left:0,right:0,top:0,bottom:0},eventListenerOptions:a={capture:!1,passive:!0},behavior:l="auto",window:u=Zr,onError:c=T=>{console.error(T)}}=e,h=z(0),d=z(0),f=j({get(){return h.value},set(T){m(T,void 0)}}),p=j({get(){return d.value},set(T){m(void 0,T)}});function m(T,A){var P,E,I,k;if(!u)return;const C=xe(t);if(!C)return;(I=C instanceof Document?u.document.body:C)==null||I.scrollTo({top:(P=xe(A))!=null?P:p.value,left:(E=xe(T))!=null?E:f.value,behavior:xe(l)});const M=((k=C==null?void 0:C.document)==null?void 0:k.documentElement)||(C==null?void 0:C.documentElement)||C;f!=null&&(h.value=M.scrollLeft),p!=null&&(d.value=M.scrollTop)}const g=z(!1),v=Js({left:!0,right:!1,top:!0,bottom:!1}),_=Js({left:!1,right:!1,top:!1,bottom:!1}),y=T=>{g.value&&(g.value=!1,_.left=!1,_.right=!1,_.top=!1,_.bottom=!1,n(T))},w=wS(y,r+i),S=T=>{var A;if(!u)return;const P=((A=T==null?void 0:T.document)==null?void 0:A.documentElement)||(T==null?void 0:T.documentElement)||hi(T),{display:E,flexDirection:I}=getComputedStyle(P),k=P.scrollLeft;_.left=k<h.value,_.right=k>h.value;const C=Math.abs(k)<=(o.left||0),M=Math.abs(k)+P.clientWidth>=P.scrollWidth-(o.right||0)-Yf;E==="flex"&&I==="row-reverse"?(v.left=M,v.right=C):(v.left=C,v.right=M),h.value=k;let D=P.scrollTop;T===u.document&&!D&&(D=u.document.body.scrollTop),_.top=D<d.value,_.bottom=D>d.value;const Y=Math.abs(D)<=(o.top||0),U=Math.abs(D)+P.clientHeight>=P.scrollHeight-(o.bottom||0)-Yf;E==="flex"&&I==="column-reverse"?(v.top=U,v.bottom=Y):(v.top=Y,v.bottom=U),d.value=D},x=T=>{var A;if(!u)return;const P=(A=T.target.documentElement)!=null?A:T.target;S(P),g.value=!0,w(T),s(T)};return Ft(t,"scroll",r?TS(x,r,!0,!1):x,a),$l(()=>{try{const T=xe(t);if(!T)return;S(T)}catch(T){c(T)}}),Ft(t,"scrollend",y,a),{x:f,y:p,isScrolling:g,arrivedState:v,directions:_,measure(){const T=xe(t);u&&T&&S(T)}}}function MU(t={}){const{controls:e=!1,interval:r="requestAnimationFrame"}=t,i=z(new Date),n=()=>i.value=new Date,s=r==="requestAnimationFrame"?$S(n,{immediate:!0}):CS(n,r,{immediate:!0});return e?{now:i,...s}:i}function Hc(t,e=Bt,r={}){const{immediate:i=!0,manual:n=!1,type:s="text/javascript",async:o=!0,crossOrigin:a,referrerPolicy:l,noModule:u,defer:c,document:h=fv,attrs:d={}}=r,f=z(null);let p=null;const m=_=>new Promise((y,w)=>{const S=A=>(f.value=A,y(A),A);if(!h){y(!1);return}let x=!1,T=h.querySelector(`script[src="${xe(t)}"]`);T?T.hasAttribute("data-loaded")&&S(T):(T=h.createElement("script"),T.type=s,T.async=o,T.src=xe(t),c&&(T.defer=c),a&&(T.crossOrigin=a),u&&(T.noModule=u),l&&(T.referrerPolicy=l),Object.entries(d).forEach(([A,P])=>T==null?void 0:T.setAttribute(A,P)),x=!0),T.addEventListener("error",A=>w(A)),T.addEventListener("abort",A=>w(A)),T.addEventListener("load",()=>{T.setAttribute("data-loaded","true"),e(T),S(T)}),x&&(T=h.head.appendChild(T)),_||S(T)}),g=(_=!0)=>(p||(p=m(_)),p),v=()=>{if(!h)return;p=null,f.value&&(f.value=null);const _=h.querySelector(`script[src="${xe(t)}"]`);_&&h.head.removeChild(_)};return i&&!n&&$l(g),n||ES(v),{scriptTag:f,load:g,unload:v}}function mv(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const r=t.parentNode;return!r||r.tagName==="BODY"?!1:mv(r)}}function NS(t){const e=t||window.event,r=e.target;return mv(r)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const du=new WeakMap;function US(t,e=!1){const r=z(e);let i=null,n="";_e(xS(t),a=>{const l=hu(xe(a));if(l){const u=l;if(du.get(u)||du.set(u,u.style.overflow),u.style.overflow!=="hidden"&&(n=u.style.overflow),u.style.overflow==="hidden")return r.value=!0;if(r.value)return u.style.overflow="hidden"}},{immediate:!0});const s=()=>{const a=hu(xe(t));!a||r.value||(Nc&&(i=Ft(a,"touchmove",l=>{NS(l)},{passive:!1})),a.style.overflow="hidden",r.value=!0)},o=()=>{const a=hu(xe(t));!a||!r.value||(Nc&&(i==null||i()),a.style.overflow=n,du.delete(a),r.value=!1)};return Si(o),j({get(){return r.value},set(a){a?s():o()}})}let HS=0;function $U(t,e={}){const r=z(!1),{document:i=fv,immediate:n=!0,manual:s=!1,id:o=`vueuse_styletag_${++HS}`}=e,a=z(t);let l=()=>{};const u=()=>{if(!i)return;const h=i.getElementById(o)||i.createElement("style");h.isConnected||(h.id=o,e.media&&(h.media=e.media),i.head.appendChild(h)),!r.value&&(l=_e(a,d=>{h.textContent=d},{immediate:!0}),r.value=!0)},c=()=>{!i||!r.value||(l(),i.head.removeChild(i.getElementById(o)),r.value=!1)};return n&&!s&&$l(u),s||Si(c),{id:o,css:a,unload:c,load:u,isLoaded:Mi(r)}}function zS(t,e){const r=z(!1);function i(n){n.key.toLowerCase()===t.toLowerCase()&&(n.metaKey||n.ctrlKey)&&(n.preventDefault(),e())}return Ft("keydown",i),{isHotKeyActive:r}}function rt(t,e){jS(t)&&(t="100%");const r=GS(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function No(t){return Math.min(1,Math.max(0,t))}function jS(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function GS(t){return typeof t=="string"&&t.indexOf("%")!==-1}function gv(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Uo(t){return Number(t)<=1?`${Number(t)*100}%`:t}function Ji(t){return t.length===1?"0"+t:String(t)}function VS(t,e,r){return{r:rt(t,255)*255,g:rt(e,255)*255,b:rt(r,255)*255}}function qf(t,e,r){t=rt(t,255),e=rt(e,255),r=rt(r,255);const i=Math.max(t,e,r),n=Math.min(t,e,r);let s=0,o=0;const a=(i+n)/2;if(i===n)o=0,s=0;else{const l=i-n;switch(o=a>.5?l/(2-i-n):l/(i+n),i){case t:s=(e-r)/l+(e<r?6:0);break;case e:s=(r-t)/l+2;break;case r:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function fu(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*(6*r):r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function WS(t,e,r){let i,n,s;if(t=rt(t,360),e=rt(e,100),r=rt(r,100),e===0)n=r,s=r,i=r;else{const o=r<.5?r*(1+e):r+e-r*e,a=2*r-o;i=fu(a,o,t+1/3),n=fu(a,o,t),s=fu(a,o,t-1/3)}return{r:i*255,g:n*255,b:s*255}}function Kf(t,e,r){t=rt(t,255),e=rt(e,255),r=rt(r,255);const i=Math.max(t,e,r),n=Math.min(t,e,r);let s=0;const o=i,a=i-n,l=i===0?0:a/i;if(i===n)s=0;else{switch(i){case t:s=(e-r)/a+(e<r?6:0);break;case e:s=(r-t)/a+2;break;case r:s=(t-e)/a+4;break}s/=6}return{h:s,s:l,v:o}}function XS(t,e,r){t=rt(t,360)*6,e=rt(e,100),r=rt(r,100);const i=Math.floor(t),n=t-i,s=r*(1-e),o=r*(1-n*e),a=r*(1-(1-n)*e),l=i%6,u=[r,o,s,s,a,r][l],c=[a,r,r,o,s,s][l],h=[s,s,a,r,r,o][l];return{r:u*255,g:c*255,b:h*255}}function Zf(t,e,r,i){const n=[Ji(Math.round(t).toString(16)),Ji(Math.round(e).toString(16)),Ji(Math.round(r).toString(16))];return i&&n[0].startsWith(n[0].charAt(1))&&n[1].startsWith(n[1].charAt(1))&&n[2].startsWith(n[2].charAt(1))?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function YS(t,e,r,i,n){const s=[Ji(Math.round(t).toString(16)),Ji(Math.round(e).toString(16)),Ji(Math.round(r).toString(16)),Ji(KS(i))];return n&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function qS(t,e,r,i){const n=t/100,s=e/100,o=r/100,a=i/100,l=255*(1-n)*(1-a),u=255*(1-s)*(1-a),c=255*(1-o)*(1-a);return{r:l,g:u,b:c}}function Jf(t,e,r){let i=1-t/255,n=1-e/255,s=1-r/255,o=Math.min(i,n,s);return o===1?(i=0,n=0,s=0):(i=(i-o)/(1-o)*100,n=(n-o)/(1-o)*100,s=(s-o)/(1-o)*100),o*=100,{c:Math.round(i),m:Math.round(n),y:Math.round(s),k:Math.round(o)}}function KS(t){return Math.round(parseFloat(t)*255).toString(16)}function Qf(t){return _t(t)/255}function _t(t){return parseInt(t,16)}function ZS(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}const zc={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function JS(t){let e={r:0,g:0,b:0},r=1,i=null,n=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=tA(t)),typeof t=="object"&&(yt(t.r)&&yt(t.g)&&yt(t.b)?(e=VS(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):yt(t.h)&&yt(t.s)&&yt(t.v)?(i=Uo(t.s),n=Uo(t.v),e=XS(t.h,i,n),o=!0,a="hsv"):yt(t.h)&&yt(t.s)&&yt(t.l)?(i=Uo(t.s),s=Uo(t.l),e=WS(t.h,i,s),o=!0,a="hsl"):yt(t.c)&&yt(t.m)&&yt(t.y)&&yt(t.k)&&(e=qS(t.c,t.m,t.y,t.k),o=!0,a="cmyk"),Object.prototype.hasOwnProperty.call(t,"a")&&(r=t.a)),r=gv(r),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}const QS="[-\\+]?\\d+%?",eA="[-\\+]?\\d*\\.\\d+%?",di="(?:"+eA+")|(?:"+QS+")",pu="[\\s|\\(]+("+di+")[,|\\s]+("+di+")[,|\\s]+("+di+")\\s*\\)?",Ho="[\\s|\\(]+("+di+")[,|\\s]+("+di+")[,|\\s]+("+di+")[,|\\s]+("+di+")\\s*\\)?",$t={CSS_UNIT:new RegExp(di),rgb:new RegExp("rgb"+pu),rgba:new RegExp("rgba"+Ho),hsl:new RegExp("hsl"+pu),hsla:new RegExp("hsla"+Ho),hsv:new RegExp("hsv"+pu),hsva:new RegExp("hsva"+Ho),cmyk:new RegExp("cmyk"+Ho),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function tA(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;let e=!1;if(zc[t])t=zc[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};let r=$t.rgb.exec(t);return r?{r:r[1],g:r[2],b:r[3]}:(r=$t.rgba.exec(t),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=$t.hsl.exec(t),r?{h:r[1],s:r[2],l:r[3]}:(r=$t.hsla.exec(t),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=$t.hsv.exec(t),r?{h:r[1],s:r[2],v:r[3]}:(r=$t.hsva.exec(t),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=$t.cmyk.exec(t),r?{c:r[1],m:r[2],y:r[3],k:r[4]}:(r=$t.hex8.exec(t),r?{r:_t(r[1]),g:_t(r[2]),b:_t(r[3]),a:Qf(r[4]),format:e?"name":"hex8"}:(r=$t.hex6.exec(t),r?{r:_t(r[1]),g:_t(r[2]),b:_t(r[3]),format:e?"name":"hex"}:(r=$t.hex4.exec(t),r?{r:_t(r[1]+r[1]),g:_t(r[2]+r[2]),b:_t(r[3]+r[3]),a:Qf(r[4]+r[4]),format:e?"name":"hex8"}:(r=$t.hex3.exec(t),r?{r:_t(r[1]+r[1]),g:_t(r[2]+r[2]),b:_t(r[3]+r[3]),format:e?"name":"hex"}:!1))))))))))}function yt(t){return typeof t=="number"?!Number.isNaN(t):$t.CSS_UNIT.test(t)}class Ue{constructor(e="",r={}){if(e instanceof Ue)return e;typeof e=="number"&&(e=ZS(e)),this.originalInput=e;const i=JS(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=r.format??i.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}isDark(){return this.getBrightness()<128}isLight(){return!this.isDark()}getBrightness(){const e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3}getLuminance(){const e=this.toRgb();let r,i,n;const s=e.r/255,o=e.g/255,a=e.b/255;return s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),o<=.03928?i=o/12.92:i=Math.pow((o+.055)/1.055,2.4),a<=.03928?n=a/12.92:n=Math.pow((a+.055)/1.055,2.4),.2126*r+.7152*i+.0722*n}getAlpha(){return this.a}setAlpha(e){return this.a=gv(e),this.roundA=Math.round(100*this.a)/100,this}isMonochrome(){const{s:e}=this.toHsl();return e===0}toHsv(){const e=Kf(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}}toHsvString(){const e=Kf(this.r,this.g,this.b),r=Math.round(e.h*360),i=Math.round(e.s*100),n=Math.round(e.v*100);return this.a===1?`hsv(${r}, ${i}%, ${n}%)`:`hsva(${r}, ${i}%, ${n}%, ${this.roundA})`}toHsl(){const e=qf(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}}toHslString(){const e=qf(this.r,this.g,this.b),r=Math.round(e.h*360),i=Math.round(e.s*100),n=Math.round(e.l*100);return this.a===1?`hsl(${r}, ${i}%, ${n}%)`:`hsla(${r}, ${i}%, ${n}%, ${this.roundA})`}toHex(e=!1){return Zf(this.r,this.g,this.b,e)}toHexString(e=!1){return"#"+this.toHex(e)}toHex8(e=!1){return YS(this.r,this.g,this.b,this.a,e)}toHex8String(e=!1){return"#"+this.toHex8(e)}toHexShortString(e=!1){return this.a===1?this.toHexString(e):this.toHex8String(e)}toRgb(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}}toRgbString(){const e=Math.round(this.r),r=Math.round(this.g),i=Math.round(this.b);return this.a===1?`rgb(${e}, ${r}, ${i})`:`rgba(${e}, ${r}, ${i}, ${this.roundA})`}toPercentageRgb(){const e=r=>`${Math.round(rt(r,255)*100)}%`;return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}}toPercentageRgbString(){const e=r=>Math.round(rt(r,255)*100);return this.a===1?`rgb(${e(this.r)}%, ${e(this.g)}%, ${e(this.b)}%)`:`rgba(${e(this.r)}%, ${e(this.g)}%, ${e(this.b)}%, ${this.roundA})`}toCmyk(){return{...Jf(this.r,this.g,this.b)}}toCmykString(){const{c:e,m:r,y:i,k:n}=Jf(this.r,this.g,this.b);return`cmyk(${e}, ${r}, ${i}, ${n})`}toName(){if(this.a===0)return"transparent";if(this.a<1)return!1;const e="#"+Zf(this.r,this.g,this.b,!1);for(const[r,i]of Object.entries(zc))if(e===i)return r;return!1}toString(e){const r=!!e;e=e??this.format;let i=!1;const n=this.a<1&&this.a>=0;return!r&&n&&(e.startsWith("hex")||e==="name")?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),e==="cmyk"&&(i=this.toCmykString()),i||this.toHexString())}toNumber(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)}clone(){return new Ue(this.toString())}lighten(e=10){const r=this.toHsl();return r.l+=e/100,r.l=No(r.l),new Ue(r)}brighten(e=10){const r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),new Ue(r)}darken(e=10){const r=this.toHsl();return r.l-=e/100,r.l=No(r.l),new Ue(r)}tint(e=10){return this.mix("white",e)}shade(e=10){return this.mix("black",e)}desaturate(e=10){const r=this.toHsl();return r.s-=e/100,r.s=No(r.s),new Ue(r)}saturate(e=10){const r=this.toHsl();return r.s+=e/100,r.s=No(r.s),new Ue(r)}greyscale(){return this.desaturate(100)}spin(e){const r=this.toHsl(),i=(r.h+e)%360;return r.h=i<0?360+i:i,new Ue(r)}mix(e,r=50){const i=this.toRgb(),n=new Ue(e).toRgb(),s=r/100,o={r:(n.r-i.r)*s+i.r,g:(n.g-i.g)*s+i.g,b:(n.b-i.b)*s+i.b,a:(n.a-i.a)*s+i.a};return new Ue(o)}analogous(e=6,r=30){const i=this.toHsl(),n=360/r,s=[this];for(i.h=(i.h-(n*e>>1)+720)%360;--e;)i.h=(i.h+n)%360,s.push(new Ue(i));return s}complement(){const e=this.toHsl();return e.h=(e.h+180)%360,new Ue(e)}monochromatic(e=6){const r=this.toHsv(),{h:i}=r,{s:n}=r;let{v:s}=r;const o=[],a=1/e;for(;e--;)o.push(new Ue({h:i,s:n,v:s})),s=(s+a)%1;return o}splitcomplement(){const e=this.toHsl(),{h:r}=e;return[this,new Ue({h:(r+72)%360,s:e.s,l:e.l}),new Ue({h:(r+216)%360,s:e.s,l:e.l})]}onBackground(e){const r=this.toRgb(),i=new Ue(e).toRgb(),n=r.a+i.a*(1-r.a);return new Ue({r:(r.r*r.a+i.r*i.a*(1-r.a))/n,g:(r.g*r.a+i.g*i.a*(1-r.a))/n,b:(r.b*r.a+i.b*i.a*(1-r.a))/n,a:n})}triad(){return this.polyad(3)}tetrad(){return this.polyad(4)}polyad(e){const r=this.toHsl(),{h:i}=r,n=[this],s=360/e;for(let o=1;o<e;o++)n.push(new Ue({h:(i+o*s)%360,s:r.s,l:r.l}));return n}equals(e){const r=new Ue(e);return this.format==="cmyk"||r.format==="cmyk"?this.toCmykString()===r.toCmykString():this.toRgbString()===r.toRgbString()}}const rA={flex:"~ col",class:"relative yun-footer va-footer px-4 py-4 pt-0 text-$va-c-text-light w-full mt-14",bg:"white dark:$va-c-bg-soft",text:"center sm"},iA={key:0,class:"beian",m:"y-2"},nA={href:"https://beian.miit.gov.cn/",target:"_blank",rel:"noopener"},sA={class:"copyright flex justify-center items-center gap-2",p:"1"},oA=["href","title"],aA={key:1,class:"powered",m:"2"},lA=["innerHTML"],uA=["href","title"],cA={class:"ml-1 op-60"},hA=H({__name:"YunFooter",setup(t){const{isDark:e}=Rd(),r=j(()=>e.value?{"--gradient-from":"0 0 0","--gradient-to":"0 0 0"}:{"--gradient-from":"161 196 253","--gradient-to":"194 233 251"}),{t:i}=gt(),n=To(),s=nt(),o=Ii(),a=new Date().getFullYear(),l=j(()=>a===o.value.footer.since),u=j(()=>i("footer.powered",[`<a href="${Cs.repository.url}" target="_blank" rel="noopener">Valaxy</a> <span class="op-60">v${Cs.version}</span>`])),c=j(()=>o.value.footer.icon||{url:Cs.repository.url,name:"i-ri-cloud-line",title:Cs.name});return(h,d)=>{var p,m;const f=fS;return $(),N("footer",rA,[b(f,{class:"absolute top--10 left-0 right-0"}),(p=R(o).footer.beian)!=null&&p.enable&&R(o).footer.beian.icp?($(),N("div",iA,[O("a",nA,me(R(o).footer.beian.icp),1)])):Q("v-if",!0),O("div",sA,[O("span",null,[d[0]||(d[0]=Ds("  ",-1)),l.value?Q("v-if",!0):($(),N(Le,{key:0},[Ds(me(R(o).footer.since)+" - ",1)],64)),Ds(" "+me(R(a)),1)]),(m=R(o).footer.icon)!=null&&m.enable?($(),N("a",{key:0,class:Te(["inline-flex",R(o).footer.icon.animated?"animate-pulse":""]),href:c.value.url,target:"_blank",title:c.value.title},[O("div",{class:Te(c.value.name)},null,2)],10,oA)):Q("v-if",!0),O("span",null,me(R(s).author.name),1)]),R(o).footer.powered?($(),N("div",aA,[O("span",{innerHTML:u.value},null,8,lA),d[2]||(d[2]=O("span",{"mx-1":""},"|",-1)),O("span",null,[O("span",null,me(R(i)("footer.theme")),1),d[1]||(d[1]=O("span",{"mx-1":""},"-",-1)),O("a",{href:R(o).pkg.repository.url,title:R(o).pkg.name,target:"_blank"},me(yx(R(n).theme)),9,uA),O("span",cA,"v"+me(R(o).pkg.version),1)])])):Q("v-if",!0),lt(h.$slots,"default"),O("div",{class:"yun-footer-gradient",style:yi(r.value)},null,4)])}}});var yv={exports:{}};(function(t,e){(function(r,i){t.exports=i()})(window,function(){return function(r){var i={};function n(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return r[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=r,n.c=i,n.d=function(s,o,a){n.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},n.r=function(s){Object.defineProperty(s,"__esModule",{value:!0})},n.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return n.d(o,"a",o),o},n.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},n.p="/",n(n.s=41)}([function(r,i,n){Object.defineProperty(i,"__esModule",{value:!0});var s=/mobile/i.test(window.navigator.userAgent),o={secondToTime:function(a){var l=Math.floor(a/3600),u=Math.floor((a-3600*l)/60),c=Math.floor(a-3600*l-60*u);return(l>0?[l,u,c]:[u,c]).map(function(h){return h<10?"0"+h:""+h}).join(":")},getElementViewLeft:function(a){var l=a.offsetLeft,u=a.offsetParent,c=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;u!==null&&u!==a;)l+=u.offsetLeft,u=u.offsetParent;else for(;u!==null;)l+=u.offsetLeft,u=u.offsetParent;return l-c},getElementViewTop:function(a,l){for(var u,c=a.offsetTop,h=a.offsetParent;h!==null;)c+=h.offsetTop,h=h.offsetParent;return u=document.body.scrollTop+document.documentElement.scrollTop,l?c:c-u},isMobile:s,storage:{set:function(a,l){localStorage.setItem(a,l)},get:function(a){return localStorage.getItem(a)}},nameMap:{dragStart:s?"touchstart":"mousedown",dragMove:s?"touchmove":"mousemove",dragEnd:s?"touchend":"mouseup"},randomOrder:function(a){return function(l){for(var u=l.length-1;u>=0;u--){var c=Math.floor(Math.random()*(u+1)),h=l[c];l[c]=l[u],l[u]=h}return l}([].concat(function(l){if(Array.isArray(l)){for(var u=0,c=Array(l.length);u<l.length;u++)c[u]=l[u];return c}return Array.from(l)}(Array(a))).map(function(l,u){return u}))}};i.default=o},function(r,i,n){var s=n(2);r.exports=function(o){o=o||{};var a="",l=s.$each,u=o.audio,c=(o.$value,o.$index,s.$escape),h=o.theme,d=o.index;return l(u,function(f,p){a+=`
<li>
    <span class="aplayer-list-cur" style="background-color: `,a+=c(f.theme||h),a+=`;"></span>
    <span class="aplayer-list-index">`,a+=c(p+d),a+=`</span>
    <span class="aplayer-list-title">`,a+=c(f.name),a+=`</span>
    <span class="aplayer-list-author">`,a+=c(f.artist),a+=`</span>
</li>
`}),a}},function(r,i,n){r.exports=n(15)},function(r,i,n){Object.defineProperty(i,"__esModule",{value:!0});var s=w(n(33)),o=w(n(32)),a=w(n(31)),l=w(n(30)),u=w(n(29)),c=w(n(28)),h=w(n(27)),d=w(n(26)),f=w(n(25)),p=w(n(24)),m=w(n(23)),g=w(n(22)),v=w(n(21)),_=w(n(20)),y=w(n(19));function w(x){return x&&x.__esModule?x:{default:x}}var S={play:s.default,pause:o.default,volumeUp:a.default,volumeDown:l.default,volumeOff:u.default,orderRandom:c.default,orderList:h.default,menu:d.default,loopAll:f.default,loopOne:p.default,loopNone:m.default,loading:g.default,right:v.default,skip:_.default,lrc:y.default};i.default=S},function(r,i,n){var s,o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};s=function(){return this}();try{s=s||Function("return this")()||(0,eval)("this")}catch{(typeof window>"u"?"undefined":o(window))==="object"&&(s=window)}r.exports=s},function(r,i,n){var s,o,a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};(o=typeof(s=function(){if((typeof window>"u"?"undefined":a(window))==="object"&&document.querySelectorAll!==void 0&&window.pageYOffset!==void 0&&history.pushState!==void 0){var l=function(h,d,f,p){return f>p?d:h+(d-h)*((m=f/p)<.5?4*m*m*m:(m-1)*(2*m-2)*(2*m-2)+1);var m},u=function(h,d,f,p){d=d||500;var m=(p=p||window).scrollTop||window.pageYOffset;if(typeof h=="number")var g=parseInt(h);else var g=function(y,w){return y.nodeName==="HTML"?-w:y.getBoundingClientRect().top+w}(h,m);var v=Date.now(),_=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(y){window.setTimeout(y,15)};(function y(){var w=Date.now()-v;p!==window?p.scrollTop=l(m,g,w,d):window.scroll(0,l(m,g,w,d)),w>d?typeof f=="function"&&f(h):_(y)})()},c=function(h){if(!h.defaultPrevented){h.preventDefault(),location.hash!==this.hash&&window.history.pushState(null,null,this.hash);var d=document.getElementById(this.hash.substring(1));if(!d)return;u(d,500,function(f){location.replace("#"+f.id)})}};return document.addEventListener("DOMContentLoaded",function(){for(var h,d=document.querySelectorAll('a[href^="#"]:not([href="#"])'),f=d.length;h=d[--f];)h.addEventListener("click",c,!1)}),u}})=="function"?s.call(i,n,i,r):s)===void 0||(r.exports=o)},function(r,i,n){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function h(d,f){for(var p=0;p<f.length;p++){var m=f[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,f,p){return f&&h(d.prototype,f),p&&h(d,p),d}}(),o=u(n(1)),a=u(n(0)),l=u(n(5));function u(h){return h&&h.__esModule?h:{default:h}}var c=function(){function h(d){(function(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.player=d,this.index=0,this.audios=this.player.options.audio,this.bindEvents()}return s(h,[{key:"bindEvents",value:function(){var d=this;this.player.template.list.addEventListener("click",function(f){var p=void 0;p=f.target.tagName.toUpperCase()==="LI"?f.target:f.target.parentElement;var m=parseInt(p.getElementsByClassName("aplayer-list-index")[0].innerHTML)-1;m!==d.index?(d.switch(m),d.player.play()):d.player.toggle()})}},{key:"show",value:function(){this.player.events.trigger("listshow"),this.player.template.list.classList.remove("aplayer-list-hide"),this.player.template.listOl.scrollTop=33*this.index}},{key:"hide",value:function(){this.player.events.trigger("listhide"),this.player.template.list.classList.add("aplayer-list-hide")}},{key:"toggle",value:function(){this.player.template.list.classList.contains("aplayer-list-hide")?this.show():this.hide()}},{key:"add",value:function(d){this.player.events.trigger("listadd",{audios:d}),Object.prototype.toString.call(d)!=="[object Array]"&&(d=[d]),d.map(function(m){return m.name=m.name||m.title||"Audio name",m.artist=m.artist||m.author||"Audio artist",m.cover=m.cover||m.pic,m.type=m.type||"normal",m});var f=!(this.audios.length>1),p=this.audios.length===0;this.player.template.listOl.innerHTML+=(0,o.default)({theme:this.player.options.theme,audio:d,index:this.audios.length+1}),this.audios=this.audios.concat(d),f&&this.audios.length>1&&this.player.container.classList.add("aplayer-withlist"),this.player.randomOrder=a.default.randomOrder(this.audios.length),this.player.template.listCurs=this.player.container.querySelectorAll(".aplayer-list-cur"),this.player.template.listCurs[this.audios.length-1].style.backgroundColor=d.theme||this.player.options.theme,p&&(this.player.options.order==="random"?this.switch(this.player.randomOrder[0]):this.switch(0))}},{key:"remove",value:function(d){if(this.player.events.trigger("listremove",{index:d}),this.audios[d])if(this.audios.length>1){var f=this.player.container.querySelectorAll(".aplayer-list li");f[d].remove(),this.audios.splice(d,1),this.player.lrc&&this.player.lrc.remove(d),d===this.index&&(this.audios[d]?this.switch(d):this.switch(d-1)),this.index>d&&this.index--;for(var p=d;p<f.length;p++)f[p].getElementsByClassName("aplayer-list-index")[0].textContent=p;this.audios.length===1&&this.player.container.classList.remove("aplayer-withlist"),this.player.template.listCurs=this.player.container.querySelectorAll(".aplayer-list-cur")}else this.clear()}},{key:"switch",value:function(d){if(this.player.events.trigger("listswitch",{index:d}),d!==void 0&&this.audios[d]){this.index=d;var f=this.audios[this.index];this.player.template.pic.style.backgroundImage=f.cover?"url('"+f.cover+"')":"",this.player.theme(this.audios[this.index].theme||this.player.options.theme,this.index,!1),this.player.template.title.innerHTML=f.name,this.player.template.author.innerHTML=f.artist?" - "+f.artist:"";var p=this.player.container.getElementsByClassName("aplayer-list-light")[0];p&&p.classList.remove("aplayer-list-light"),this.player.container.querySelectorAll(".aplayer-list li")[this.index].classList.add("aplayer-list-light"),(0,l.default)(33*this.index,500,null,this.player.template.listOl),this.player.setAudio(f),this.player.lrc&&this.player.lrc.switch(this.index),this.player.lrc&&this.player.lrc.update(0),this.player.duration!==1&&(this.player.template.dtime.innerHTML=a.default.secondToTime(this.player.duration))}}},{key:"clear",value:function(){this.player.events.trigger("listclear"),this.index=0,this.player.container.classList.remove("aplayer-withlist"),this.player.pause(),this.audios=[],this.player.lrc&&this.player.lrc.clear(),this.player.audio.src="",this.player.template.listOl.innerHTML="",this.player.template.pic.style.backgroundImage="",this.player.theme(this.player.options.theme,this.index,!1),this.player.template.title.innerHTML="No audio",this.player.template.author.innerHTML="",this.player.bar.set("loaded",0,"width"),this.player.template.dtime.innerHTML=a.default.secondToTime(0)}}]),h}();i.default=c},function(r,i,n){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function a(l,u){for(var c=0;c<u.length;c++){var h=u[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,u,c){return u&&a(l.prototype,u),c&&a(l,c),l}}(),o=function(){function a(){(function(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")})(this,a),this.events={},this.audioEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["destroy","listshow","listhide","listadd","listremove","listswitch","listclear","noticeshow","noticehide","lrcshow","lrchide"]}return s(a,[{key:"on",value:function(l,u){this.type(l)&&typeof u=="function"&&(this.events[l]||(this.events[l]=[]),this.events[l].push(u))}},{key:"trigger",value:function(l,u){if(this.events[l]&&this.events[l].length)for(var c=0;c<this.events[l].length;c++)this.events[l][c](u)}},{key:"type",value:function(l){return this.playerEvents.indexOf(l)!==-1?"player":this.audioEvents.indexOf(l)!==-1?"audio":(console.error("Unknown event name: "+l),null)}}]),a}();i.default=o},function(r,i,n){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function a(l,u){for(var c=0;c<u.length;c++){var h=u[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,u,c){return u&&a(l.prototype,u),c&&a(l,c),l}}(),o=function(){function a(l){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,a),this.player=l,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(u){window.setTimeout(u,1e3/60)},this.types=["loading"],this.init()}return s(a,[{key:"init",value:function(){var l=this;this.types.forEach(function(u){l["init"+u+"Checker"]()})}},{key:"initloadingChecker",value:function(){var l=this,u=0,c=0,h=!1;this.loadingChecker=setInterval(function(){l.enableloadingChecker&&(c=l.player.audio.currentTime,h||c!==u||l.player.audio.paused||(l.player.container.classList.add("aplayer-loading"),h=!0),h&&c>u&&!l.player.audio.paused&&(l.player.container.classList.remove("aplayer-loading"),h=!1),u=c)},100)}},{key:"enable",value:function(l){this["enable"+l+"Checker"]=!0,l==="fps"&&this.initfpsChecker()}},{key:"disable",value:function(l){this["enable"+l+"Checker"]=!1}},{key:"destroy",value:function(){var l=this;this.types.forEach(function(u){l["enable"+u+"Checker"]=!1,l[u+"Checker"]&&clearInterval(l[u+"Checker"])})}}]),a}();i.default=o},function(r,i,n){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function c(h,d){for(var f=0;f<d.length;f++){var p=d[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,d,f){return d&&c(h.prototype,d),f&&c(h,f),h}}(),o=l(n(0)),a=l(n(3));function l(c){return c&&c.__esModule?c:{default:c}}var u=function(){function c(h){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,c),this.player=h,this.initPlayButton(),this.initPlayBar(),this.initOrderButton(),this.initLoopButton(),this.initMenuButton(),o.default.isMobile||this.initVolumeButton(),this.initMiniSwitcher(),this.initSkipButton(),this.initLrcButton()}return s(c,[{key:"initPlayButton",value:function(){var h=this;this.player.template.pic.addEventListener("click",function(){h.player.toggle()})}},{key:"initPlayBar",value:function(){var h=this,d=function(p){var m=((p.clientX||p.changedTouches[0].clientX)-o.default.getElementViewLeft(h.player.template.barWrap))/h.player.template.barWrap.clientWidth;m=Math.max(m,0),m=Math.min(m,1),h.player.bar.set("played",m,"width"),h.player.lrc&&h.player.lrc.update(m*h.player.duration),h.player.template.ptime.innerHTML=o.default.secondToTime(m*h.player.duration)},f=function p(m){document.removeEventListener(o.default.nameMap.dragEnd,p),document.removeEventListener(o.default.nameMap.dragMove,d);var g=((m.clientX||m.changedTouches[0].clientX)-o.default.getElementViewLeft(h.player.template.barWrap))/h.player.template.barWrap.clientWidth;g=Math.max(g,0),g=Math.min(g,1),h.player.bar.set("played",g,"width"),h.player.seek(h.player.bar.get("played","width")*h.player.duration),h.player.disableTimeupdate=!1};this.player.template.barWrap.addEventListener(o.default.nameMap.dragStart,function(){h.player.disableTimeupdate=!0,document.addEventListener(o.default.nameMap.dragMove,d),document.addEventListener(o.default.nameMap.dragEnd,f)})}},{key:"initVolumeButton",value:function(){var h=this;this.player.template.volumeButton.addEventListener("click",function(){h.player.audio.muted?(h.player.audio.muted=!1,h.player.switchVolumeIcon(),h.player.bar.set("volume",h.player.volume(),"height")):(h.player.audio.muted=!0,h.player.switchVolumeIcon(),h.player.bar.set("volume",0,"height"))});var d=function(p){var m=1-((p.clientY||p.changedTouches[0].clientY)-o.default.getElementViewTop(h.player.template.volumeBar,h.player.options.fixed))/h.player.template.volumeBar.clientHeight;m=Math.max(m,0),m=Math.min(m,1),h.player.volume(m)},f=function p(m){h.player.template.volumeBarWrap.classList.remove("aplayer-volume-bar-wrap-active"),document.removeEventListener(o.default.nameMap.dragEnd,p),document.removeEventListener(o.default.nameMap.dragMove,d);var g=1-((m.clientY||m.changedTouches[0].clientY)-o.default.getElementViewTop(h.player.template.volumeBar,h.player.options.fixed))/h.player.template.volumeBar.clientHeight;g=Math.max(g,0),g=Math.min(g,1),h.player.volume(g)};this.player.template.volumeBarWrap.addEventListener(o.default.nameMap.dragStart,function(){h.player.template.volumeBarWrap.classList.add("aplayer-volume-bar-wrap-active"),document.addEventListener(o.default.nameMap.dragMove,d),document.addEventListener(o.default.nameMap.dragEnd,f)})}},{key:"initOrderButton",value:function(){var h=this;this.player.template.order.addEventListener("click",function(){h.player.options.order==="list"?(h.player.options.order="random",h.player.template.order.innerHTML=a.default.orderRandom):h.player.options.order==="random"&&(h.player.options.order="list",h.player.template.order.innerHTML=a.default.orderList)})}},{key:"initLoopButton",value:function(){var h=this;this.player.template.loop.addEventListener("click",function(){h.player.list.audios.length>1?h.player.options.loop==="one"?(h.player.options.loop="none",h.player.template.loop.innerHTML=a.default.loopNone):h.player.options.loop==="none"?(h.player.options.loop="all",h.player.template.loop.innerHTML=a.default.loopAll):h.player.options.loop==="all"&&(h.player.options.loop="one",h.player.template.loop.innerHTML=a.default.loopOne):h.player.options.loop==="one"||h.player.options.loop==="all"?(h.player.options.loop="none",h.player.template.loop.innerHTML=a.default.loopNone):h.player.options.loop==="none"&&(h.player.options.loop="all",h.player.template.loop.innerHTML=a.default.loopAll)})}},{key:"initMenuButton",value:function(){var h=this;this.player.template.menu.addEventListener("click",function(){h.player.list.toggle()})}},{key:"initMiniSwitcher",value:function(){var h=this;this.player.template.miniSwitcher.addEventListener("click",function(){h.player.setMode(h.player.mode==="mini"?"normal":"mini")})}},{key:"initSkipButton",value:function(){var h=this;this.player.template.skipBackButton.addEventListener("click",function(){h.player.skipBack()}),this.player.template.skipForwardButton.addEventListener("click",function(){h.player.skipForward()}),this.player.template.skipPlayButton.addEventListener("click",function(){h.player.toggle()})}},{key:"initLrcButton",value:function(){var h=this;this.player.template.lrcButton.addEventListener("click",function(){h.player.template.lrcButton.classList.contains("aplayer-icon-lrc-inactivity")?(h.player.template.lrcButton.classList.remove("aplayer-icon-lrc-inactivity"),h.player.lrc&&h.player.lrc.show()):(h.player.template.lrcButton.classList.add("aplayer-icon-lrc-inactivity"),h.player.lrc&&h.player.lrc.hide())})}}]),c}();i.default=u},function(r,i,n){var s=n(2);r.exports=function(o){o=o||{};var a="",l=s.$each,u=o.lyrics,c=(o.$value,o.$index,s.$escape);return l(u,function(h,d){a+=`
    <p`,d===0&&(a+=' class="aplayer-lrc-current"'),a+=">",a+=c(h[1]),a+=`</p>
`}),a}},function(r,i,n){Object.defineProperty(i,"__esModule",{value:!0});var s,o=function(){function c(h,d){for(var f=0;f<d.length;f++){var p=d[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,d,f){return d&&c(h.prototype,d),f&&c(h,f),h}}(),a=n(10),l=(s=a)&&s.__esModule?s:{default:s},u=function(){function c(h){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,c),this.container=h.container,this.async=h.async,this.player=h.player,this.parsed=[],this.index=0,this.current=[]}return o(c,[{key:"show",value:function(){this.player.events.trigger("lrcshow"),this.player.template.lrcWrap.classList.remove("aplayer-lrc-hide")}},{key:"hide",value:function(){this.player.events.trigger("lrchide"),this.player.template.lrcWrap.classList.add("aplayer-lrc-hide")}},{key:"toggle",value:function(){this.player.template.lrcWrap.classList.contains("aplayer-lrc-hide")?this.show():this.hide()}},{key:"update",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.player.audio.currentTime;if(this.index>this.current.length-1||h<this.current[this.index][0]||!this.current[this.index+1]||h>=this.current[this.index+1][0])for(var d=0;d<this.current.length;d++)h>=this.current[d][0]&&(!this.current[d+1]||h<this.current[d+1][0])&&(this.index=d,this.container.style.transform="translateY("+16*-this.index+"px)",this.container.style.webkitTransform="translateY("+16*-this.index+"px)",this.container.getElementsByClassName("aplayer-lrc-current")[0].classList.remove("aplayer-lrc-current"),this.container.getElementsByTagName("p")[d].classList.add("aplayer-lrc-current"))}},{key:"switch",value:function(h){var d=this;if(!this.parsed[h])if(this.async){this.parsed[h]=[["00:00","Loading"]];var f=new XMLHttpRequest;f.onreadystatechange=function(){h===d.player.list.index&&f.readyState===4&&(f.status>=200&&f.status<300||f.status===304?d.parsed[h]=d.parse(f.responseText):(d.player.notice("LRC file request fails: status "+f.status),d.parsed[h]=[["00:00","Not available"]]),d.container.innerHTML=(0,l.default)({lyrics:d.parsed[h]}),d.update(0),d.current=d.parsed[h])};var p=this.player.list.audios[h].lrc;f.open("get",p,!0),f.send(null)}else this.player.list.audios[h].lrc?this.parsed[h]=this.parse(this.player.list.audios[h].lrc):this.parsed[h]=[["00:00","Not available"]];this.container.innerHTML=(0,l.default)({lyrics:this.parsed[h]}),this.update(0),this.current=this.parsed[h]}},{key:"parse",value:function(h){if(h){for(var d=(h=h.replace(/([^\]^\n])\[/g,function(x,T){return T+`
[`})).split(`
`),f=[],p=d.length,m=0;m<p;m++){var g=d[m].match(/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g),v=d[m].replace(/.*\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g,"").replace(/<(\d{2}):(\d{2})(\.(\d{2,3}))?>/g,"").replace(/^\s+|\s+$/g,"");if(g)for(var _=g.length,y=0;y<_;y++){var w=/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/.exec(g[y]),S=60*w[1]+parseInt(w[2])+(w[4]?parseInt(w[4])/((w[4]+"").length===2?100:1e3):0);f.push([S,v])}}return(f=f.filter(function(x){return x[1]})).sort(function(x,T){return x[0]-T[0]}),f}return[]}},{key:"remove",value:function(h){this.parsed.splice(h,1)}},{key:"clear",value:function(){this.parsed=[],this.container.innerHTML=""}}]),c}();i.default=u},function(r,i,n){Object.defineProperty(i,"__esModule",{value:!0});var s,o=function(){function c(h,d){for(var f=0;f<d.length;f++){var p=d[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,d,f){return d&&c(h.prototype,d),f&&c(h,f),h}}(),a=n(0),l=(s=a)&&s.__esModule?s:{default:s},u=function(){function c(h){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,c),this.storageName=h.options.storageName,this.data=JSON.parse(l.default.storage.get(this.storageName)),this.data||(this.data={}),this.data.volume=this.data.volume||h.options.volume}return o(c,[{key:"get",value:function(h){return this.data[h]}},{key:"set",value:function(h,d){this.data[h]=d,l.default.storage.set(this.storageName,JSON.stringify(this.data))}}]),c}();i.default=u},function(r,i,n){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function a(l,u){for(var c=0;c<u.length;c++){var h=u[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,u,c){return u&&a(l.prototype,u),c&&a(l,c),l}}(),o=function(){function a(l){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,a),this.elements={},this.elements.volume=l.volume,this.elements.played=l.played,this.elements.loaded=l.loaded}return s(a,[{key:"set",value:function(l,u,c){u=Math.max(u,0),u=Math.min(u,1),this.elements[l].style[c]=100*u+"%"}},{key:"get",value:function(l,u){return parseFloat(this.elements[l].style[u])/100}}]),a}();i.default=o},function(r,i,n){(function(s){r.exports=!1;try{r.exports=Object.prototype.toString.call(s.process)==="[object process]"}catch{}}).call(this,n(4))},function(r,i,n){(function(s){var o=n(14),a=Object.create(o?s:window),l=/["&'<>]/;a.$escape=function(u){return function(c){var h=""+c,d=l.exec(h);if(!d)return c;var f="",p=void 0,m=void 0,g=void 0;for(p=d.index,m=0;p<h.length;p++){switch(h.charCodeAt(p)){case 34:g="&#34;";break;case 38:g="&#38;";break;case 39:g="&#39;";break;case 60:g="&#60;";break;case 62:g="&#62;";break;default:continue}m!==p&&(f+=h.substring(m,p)),m=p+1,f+=g}return m!==p?f+h.substring(m,p):f}(function c(h){return typeof h!="string"&&(h=h==null?"":typeof h=="function"?c(h.call(h)):JSON.stringify(h)),h}(u))},a.$each=function(u,c){if(Array.isArray(u))for(var h=0,d=u.length;h<d;h++)c(u[h],h);else for(var f in u)c(u[f],f)},r.exports=a}).call(this,n(4))},function(r,i,n){var s=n(2);r.exports=function(o){var a="",l=(o=o||{}).options,u=o.cover,c=s.$escape,h=o.icons,d=function(p){return a+=p},f=o.getObject;return o.theme,o.audio,o.index,l.fixed?(a+=`
<div class="aplayer-list`,l.listFolded&&(a+=" aplayer-list-hide"),a+='"',l.listMaxHeight&&(a+=' style="max-height: ',a+=c(l.listMaxHeight),a+='"'),a+=`>
    <ol`,l.listMaxHeight&&(a+=' style="max-height: ',a+=c(l.listMaxHeight),a+='"'),a+=`>
        `,d(n(1)(f({theme:l.theme,audio:l.audio,index:1}))),a+=`
    </ol>
</div>
<div class="aplayer-body">
    <div class="aplayer-pic" style="`,u&&(a+="background-image: url(&quot;",a+=c(u),a+="&quot;);"),a+="background-color: ",a+=c(l.theme),a+=`;">
        <div class="aplayer-button aplayer-play">`,a+=h.play,a+=`</div>
    </div>
    <div class="aplayer-info" style="display: none;">
        <div class="aplayer-music">
            <span class="aplayer-title">No audio</span>
            <span class="aplayer-author"></span>
        </div>
        <div class="aplayer-controller">
            <div class="aplayer-bar-wrap">
                <div class="aplayer-bar">
                    <div class="aplayer-loaded" style="width: 0"></div>
                    <div class="aplayer-played" style="width: 0; background: `,a+=c(l.theme),a+=`;">
                        <span class="aplayer-thumb" style="background: `,a+=c(l.theme),a+=`;">
                            <span class="aplayer-loading-icon">`,a+=h.loading,a+=`</span>
                        </span>
                    </div>
                </div>
            </div>
            <div class="aplayer-time">
                <span class="aplayer-time-inner">
                    <span class="aplayer-ptime">00:00</span> / <span class="aplayer-dtime">00:00</span>
                </span>
                <span class="aplayer-icon aplayer-icon-back">
                    `,a+=h.skip,a+=`
                </span>
                <span class="aplayer-icon aplayer-icon-play">
                    `,a+=h.play,a+=`
                </span>
                <span class="aplayer-icon aplayer-icon-forward">
                    `,a+=h.skip,a+=`
                </span>
                <div class="aplayer-volume-wrap">
                    <button type="button" class="aplayer-icon aplayer-icon-volume-down">
                        `,a+=h.volumeDown,a+=`
                    </button>
                    <div class="aplayer-volume-bar-wrap">
                        <div class="aplayer-volume-bar">
                            <div class="aplayer-volume" style="height: 80%; background: `,a+=c(l.theme),a+=`;"></div>
                        </div>
                    </div>
                </div>
                <button type="button" class="aplayer-icon aplayer-icon-order">
                    `,l.order==="list"?a+=h.orderList:l.order==="random"&&(a+=h.orderRandom),a+=`
                </button>
                <button type="button" class="aplayer-icon aplayer-icon-loop">
                    `,l.loop==="one"?a+=h.loopOne:l.loop==="all"?a+=h.loopAll:l.loop==="none"&&(a+=h.loopNone),a+=`
                </button>
                <button type="button" class="aplayer-icon aplayer-icon-menu">
                    `,a+=h.menu,a+=`
                </button>
                <button type="button" class="aplayer-icon aplayer-icon-lrc">
                    `,a+=h.lrc,a+=`
                </button>
            </div>
        </div>
    </div>
    <div class="aplayer-notice"></div>
    <div class="aplayer-miniswitcher"><button class="aplayer-icon">`,a+=h.right,a+=`</button></div>
</div>
<div class="aplayer-lrc">
    <div class="aplayer-lrc-contents" style="transform: translateY(0); -webkit-transform: translateY(0);"></div>
</div>
`):(a+=`
<div class="aplayer-body">
    <div class="aplayer-pic" style="`,u&&(a+="background-image: url(&quot;",a+=c(u),a+="&quot;);"),a+="background-color: ",a+=c(l.theme),a+=`;">
        <div class="aplayer-button aplayer-play">`,a+=h.play,a+=`</div>
    </div>
    <div class="aplayer-info">
        <div class="aplayer-music">
            <span class="aplayer-title">No audio</span>
            <span class="aplayer-author"></span>
        </div>
        <div class="aplayer-lrc">
            <div class="aplayer-lrc-contents" style="transform: translateY(0); -webkit-transform: translateY(0);"></div>
        </div>
        <div class="aplayer-controller">
            <div class="aplayer-bar-wrap">
                <div class="aplayer-bar">
                    <div class="aplayer-loaded" style="width: 0"></div>
                    <div class="aplayer-played" style="width: 0; background: `,a+=c(l.theme),a+=`;">
                        <span class="aplayer-thumb" style="background: `,a+=c(l.theme),a+=`;">
                            <span class="aplayer-loading-icon">`,a+=h.loading,a+=`</span>
                        </span>
                    </div>
                </div>
            </div>
            <div class="aplayer-time">
                <span class="aplayer-time-inner">
                    <span class="aplayer-ptime">00:00</span> / <span class="aplayer-dtime">00:00</span>
                </span>
                <span class="aplayer-icon aplayer-icon-back">
                    `,a+=h.skip,a+=`
                </span>
                <span class="aplayer-icon aplayer-icon-play">
                    `,a+=h.play,a+=`
                </span>
                <span class="aplayer-icon aplayer-icon-forward">
                    `,a+=h.skip,a+=`
                </span>
                <div class="aplayer-volume-wrap">
                    <button type="button" class="aplayer-icon aplayer-icon-volume-down">
                        `,a+=h.volumeDown,a+=`
                    </button>
                    <div class="aplayer-volume-bar-wrap">
                        <div class="aplayer-volume-bar">
                            <div class="aplayer-volume" style="height: 80%; background: `,a+=c(l.theme),a+=`;"></div>
                        </div>
                    </div>
                </div>
                <button type="button" class="aplayer-icon aplayer-icon-order">
                    `,l.order==="list"?a+=h.orderList:l.order==="random"&&(a+=h.orderRandom),a+=`
                </button>
                <button type="button" class="aplayer-icon aplayer-icon-loop">
                    `,l.loop==="one"?a+=h.loopOne:l.loop==="all"?a+=h.loopAll:l.loop==="none"&&(a+=h.loopNone),a+=`
                </button>
                <button type="button" class="aplayer-icon aplayer-icon-menu">
                    `,a+=h.menu,a+=`
                </button>
                <button type="button" class="aplayer-icon aplayer-icon-lrc">
                    `,a+=h.lrc,a+=`
                </button>
            </div>
        </div>
    </div>
    <div class="aplayer-notice"></div>
    <div class="aplayer-miniswitcher"><button class="aplayer-icon">`,a+=h.right,a+=`</button></div>
</div>
<div class="aplayer-list`,l.listFolded&&(a+=" aplayer-list-hide"),a+='"',l.listMaxHeight&&(a+=' style="max-height: ',a+=c(l.listMaxHeight),a+='"'),a+=`>
    <ol`,l.listMaxHeight&&(a+=' style="max-height: ',a+=c(l.listMaxHeight),a+='"'),a+=`>
        `,d(n(1)(f({theme:l.theme,audio:l.audio,index:1}))),a+=`
    </ol>
</div>
`),a}},function(r,i,n){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function c(h,d){for(var f=0;f<d.length;f++){var p=d[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,d,f){return d&&c(h.prototype,d),f&&c(h,f),h}}(),o=l(n(3)),a=l(n(16));function l(c){return c&&c.__esModule?c:{default:c}}var u=function(){function c(h){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,c),this.container=h.container,this.options=h.options,this.randomOrder=h.randomOrder,this.init()}return s(c,[{key:"init",value:function(){var h="";this.options.audio.length&&(h=this.options.order==="random"?this.options.audio[this.randomOrder[0]].cover:this.options.audio[0].cover),this.container.innerHTML=(0,a.default)({options:this.options,icons:o.default,cover:h,getObject:function(d){return d}}),this.lrc=this.container.querySelector(".aplayer-lrc-contents"),this.lrcWrap=this.container.querySelector(".aplayer-lrc"),this.ptime=this.container.querySelector(".aplayer-ptime"),this.info=this.container.querySelector(".aplayer-info"),this.time=this.container.querySelector(".aplayer-time"),this.barWrap=this.container.querySelector(".aplayer-bar-wrap"),this.button=this.container.querySelector(".aplayer-button"),this.body=this.container.querySelector(".aplayer-body"),this.list=this.container.querySelector(".aplayer-list"),this.listOl=this.container.querySelector(".aplayer-list ol"),this.listCurs=this.container.querySelectorAll(".aplayer-list-cur"),this.played=this.container.querySelector(".aplayer-played"),this.loaded=this.container.querySelector(".aplayer-loaded"),this.thumb=this.container.querySelector(".aplayer-thumb"),this.volume=this.container.querySelector(".aplayer-volume"),this.volumeBar=this.container.querySelector(".aplayer-volume-bar"),this.volumeButton=this.container.querySelector(".aplayer-time button"),this.volumeBarWrap=this.container.querySelector(".aplayer-volume-bar-wrap"),this.loop=this.container.querySelector(".aplayer-icon-loop"),this.order=this.container.querySelector(".aplayer-icon-order"),this.menu=this.container.querySelector(".aplayer-icon-menu"),this.pic=this.container.querySelector(".aplayer-pic"),this.title=this.container.querySelector(".aplayer-title"),this.author=this.container.querySelector(".aplayer-author"),this.dtime=this.container.querySelector(".aplayer-dtime"),this.notice=this.container.querySelector(".aplayer-notice"),this.miniSwitcher=this.container.querySelector(".aplayer-miniswitcher"),this.skipBackButton=this.container.querySelector(".aplayer-icon-back"),this.skipForwardButton=this.container.querySelector(".aplayer-icon-forward"),this.skipPlayButton=this.container.querySelector(".aplayer-icon-play"),this.lrcButton=this.container.querySelector(".aplayer-icon-lrc")}}]),c}();i.default=u},function(r,i,n){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(s){var o={container:s.element||document.getElementsByClassName("aplayer")[0],mini:s.narrow||s.fixed||!1,fixed:!1,autoplay:!1,mutex:!0,lrcType:s.showlrc||s.lrc||0,preload:"auto",theme:"#b7daff",loop:"all",order:"list",volume:.7,listFolded:s.fixed,listMaxHeight:s.listmaxheight||"250px",audio:s.music||[],storageName:"aplayer-setting"};for(var a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a]);return Object.prototype.toString.call(s.audio)!=="[object Array]"&&(s.audio=[s.audio]),s.audio.map(function(l){return l.name=l.name||l.title||"Audio name",l.artist=l.artist||l.author||"Audio artist",l.cover=l.cover||l.pic,l.type=l.type||"normal",l}),s.audio.length<=1&&s.loop==="one"&&(s.loop="all"),s}},function(r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"></path></svg>'},function(r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M25.468 6.947c-0.326-0.172-0.724-0.151-1.030 0.057l-6.438 4.38v-3.553c0-0.371-0.205-0.71-0.532-0.884-0.326-0.172-0.724-0.151-1.030 0.057l-12 8.164c-0.274 0.186-0.438 0.496-0.438 0.827s0.164 0.641 0.438 0.827l12 8.168c0.169 0.115 0.365 0.174 0.562 0.174 0.16 0 0.321-0.038 0.468-0.116 0.327-0.173 0.532-0.514 0.532-0.884v-3.556l6.438 4.382c0.169 0.115 0.365 0.174 0.562 0.174 0.16 0 0.321-0.038 0.468-0.116 0.327-0.173 0.532-0.514 0.532-0.884v-16.333c0-0.371-0.205-0.71-0.532-0.884z"></path></svg>'},function(r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"></path></svg>'},function(r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M4 16c0-6.6 5.4-12 12-12s12 5.4 12 12c0 1.2-0.8 2-2 2s-2-0.8-2-2c0-4.4-3.6-8-8-8s-8 3.6-8 8 3.6 8 8 8c1.2 0 2 0.8 2 2s-0.8 2-2 2c-6.6 0-12-5.4-12-12z"></path></svg>'},function(r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 29 32"><path d="M2.667 7.027l1.707-1.693 22.293 22.293-1.693 1.707-4-4h-11.64v4l-5.333-5.333 5.333-5.333v4h8.973l-8.973-8.973v0.973h-2.667v-3.64l-4-4zM22.667 17.333h2.667v5.573l-2.667-2.667v-2.907zM22.667 6.667v-4l5.333 5.333-5.333 5.333v-4h-10.907l-2.667-2.667h13.573z"></path></svg>'},function(r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 33 32"><path d="M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333zM17.333 20v-8h-1.333l-2.667 1.333v1.333h2v5.333h2z"></path></svg>'},function(r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 29 32"><path d="M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333z"></path></svg>'},function(r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 22 32"><path d="M20.8 14.4q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2zM1.6 11.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2zM20.8 20.8q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2z"></path></svg>'},function(r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M0.622 18.334h19.54v7.55l11.052-9.412-11.052-9.413v7.549h-19.54v3.725z"></path></svg>'},function(r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22.667 4l7 6-7 6 7 6-7 6v-4h-3.653l-3.76-3.76 2.827-2.827 2.587 2.587h2v-8h-2l-12 12h-6v-4h4.347l12-12h3.653v-4zM2.667 8h6l3.76 3.76-2.827 2.827-2.587-2.587h-4.347v-4z"></path></svg>'},function(r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path></svg>'},function(r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path></svg>'},function(r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056zM29.728 16q0 4.096-2.272 7.552t-6.048 5.056q-0.224 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.64 0.704-1.056 0.128-0.064 0.384-0.192t0.416-0.192q0.8-0.448 1.44-0.896 2.208-1.632 3.456-4.064t1.216-5.152-1.216-5.152-3.456-4.064q-0.64-0.448-1.44-0.896-0.128-0.096-0.416-0.192t-0.384-0.192q-0.704-0.416-0.704-1.056 0-0.448 0.32-0.8t0.832-0.352q0.224 0 0.448 0.096 3.776 1.632 6.048 5.056t2.272 7.552z"></path></svg>'},function(r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>'},function(r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 31"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>'},function(r,i,n){var s,o,a=r.exports={};function l(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(y){if(s===setTimeout)return setTimeout(y,0);if((s===l||!s)&&setTimeout)return s=setTimeout,setTimeout(y,0);try{return s(y,0)}catch{try{return s.call(null,y,0)}catch{return s.call(this,y,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:l}catch{s=l}try{o=typeof clearTimeout=="function"?clearTimeout:u}catch{o=u}})();var h,d=[],f=!1,p=-1;function m(){f&&h&&(f=!1,h.length?d=h.concat(d):p=-1,d.length&&g())}function g(){if(!f){var y=c(m);f=!0;for(var w=d.length;w;){for(h=d,d=[];++p<w;)h&&h[p].run();p=-1,w=d.length}h=null,f=!1,function(S){if(o===clearTimeout)return clearTimeout(S);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(S);try{o(S)}catch{try{return o.call(null,S)}catch{return o.call(this,S)}}}(y)}}function v(y,w){this.fun=y,this.array=w}function _(){}a.nextTick=function(y){var w=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)w[S-1]=arguments[S];d.push(new v(y,w)),d.length!==1||f||c(g)},v.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=_,a.addListener=_,a.once=_,a.off=_,a.removeListener=_,a.removeAllListeners=_,a.emit=_,a.prependListener=_,a.prependOnceListener=_,a.listeners=function(y){return[]},a.binding=function(y){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(y){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(r,i,n){(function(s,o){(function(a,l){if(!a.setImmediate){var u,c,h,d,f,p=1,m={},g=!1,v=a.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(a);_=_&&_.setTimeout?_:a,{}.toString.call(a.process)==="[object process]"?u=function(S){o.nextTick(function(){w(S)})}:function(){if(a.postMessage&&!a.importScripts){var S=!0,x=a.onmessage;return a.onmessage=function(){S=!1},a.postMessage("","*"),a.onmessage=x,S}}()?(d="setImmediate$"+Math.random()+"$",f=function(S){S.source===a&&typeof S.data=="string"&&S.data.indexOf(d)===0&&w(+S.data.slice(d.length))},a.addEventListener?a.addEventListener("message",f,!1):a.attachEvent("onmessage",f),u=function(S){a.postMessage(d+S,"*")}):a.MessageChannel?((h=new MessageChannel).port1.onmessage=function(S){w(S.data)},u=function(S){h.port2.postMessage(S)}):v&&"onreadystatechange"in v.createElement("script")?(c=v.documentElement,u=function(S){var x=v.createElement("script");x.onreadystatechange=function(){w(S),x.onreadystatechange=null,c.removeChild(x),x=null},c.appendChild(x)}):u=function(S){setTimeout(w,0,S)},_.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var x=new Array(arguments.length-1),T=0;T<x.length;T++)x[T]=arguments[T+1];var A={callback:S,args:x};return m[p]=A,u(p),p++},_.clearImmediate=y}function y(S){delete m[S]}function w(S){if(g)setTimeout(w,0,S);else{var x=m[S];if(x){g=!0;try{(function(T){var A=T.callback,P=T.args;switch(P.length){case 0:A();break;case 1:A(P[0]);break;case 2:A(P[0],P[1]);break;case 3:A(P[0],P[1],P[2]);break;default:A.apply(l,P)}})(x)}finally{y(S),g=!1}}}}})(typeof self>"u"?s===void 0?void 0:s:self)}).call(this,n(4),n(34))},function(r,i,n){var s=Function.prototype.apply;function o(a,l){this._id=a,this._clearFn=l}i.setTimeout=function(){return new o(s.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new o(s.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(a){a&&a.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(a,l){clearTimeout(a._idleTimeoutId),a._idleTimeout=l},i.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},i._unrefActive=i.active=function(a){clearTimeout(a._idleTimeoutId);var l=a._idleTimeout;l>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},l))},n(35),i.setImmediate=setImmediate,i.clearImmediate=clearImmediate},function(r,i,n){(function(s){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},a=setTimeout;function l(){}function u(m){if(!(this instanceof u))throw new TypeError("Promises must be constructed via new");if(typeof m!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(m,this)}function c(m,g){for(;m._state===3;)m=m._value;m._state!==0?(m._handled=!0,u._immediateFn(function(){var v=m._state===1?g.onFulfilled:g.onRejected;if(v!==null){var _;try{_=v(m._value)}catch(y){return void d(g.promise,y)}h(g.promise,_)}else(m._state===1?h:d)(g.promise,m._value)})):m._deferreds.push(g)}function h(m,g){try{if(g===m)throw new TypeError("A promise cannot be resolved with itself.");if(g&&((g===void 0?"undefined":o(g))==="object"||typeof g=="function")){var v=g.then;if(g instanceof u)return m._state=3,m._value=g,void f(m);if(typeof v=="function")return void p((_=v,y=g,function(){_.apply(y,arguments)}),m)}m._state=1,m._value=g,f(m)}catch(w){d(m,w)}var _,y}function d(m,g){m._state=2,m._value=g,f(m)}function f(m){m._state===2&&m._deferreds.length===0&&u._immediateFn(function(){m._handled||u._unhandledRejectionFn(m._value)});for(var g=0,v=m._deferreds.length;g<v;g++)c(m,m._deferreds[g]);m._deferreds=null}function p(m,g){var v=!1;try{m(function(_){v||(v=!0,h(g,_))},function(_){v||(v=!0,d(g,_))})}catch(_){if(v)return;v=!0,d(g,_)}}u.prototype.catch=function(m){return this.then(null,m)},u.prototype.then=function(m,g){var v=new this.constructor(l);return c(this,new function(_,y,w){this.onFulfilled=typeof _=="function"?_:null,this.onRejected=typeof y=="function"?y:null,this.promise=w}(m,g,v)),v},u.prototype.finally=function(m){var g=this.constructor;return this.then(function(v){return g.resolve(m()).then(function(){return v})},function(v){return g.resolve(m()).then(function(){return g.reject(v)})})},u.all=function(m){return new u(function(g,v){if(!m||m.length===void 0)throw new TypeError("Promise.all accepts an array");var _=Array.prototype.slice.call(m);if(_.length===0)return g([]);var y=_.length;function w(x,T){try{if(T&&((T===void 0?"undefined":o(T))==="object"||typeof T=="function")){var A=T.then;if(typeof A=="function")return void A.call(T,function(P){w(x,P)},v)}_[x]=T,--y==0&&g(_)}catch(P){v(P)}}for(var S=0;S<_.length;S++)w(S,_[S])})},u.resolve=function(m){return m&&(m===void 0?"undefined":o(m))==="object"&&m.constructor===u?m:new u(function(g){g(m)})},u.reject=function(m){return new u(function(g,v){v(m)})},u.race=function(m){return new u(function(g,v){for(var _=0,y=m.length;_<y;_++)m[_].then(g,v)})},u._immediateFn=typeof s=="function"&&function(m){s(m)}||function(m){a(m,0)},u._unhandledRejectionFn=function(m){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",m)},r.exports=u}).call(this,n(36).setImmediate)},function(r,i,n){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function S(x,T){for(var A=0;A<T.length;A++){var P=T[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(x,P.key,P)}}return function(x,T,A){return T&&S(x.prototype,T),A&&S(x,A),x}}(),o=_(n(37)),a=_(n(0)),l=_(n(3)),u=_(n(18)),c=_(n(17)),h=_(n(13)),d=_(n(12)),f=_(n(11)),p=_(n(9)),m=_(n(8)),g=_(n(7)),v=_(n(6));function _(S){return S&&S.__esModule?S:{default:S}}var y=[],w=function(){function S(x){if(function(P,E){if(!(P instanceof E))throw new TypeError("Cannot call a class as a function")}(this,S),this.options=(0,u.default)(x),this.container=this.options.container,this.paused=!0,this.playedPromise=o.default.resolve(),this.mode="normal",this.randomOrder=a.default.randomOrder(this.options.audio.length),this.container.classList.add("aplayer"),this.options.lrcType&&!this.options.fixed&&this.container.classList.add("aplayer-withlrc"),this.options.audio.length>1&&this.container.classList.add("aplayer-withlist"),a.default.isMobile&&this.container.classList.add("aplayer-mobile"),this.arrow=this.container.offsetWidth<=300,this.arrow&&this.container.classList.add("aplayer-arrow"),this.container=this.options.container,this.options.lrcType===2||this.options.lrcType===!0)for(var T=this.container.getElementsByClassName("aplayer-lrc-content"),A=0;A<T.length;A++)this.options.audio[A]&&(this.options.audio[A].lrc=T[A].innerHTML);this.template=new c.default({container:this.container,options:this.options,randomOrder:this.randomOrder}),this.options.fixed&&(this.container.classList.add("aplayer-fixed"),this.template.body.style.width=this.template.body.offsetWidth-18+"px"),this.options.mini&&(this.setMode("mini"),this.template.info.style.display="block"),this.template.info.offsetWidth<200&&this.template.time.classList.add("aplayer-time-narrow"),this.options.lrcType&&(this.lrc=new f.default({container:this.template.lrc,async:this.options.lrcType===3,player:this})),this.events=new g.default,this.storage=new d.default(this),this.bar=new h.default(this.template),this.controller=new p.default(this),this.timer=new m.default(this),this.list=new v.default(this),this.initAudio(),this.bindEvents(),this.options.order==="random"?this.list.switch(this.randomOrder[0]):this.list.switch(0),this.options.autoplay&&this.play(),y.push(this)}return s(S,[{key:"initAudio",value:function(){var x=this;this.audio=document.createElement("audio"),this.audio.preload=this.options.preload;for(var T=function(P){x.audio.addEventListener(x.events.audioEvents[P],function(E){x.events.trigger(x.events.audioEvents[P],E)})},A=0;A<this.events.audioEvents.length;A++)T(A);this.volume(this.storage.get("volume"),!0)}},{key:"bindEvents",value:function(){var x=this;this.on("play",function(){x.paused&&x.setUIPlaying()}),this.on("pause",function(){x.paused||x.setUIPaused()}),this.on("timeupdate",function(){if(!x.disableTimeupdate){x.bar.set("played",x.audio.currentTime/x.duration,"width"),x.lrc&&x.lrc.update();var A=a.default.secondToTime(x.audio.currentTime);x.template.ptime.innerHTML!==A&&(x.template.ptime.innerHTML=A)}}),this.on("durationchange",function(){x.duration!==1&&(x.template.dtime.innerHTML=a.default.secondToTime(x.duration))}),this.on("progress",function(){var A=x.audio.buffered.length?x.audio.buffered.end(x.audio.buffered.length-1)/x.duration:0;x.bar.set("loaded",A,"width")});var T=void 0;this.on("error",function(){x.list.audios.length>1?(x.notice("An audio error has occurred, player will skip forward in 2 seconds."),T=setTimeout(function(){x.skipForward(),x.paused||x.play()},2e3)):x.list.audios.length===1&&x.notice("An audio error has occurred.")}),this.events.on("listswitch",function(){T&&clearTimeout(T)}),this.on("ended",function(){x.options.loop==="none"?x.options.order==="list"?x.list.index<x.list.audios.length-1?(x.list.switch((x.list.index+1)%x.list.audios.length),x.play()):(x.list.switch((x.list.index+1)%x.list.audios.length),x.pause()):x.options.order==="random"&&(x.randomOrder.indexOf(x.list.index)<x.randomOrder.length-1?(x.list.switch(x.nextIndex()),x.play()):(x.list.switch(x.nextIndex()),x.pause())):x.options.loop==="one"?(x.list.switch(x.list.index),x.play()):x.options.loop==="all"&&(x.skipForward(),x.play())})}},{key:"setAudio",value:function(x){this.hls&&(this.hls.destroy(),this.hls=null);var T=x.type;this.options.customAudioType&&this.options.customAudioType[T]?Object.prototype.toString.call(this.options.customAudioType[T])==="[object Function]"?this.options.customAudioType[T](this.audio,x,this):console.error("Illegal customType: "+T):(T&&T!=="auto"||(T=/m3u8(#|\?|$)/i.exec(x.url)?"hls":"normal"),T==="hls"?Hls.isSupported()?(this.hls=new Hls,this.hls.loadSource(x.url),this.hls.attachMedia(this.audio)):this.audio.canPlayType("application/x-mpegURL")||this.audio.canPlayType("application/vnd.apple.mpegURL")?this.audio.src=x.url:this.notice("Error: HLS is not supported."):T==="normal"&&(this.audio.src=x.url)),this.seek(0),this.paused||this.audio.play()}},{key:"theme",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.list.audios[this.list.index].theme||this.options.theme,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.list.index;(!(arguments.length>2&&arguments[2]!==void 0)||arguments[2])&&this.list.audios[T]&&(this.list.audios[T].theme=x),this.template.listCurs[T]&&(this.template.listCurs[T].style.backgroundColor=x),T===this.list.index&&(this.template.pic.style.backgroundColor=x,this.template.played.style.background=x,this.template.thumb.style.background=x,this.template.volume.style.background=x)}},{key:"seek",value:function(x){x=Math.max(x,0),x=Math.min(x,this.duration),this.audio.currentTime=x,this.bar.set("played",x/this.duration,"width"),this.template.ptime.innerHTML=a.default.secondToTime(x)}},{key:"setUIPlaying",value:function(){var x=this;if(this.paused&&(this.paused=!1,this.template.button.classList.remove("aplayer-play"),this.template.button.classList.add("aplayer-pause"),this.template.button.innerHTML="",setTimeout(function(){x.template.button.innerHTML=l.default.pause},100),this.template.skipPlayButton.innerHTML=l.default.pause),this.timer.enable("loading"),this.options.mutex)for(var T=0;T<y.length;T++)this!==y[T]&&y[T].pause()}},{key:"play",value:function(){var x=this;this.setUIPlaying();var T=this.audio.play();T&&T.catch(function(A){console.warn(A),A.name==="NotAllowedError"&&x.setUIPaused()})}},{key:"setUIPaused",value:function(){var x=this;this.paused||(this.paused=!0,this.template.button.classList.remove("aplayer-pause"),this.template.button.classList.add("aplayer-play"),this.template.button.innerHTML="",setTimeout(function(){x.template.button.innerHTML=l.default.play},100),this.template.skipPlayButton.innerHTML=l.default.play),this.container.classList.remove("aplayer-loading"),this.timer.disable("loading")}},{key:"pause",value:function(){this.setUIPaused(),this.audio.pause()}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeButton.innerHTML=l.default.volumeUp:this.volume()>0?this.template.volumeButton.innerHTML=l.default.volumeDown:this.template.volumeButton.innerHTML=l.default.volumeOff}},{key:"volume",value:function(x,T){return x=parseFloat(x),isNaN(x)||(x=Math.max(x,0),x=Math.min(x,1),this.bar.set("volume",x,"height"),T||this.storage.set("volume",x),this.audio.volume=x,this.audio.muted&&(this.audio.muted=!1),this.switchVolumeIcon()),this.audio.muted?0:this.audio.volume}},{key:"on",value:function(x,T){this.events.on(x,T)}},{key:"toggle",value:function(){this.template.button.classList.contains("aplayer-play")?this.play():this.template.button.classList.contains("aplayer-pause")&&this.pause()}},{key:"switchAudio",value:function(x){this.list.switch(x)}},{key:"addAudio",value:function(x){this.list.add(x)}},{key:"removeAudio",value:function(x){this.list.remove(x)}},{key:"destroy",value:function(){y.splice(y.indexOf(this),1),this.pause(),this.container.innerHTML="",this.audio.src="",this.timer.destroy(),this.events.trigger("destroy")}},{key:"setMode",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"normal";this.mode=x,x==="mini"?this.container.classList.add("aplayer-narrow"):x==="normal"&&this.container.classList.remove("aplayer-narrow")}},{key:"notice",value:function(x){var T=this,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2e3,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.8;this.template.notice.innerHTML=x,this.template.notice.style.opacity=P,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger("noticeshow",{text:x}),A&&(this.noticeTime=setTimeout(function(){T.template.notice.style.opacity=0,T.events.trigger("noticehide")},A))}},{key:"prevIndex",value:function(){if(!(this.list.audios.length>1))return 0;if(this.options.order==="list")return this.list.index-1<0?this.list.audios.length-1:this.list.index-1;if(this.options.order==="random"){var x=this.randomOrder.indexOf(this.list.index);return x===0?this.randomOrder[this.randomOrder.length-1]:this.randomOrder[x-1]}}},{key:"nextIndex",value:function(){if(!(this.list.audios.length>1))return 0;if(this.options.order==="list")return(this.list.index+1)%this.list.audios.length;if(this.options.order==="random"){var x=this.randomOrder.indexOf(this.list.index);return x===this.randomOrder.length-1?this.randomOrder[0]:this.randomOrder[x+1]}}},{key:"skipBack",value:function(){this.list.switch(this.prevIndex())}},{key:"skipForward",value:function(){this.list.switch(this.nextIndex())}},{key:"duration",get:function(){return isNaN(this.audio.duration)?0:this.audio.duration}}],[{key:"version",get:function(){return"1.10.1"}}]),S}();i.default=w},,function(r,i,n){},function(r,i,n){Object.defineProperty(i,"__esModule",{value:!0}),n(40);var s,o=n(38),a=(s=o)&&s.__esModule?s:{default:s};console.log(`
 %c APlayer v1.10.1 af84efb %c http://aplayer.js.org 
`,"color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;"),i.default=a.default}]).default})})(yv);var dA=yv.exports;const fA=_l(dA),pA=H({__name:"YunFooter",setup(t){if(Hc("/sakura.js"),Qe(()=>{new fA({container:document.getElementById("aplayer"),fixed:!0,order:"random",audio:[{name:"",artist:"",url:"https://music.163.com/song/media/outer/url?id=1466888386.mp3",cover:"https://p2.music.126.net/yKVO0wAri_TPgq1ds12e2w==/109951165184677384.jpg?param=130y130"}]})}),window.localStorage.getItem("fpson")==null||window.localStorage.getItem("fpson")=="1"){var e=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(o){window.setTimeout(o,16.666666666666668)}}(),r=0,i=Date.now(),n=Date.now(),s=function(){var o=Date.now(),a=o-n,l=Math.round(1e3/a);if(n=o,r++,o>1e3+i){var l=Math.round(r*1e3/(o-i));if(l<=5)var u='<span style="color:#bd0000">ppt</span>';else if(l<=15)var u='<span style="color:red"></span>';else if(l<=25)var u='<span style="color:orange"></span>';else if(l<35)var u='<span style="color:#9338e6"></span>';else if(l<=45)var u='<span style="color:#08b7e4"></span>';else var u='<span style="color:#087EED"></span>';document.getElementById("fps").innerHTML=`FPS:${l} ${u}`,r=0,i=o}e(s)};s()}else document.getElementById("fps").style="display:none!important";return(o,a)=>{const l=uS,u=iS;return $(),ue(hA,null,{default:we(()=>[b(l,{"start-time":"2025-01-04"},{"live-time-before":we(()=>[...a[0]||(a[0]=[O("span",null,"",-1)])]),_:1}),b(u),a[1]||(a[1]=O("div",{style:{display:"flex","justify-content":"center"}},[O("img",{src:"https://count.getloli.com/@:ZengziZhao?theme=booru-twifanartsfw",alt:"Zzz"})],-1)),a[2]||(a[2]=O("div",{id:"aplayer"},null,-1)),a[3]||(a[3]=O("div",{id:"fps"},null,-1))]),_:1})}}}),St=bl("yun-app",()=>{const t=Ii(),e=j(()=>t.value.type==="strato"),r=j(()=>t.value.type==="nimbo"),[i,n]=cu(),[s,o]=cu(),[a,l]=cu();return{size:VT(),leftSidebar:{isOpen:i,toggle:n},rightSidebar:{isOpen:s,toggle:o},fullscreenMenu:{isOpen:a,toggle:l},scrollY:Ai?FS(window).y:0,isStrato:e,isNimbo:r}}),mA=H({__name:"YunLayoutWrapper",setup(t){const e=St(),r=j(()=>e.isNimbo?"mt-12 md:mt-24":"mt-12");return(i,n)=>($(),N("div",{flex:"~",class:Te(["w-full m-auto justify-center items-start gap-4",r.value])},[lt(i.$slots,"default")],2))}}),gA=["lang"],yA=["href"],vA=H({__name:"YunOutlineItem",props:{headers:{},onClick:{type:Function},root:{type:Boolean}},setup(t){const{locale:e}=gt();return(r,i)=>{const n=ft("YunOutlineItem",!0);return $(),N("ul",{class:Te(t.root?"root":"nested")},[($(!0),N(Le,null,fn(t.headers,({children:s,link:o,title:a,lang:l})=>($(),N("li",{key:o,class:"va-toc-item",lang:l||R(e)},[O("a",{class:"outline-link",href:o,onClick:i[0]||(i[0]=(...u)=>t.onClick&&t.onClick(...u))},me(a),9,yA),s!=null&&s.length?($(),ue(n,{key:0,headers:s,"on-click":t.onClick},null,8,["headers","on-click"])):Q("v-if",!0)],8,gA))),128))],2)}}}),_A=Mr(vA,[["__scopeId","data-v-699db71a"]]),bA={class:"content"},xA={class:"outline-title"},wA={"aria-labelledby":"doc-outline-aria-label"},TA=H({__name:"YunOutline",setup(t){const e=Ii(),r=z(),i=z(),{headers:n,handleClick:s}=s2();return n2(r,i),(o,a)=>{const l=_A;return yo(($(),N("div",{ref_key:"container",ref:r},[O("div",bA,[O("div",xA,me(R(e).outlineTitle||"On this page"),1),O("div",{ref_key:"marker",ref:i,class:"outline-marker"},null,512),O("nav",wA,[a[0]||(a[0]=O("span",{id:"doc-outline-aria-label",class:"visually-hidden"}," Table of Contents for current page ",-1)),b(l,{class:"va-toc relative z-1 css-i18n-toc",headers:R(n),"on-click":R(s),root:""},null,8,["headers","on-click"])])])],512)),[[ld,R(n).length]])}}}),SA=Mr(TA,[["__scopeId","data-v-c2f93464"]]),AA={class:"w-full",flex:"~ col","pb-2":""},EA={m:"t-6 b-2",font:"serif black"},CA={key:1,class:"custom-container"},PA=H({__name:"YunAside",setup(t){const e=$i(),{t:r}=gt(),i=St(),n=z(!1),s=j(()=>e.value.toc!==!1),o=z(!1);return _e(()=>[i.rightSidebar.isOpen,i.size.isXl],async()=>{await ki(),o.value=!i.size.isXl,n.value=(i.rightSidebar.isOpen||!o.value)&&e.value.aside!==!1},{immediate:!0}),(a,l)=>{const u=SA;return $(),N("aside",{flex:"~ col",class:Te(["va-card yun-aside sticky top-0 lg:top-$yun-margin-top min-h-sm",{float:o.value,show:n.value,open:R(i).rightSidebar.isOpen}]),text:"center",overflow:"auto"},[b(pn,{name:"fade",delay:100,persisted:""},{default:we(()=>[yo(O("div",AA,[s.value?($(),N(Le,{key:0},[O("h2",EA,me(R(r)("sidebar.toc")),1),b(u)],64)):Q("v-if",!0),l[0]||(l[0]=O("div",{class:"flex-grow"},null,-1)),a.$slots.default?($(),N("div",CA,[lt(a.$slots,"default")])):Q("v-if",!0)],512),[[ld,n.value]])]),_:3})],2)}}}),kA={key:0,class:"yun-overlay z-$yun-z-overlay"},vv=H({__name:"YunOverlay",props:{show:{type:Boolean,default:!1}},setup(t){return(e,r)=>($(),ue(pn,{name:"fade"},{default:we(()=>[t.show?($(),N("div",kA)):Q("v-if",!0)]),_:1}))}}),MA=H({__name:"YunLayoutRight",setup(t){const e=$i(),r=St();return(i,n)=>{const s=vv,o=PA;return $(),N(Le,null,[R(e).aside!==!1?($(),N("button",{key:0,class:"xl:hidden toc-btn shadow-md fixed yun-icon-btn z-20 bg-$va-c-bg-soft",opacity:"75",right:"4",bottom:"19",onClick:n[0]||(n[0]=a=>R(r).rightSidebar.toggle())},[...n[2]||(n[2]=[O("div",{"i-ri-file-list-line":""},null,-1)])])):Q("v-if",!0),b(s,{show:R(r).rightSidebar.isOpen,onClick:n[1]||(n[1]=a=>R(r).rightSidebar.toggle())},null,8,["show"]),b(o)],64)}}}),$A={};function RA(t,e){return $(),N(Le,null,[Q(" eslint-disable-next-line vue/no-lone-template empty "),O("template")],2112)}const IA=Mr($A,[["render",RA]]),OA={class:"yun-card flex-center rounded",flex:"col","min-h":"100px",bg:"$va-c-bg-light"},LA=["src"],DA={key:1,class:"yun-card-header"},BA={key:2,class:"yun-card-content",w:"full"},FA=H({__name:"YunCard",props:{cover:{}},setup(t){return(e,r)=>($(),N("div",OA,[t.cover?($(),N("img",{key:0,width:"640",height:"360",class:"object-cover select-none",h:"64 md:sm",w:"full",src:t.cover,loading:"lazy"},null,8,LA)):Q("v-if",!0),e.$slots.header?($(),N("div",DA,[O("header",null,[lt(e.$slots,"header")])])):Q("v-if",!0),lt(e.$slots,"default"),e.$slots.content?($(),N("div",BA,[lt(e.$slots,"content")])):Q("v-if",!0)]))}}),NA=["href"],UA={key:0,class:"icon-link inline-block","i-ri-arrow-right-up-line":""},Eo=H({__name:"AppLink",props:{showExternalIcon:{type:Boolean},to:{},href:{}},setup(t){const e=t,r=j(()=>e.href||e.to||"#"),i=j(()=>typeof r.value=="string"&&r.value.startsWith("http"));return(n,s)=>{const o=ft("RouterLink");return i.value?($(),N("a",an({key:0},n.$attrs,{href:r.value,target:"_blank"}),[lt(n.$slots,"default"),t.showExternalIcon?($(),N("div",UA)):Q("v-if",!0)],16,NA)):($(),ue(o,an({key:1},n.$attrs,{to:r.value}),{default:we(()=>[lt(n.$slots,"default")]),_:3},16,["to"]))}}}),HA={class:"links flex-center"},Ld=H({__name:"YunSidebarLinks",setup(t){const e=Ii();return(r,i)=>{const n=Eo;return $(),N("div",HA,[($(!0),N(Le,null,fn(R(e).pages,(s,o)=>($(),ue(n,{key:o,class:"link-item yun-icon-btn","inline-flex":"",to:s.url,title:s.name,style:yi(`color:${s.color}`)},{default:we(()=>[O("div",{class:Te([s.icon,"icon size-6"])},null,2)]),_:2},1032,["to","title","style"]))),128))])}}}),zA=["href","title"],jA=H({__name:"YunSocialLinkItem",props:{social:{}},setup(t){const e=t,r=Yr(),i=j(()=>r.isDark&&e.social.color==="black"?"white":e.social.color);return(n,s)=>($(),N("a",{class:"links-of-author-item yun-icon-btn",rel:"noopener",href:t.social.link,title:t.social.name,target:"_blank",style:yi(`color:${i.value}`)},[O("div",{class:Te(["icon",t.social.icon])},null,2)],12,zA))}}),GA={class:"links-of-author"},Dd=H({__name:"YunSocialLinks",setup(t){const e=nt();return(r,i)=>{const n=jA;return $(),N("div",GA,[($(!0),N(Le,null,fn(R(e).social,(s,o)=>($(),ue(n,{key:o,social:s},null,8,["social"]))),128))])}}}),VA={flex:"~ col",class:"text-$va-c-text inline-flex-center gap-1"},WA={class:"text-xs"},XA={class:"count text-base text-black/80 dark:text-white/80"},YA=H({__name:"YunPostClassifyNavItem",props:{activeIcon:{},icon:{},title:{},total:{},to:{}},setup(t){const e=t,r=$r(),i=j(()=>r.path===e.to),n=j(()=>i.value&&e.activeIcon?e.activeIcon:e.icon);return(s,o)=>{const a=ft("RouterLink");return $(),ue(a,{flex:"~ col center",class:"post-classify-nav-item gap-1 w-20 p-2 rounded transition op-80",to:t.to,title:t.title,hover:"bg-$va-c-bg-soft op-100"},{default:we(()=>[O("div",VA,[O("div",{class:Te(["text-2xl",n.value])},null,2),O("span",WA,me(t.title),1)]),O("span",XA,me(t.total),1)]),_:1},8,["to","title"])}}}),qA={class:"site-nav","text-xl":"","mt-2":""},_v=H({__name:"YunPostsInfo",setup(t){const{t:e}=gt(),r=Pl(),i=q0(),n=cv();return(s,o)=>{const a=YA;return $(),N("nav",qA,[b(a,{to:"/archives/",icon:"i-ri-archive-line","active-icon":"i-ri-archive-fill",title:R(e)("menu.archives"),total:R(r).postList.length},null,8,["title","total"]),b(a,{to:"/categories/",icon:"i-ri-folder-2-line","active-icon":"i-ri-folder-2-fill",title:R(e)("menu.categories"),total:Array.from(R(i).children).length},null,8,["title","total"]),b(a,{to:"/tags/",icon:"i-ri-price-tag-3-line","active-icon":"i-ri-price-tag-3-fill",title:R(e)("menu.tags"),total:Array.from(R(n)).length},null,8,["title","total"])])}}}),KA={},ZA={class:"yun-gradient-line"};function JA(t,e){return $(),N("div",ZA)}const bv=Mr(KA,[["render",JA]]),QA=H({__name:"YunSiteTitle",setup(t){const e=ud(),r=nt(),i=z("site-name text-lg leading-loose bg-gradient-to-r gradient-text from-#1e3c72 to-dark dark:from-#66a6ff dark:to-blue-500");return(n,s)=>{const o=ft("RouterLink");return R(e).hasRoute("/about/site")?($(),ue(o,{key:0,to:"/about/site",class:Te(i.value)},{default:we(()=>[Ds(me(R(r).title),1)]),_:1},8,["class"])):($(),N("span",{key:1,class:Te(i.value)},me(R(r).title),3))}}}),eE=H({__name:"YunAuthorName",setup(t){const e=nt();return(r,i)=>{const n=ft("RouterLink");return $(),ue(n,{class:"site-author-name font-black font-serif text-$va-c-text op-80 hover:op-100 flex-center",to:"/about"},{default:we(()=>[Ds(me(R(e).author.name),1)]),_:1})}}}),tE={class:"relative yun-author-avatar"},rE=["src"],iE=["title"],nE=H({__name:"YunAuthorAvatar",setup(t){const e=nt();return(r,i)=>($(),N("div",tE,[i[0]||(i[0]=O("div",{class:"absolute size-full avatar-bg bg-image-$yun-home-hero-image-background-image filter-blur-2xl op-30"},null,-1)),O("img",{class:"rounded-full size-full bg-white dark:bg-white/20 p-1 m-0 absolute",src:R(e).author.avatar,alt:"avatar"},null,8,rE),R(e).author.status.emoji?($(),N("span",{key:0,class:"site-author-status absolute",title:R(e).author.status.message||void 0},me(R(e).author.status.emoji),9,iE)):Q("v-if",!0)]))}}),sE={class:"site-info gap-1 items-center",flex:"~ col",p:"t-8"},oE={key:0,class:"site-subtitle block",text:"xs"},aE={key:1,class:"site-description"},Bd=H({__name:"YunSiteInfo",setup(t){const e=nt();return(r,i)=>{const n=nE,s=ft("RouterLink"),o=eE,a=QA;return $(),N("div",sE,[b(s,{class:"site-author-avatar inline-flex-center",to:"/about"},{default:we(()=>[b(n)]),_:1}),b(o),b(a),R(e).subtitle?($(),N("h4",oE,me(R(e).subtitle),1)):Q("v-if",!0),R(e).description?($(),N("div",aE,me(R(e).description),1)):Q("v-if",!0)])}}}),lE=H({__name:"YunSidebarCard",setup(t){return(e,r)=>{const i=Bd,n=bv,s=_v,o=Dd,a=Ld,l=FA;return $(),ue(l,{class:"p-4 min-h-sm",flex:"~ col gap-1"},{default:we(()=>[b(i,{class:"text-center"}),b(n,{class:"my-2 op-20"}),b(s),b(n,{class:"my-2 op-20"}),b(o),b(n,{class:"my-2 op-20"}),b(a)]),_:1})}}}),uE={key:0,flex:"~ col",class:"gap-4 sticky top-$yun-margin-top w-80"},cE=H({__name:"YunLayoutLeft",setup(t){const e=St();return(r,i)=>{const n=lE,s=IA;return R(e).size.isLg?($(),N("div",uE,[b(n),b(s)])):Q("v-if",!0)}}}),hE=H({__name:"default",setup(t){return(e,r)=>{const i=cE,n=ft("RouterView"),s=MA,o=mA,a=pA;return $(),N(Le,null,[b(o,null,{default:we(()=>[b(i),b(n),b(s)]),_:1}),b(a)],64)}}}),ep={404:()=>Fe(()=>import("./404.DDAQiyBG.js"),__vite__mapDeps([1,2,3,4,5,6,7,8,9,10])),default:Q2,empty:()=>Fe(()=>import("./empty.ByrUJOfQ.js"),__vite__mapDeps([11,2,3])),post:()=>Fe(()=>import("./post.CiIBo7Hc.js"),__vite__mapDeps([12,2,3])),404:()=>Fe(()=>import("./404.CPhxx1l6.js"),__vite__mapDeps([13,2,3,4,5,6,7,8,9,14])),albums:()=>Fe(()=>import("./albums.D_AMggd5.js"),__vite__mapDeps([15,2,3,16,5,17,18,6,7,8,9,19])),archives:()=>Fe(()=>import("./archives.DGU0LzQZ.js"),__vite__mapDeps([20,21,2,3,8,5,6,22,18,7,9])),categories:()=>Fe(()=>import("./categories.DiWwvVrq.js"),__vite__mapDeps([23,21,2,3,8,5,6,22,24,25,18,7,9])),collection:()=>Fe(()=>import("./collection.B_lX9ZZf.js"),__vite__mapDeps([26,2,3,5,6,7,8,9])),collections:()=>Fe(()=>import("./collections.BGfkVKzr.js"),__vite__mapDeps([27,2,3,5,6,7,8,9])),default:hE,gallery:()=>Fe(()=>import("./gallery.DOpwDIGc.js").then(t=>t.g),__vite__mapDeps([28,3,2,5,18,6])),home:()=>Fe(()=>import("./home.CP3EVxRQ.js"),__vite__mapDeps([29,30,2,3,31,5,17,6,7,8,9,32])),post:()=>Fe(()=>import("./post.I9wVeG5G.js"),__vite__mapDeps([33,2,3,6,34,5,35,36,16,17,37,7,8,9,38])),posts:()=>Fe(()=>import("./posts.CCyt6KTi.js"),__vite__mapDeps([39,40,2,3,5,36,6,16,17,37,41,42,7,8,9])),projects:()=>Fe(()=>import("./projects.BS3oVJdM.js"),__vite__mapDeps([43,44,2,3,45,5,6,46,34,35,8,25,7,9,47])),tags:()=>Fe(()=>import("./tags.DWvVrvpC.js"),__vite__mapDeps([48,21,2,3,8,5,6,22,24,25,18,7,9])),projects:()=>Fe(()=>import("./projects.aYlZTEVr.js"),__vite__mapDeps([49,2,3,5,6,7,8,9,50]))};function dE(t){function e(r,i=!0){return r.map(n=>{var s,o,a,l,u,c;if(((s=n.children)==null?void 0:s.length)>0&&(n.children=e(n.children,!1)),i){if(!n.component&&((o=n.children)==null?void 0:o.find(d=>{var f;return(d.path===""||d.path==="/")&&((f=d.meta)==null?void 0:f.isLayout)})))return n;if(((a=n.meta)==null?void 0:a.layout)!==!1)return{path:n.path,component:ep[((l=n.meta)==null?void 0:l.layout)||"default"],children:n.path==="/"?[n]:[{...n,path:""}],meta:{isLayout:!0}}}return(u=n.meta)!=null&&u.layout?{path:n.path,component:ep[(c=n.meta)==null?void 0:c.layout],children:[{...n,path:""}],meta:{isLayout:!0}}:n})}return e(t)}function fE(t){return document.readyState==="loading"?new Promise(e=>{document.addEventListener("DOMContentLoaded",()=>e(t))}):Promise.resolve(t)}const pE=H({setup(t,{slots:e}){const r=z(!1);return Qe(()=>r.value=!0),()=>r.value?e.default&&e.default({}):e.placeholder&&e.placeholder({})}});function mE(t){try{return JSON.parse(t||"{}")}catch(e){return console.error("[SSG] On state deserialization -",e,t),{}}}function gE(t,e,r,i={}){const{transformState:n,registerComponents:s=!0,useHead:o=!0,rootContainer:a="#app"}=i,l=typeof window<"u";async function u(c=!1,h){const d=c?zy(t):vx(t);let f;o&&(f=dT(),d.use(f));const p=$x({history:c?Rx(e.base):Ix(e.base),...e}),{routes:m}=e;s&&d.component("ClientOnly",pE);const g=[],y={app:d,head:f,isClient:l,router:p,routes:m,onSSRAppRendered:c?()=>{}:T=>g.push(T),triggerOnSSRAppRendered:()=>Promise.all(g.map(T=>T())),initialState:{},transformState:n,routePath:h};c&&(await fE(),y.initialState=(n==null?void 0:n(window.__INITIAL_STATE__||{}))||mE(window.__INITIAL_STATE__)),await(r==null?void 0:r(y)),d.use(p);let w,S=!0;if(p.beforeEach((T,A,P)=>{(S||w&&w===T.path)&&(S=!1,w=T.path,T.meta.state=y.initialState),P()}),!c){const T=y.routePath??"/";p.push(T),await p.isReady(),y.initialState=p.currentRoute.value.meta.state||{}}const x=y.initialState;return{...y,initialState:x}}return l&&(async()=>{const{app:c,router:h}=await u(!0);await h.isReady(),c.mount(a,!0)})(),u}function Fd(t,e){t&&Object.entries(e).forEach(([r,i])=>{t[r]&&i()})}function yE(){const t=document.querySelector(".aplayer.aplayer-fixed .aplayer-body"),e=document.querySelector(".aplayer-body .aplayer-miniswitcher .aplayer-icon");let r=!0;function i(){r=!r}function n(){r&&(t.style.left="-66px")}function s(){t.style.left="0"}Ft(t,"mouseenter",s),Ft(t,"mouseleave",n),Ft(e,"click",i)}function xv(t,e){const r=document.querySelector(".aplayer.aplayer-fixed.aplayer-narrow .aplayer-body");r&&(t===jc.metingLoadBefore?r.style.display="initial":t===jc.metingLoad&&(r.style.left=e))}function wv(t){xv(t,"0")}function vE(t){xv(t,"-66px")}var jc=(t=>(t.metingInit="metingInit",t.metingLoadBefore="metingLoadBefore",t.metingLoad="metingLoad",t))(jc||{});function _E({options:t}){Fd(t,{animationIn:()=>Qe(()=>Fe(()=>Promise.resolve({}),__vite__mapDeps([51])))})}function bE({options:t}){Fd(t,{animationIn:()=>wv("metingLoadBefore")})}function xE({options:t}){Fd(t,{lyricHidden:()=>wE(),animationIn:()=>{wv("metingLoad")},autoHidden:()=>{yE(),vE("metingLoad")}})}function wE(){const t=new MutationObserver(e=>{const r=document.querySelector(".aplayer-lrc .aplayer-lrc-contents .aplayer-lrc-current"),i=document.querySelector(".aplayer-icon-lrc");function n(){r&&(r.style.display="none",r.textContent!=="Loading"&&(i.click(),r.style.display="",t==null||t.disconnect()))}e.forEach(s=>{n()})});t.observe(document.body,{childList:!0,subtree:!0})}function TE(t){let e=!1,r;Qe(()=>{r=new MutationObserver(i=>{function n(){if(e)return;document.querySelector(".aplayer.aplayer-fixed.aplayer-narrow .aplayer-body")&&(e=!0,setTimeout(()=>{bE(t),requestAnimationFrame(()=>{xE(t),r==null||r.disconnect(),r=null})},0))}i.forEach(s=>{n()})}),r.observe(document.body,{childList:!0,subtree:!0})}),dn(()=>{r==null||r.disconnect(),r=null})}function Tv(){const t=X0();return j(()=>t.value.addons["valaxy-addon-meting"])}function SE(){const t=nt(),e=Tv(),r=j(()=>t.value.cdn.prefix);El({link:[{rel:"stylesheet",href:`${r.value}aplayer/dist/APlayer.min.css`}]}),Hc(`${r.value}aplayer/dist/APlayer.min.js`,()=>{Hc(`${r.value}meting@2/dist/Meting.min.js`)}),_E(e.value),TE(e.value)}function AE(){const t=$r(),e=Tv(),r=$i(),i=z(!0);return _e(()=>t.path,()=>{var n,s;i.value=((n=r.value)==null?void 0:n.aplayer)??((s=e.value)==null?void 0:s.global)??!0},{immediate:!0}),i}const EE=H({__name:"App",props:{id:{default:"308168565"},server:{default:"netease"},type:{default:"playlist"}},setup(t){const e=t;SE();const r=AE();return(i,n)=>($(),N(Le,null,[Q(" eslint-disable-next-line vue/component-name-in-template-casing "),yo(O("meting-js",an(e,{fixed:!0}),null,16),[[ld,R(r)]])],2112))}});class CE{constructor(e){qe(this,"live2dTips");qe(this,"messageArray",[]);qe(this,"messageTimer",null);this.live2dTips=e}init(){this.setupEvents(),this.setupSeasonalTips(this.live2dTips.seasons),this.welcomeMessage(),this.activityBasedMessages(),this.setupAdditionalEvents(),this.showMessage(this.generateReferrerMessage(),7e3,10)}setupEvents(){this.setupEventHandlers(this.live2dTips.mouseover,"mouseover"),this.setupEventHandlers(this.live2dTips.click,"click")}setupEventHandlers(e,r){e.forEach(i=>{window.addEventListener(r,n=>{const s=n.target;if(s.matches(i.selector)){const o=this.randomSelection(i.text).replace("{text}",s.textContent||"");this.showMessage(o,4e3,8)}})})}setupSeasonalTips(e){const r=new Date;e.forEach(i=>{const[n,s]=i.date.split("-"),[o,a]=n.split("/").map(Number),[l,u]=s?s.split("/").map(Number):[o,a],c=r.getMonth()+1,h=r.getDate();if(o<=c&&c<=l&&a<=h&&h<=u){let d=this.randomSelection(i.text);d=d.replace("{year}",String(r.getFullYear())),this.showMessage(d,7e3,100),this.messageArray.push(d)}})}randomSelection(e){return Array.isArray(e)?e[Math.floor(Math.random()*e.length)]:e}welcomeMessage(){const e=new Date().getHours();let r;const i=this.live2dTips.time;for(let n=0;n<i.length;n++){const s=i[n].hour.split("-"),o=Number.parseInt(s[0]),a=Number.parseInt(s[1]);if(e>=o&&e<=a){const l=i[n].text;Array.isArray(l)?r=this.randomSelection(l):r=l;break}}setTimeout(()=>{this.showMessage(r,7e3,8)},3e3)}generateReferrerMessage(){var e,r;if(document.referrer!==""){const i=new URL(document.referrer),n=i.hostname.split(".")[1];if(location.hostname===i.hostname)return`<span>${document.title.split(" - ")[0]}</span>`;{const s=i.search.split("&");return n==="baidu"?`Hello  <br> <span>${(e=s.find(o=>o.startsWith("wd=")))==null?void 0:e.split("=")[1]}</span> `:n==="so"?`Hello 360 <br> <span>${(r=s.find(o=>o.startsWith("q=")))==null?void 0:r.split("=")[1]}</span> `:n==="google"?`Hello  <br><span>${document.title.split(" - ")[0]}</span>`:`Hello <span>${i.hostname}</span> `}}else return`<span>${document.title.split(" - ")[0]}</span>`}activityBasedMessages(){let e=!1,r=null;const i=this.live2dTips.message.default;window.addEventListener("mousemove",()=>e=!0),window.addEventListener("keydown",()=>e=!0),setInterval(()=>{e?(e=!1,r!==null&&(clearInterval(r),r=null)):r||(r=setInterval(()=>{this.showMessage(this.randomSelection(i),6e3,9)},2e4))},1e3)}setupAdditionalEvents(){window.addEventListener("copy",()=>{this.showMessage(this.live2dTips.message.copy,6e3,9)}),window.addEventListener("visibilitychange",()=>{document.hidden||this.showMessage(this.live2dTips.message.visibilitychange,6e3,9)})}showHitokoto(){fetch("https://v1.hitokoto.cn").then(e=>e.json()).then(e=>{const r=` <span>${e.creator}</span>`;this.showMessage(e.hitokoto,6e3,9),setTimeout(()=>{this.showMessage(r,4e3,9)},6e3)})}showMessage(e,r=3e3,i){const n=document.getElementById("live2d-tips");if(!e){n.classList.remove("live2d-tips-active");return}const s=sessionStorage.getItem("live2d-text");Number(s)<=i&&(this.messageTimer&&(clearTimeout(this.messageTimer),this.messageTimer=null),sessionStorage.setItem("live2d-text",i.toString()),n.innerHTML=typeof e=="string"?e:this.randomSelection(e),n.classList.add("live2d-tips-active"),this.messageTimer=window.setTimeout(()=>{sessionStorage.removeItem("live2d-text"),n.classList.remove("live2d-tips-active")},r))}}function tp(t,e,r){let i="";{const n=new Date;n.setTime(n.getTime()+24*r*60*60*1e3),i=`; expires=${n.toUTCString()}`}document.cookie=`${encodeURIComponent(t)}=${encodeURIComponent(e)}${i}; path=/`}function rp(t){const e=`${encodeURIComponent(t)}=`,r=document.cookie.split(";");for(let i of r)if(i=i.trim(),i.startsWith(e))return decodeURIComponent(i.substring(e.length));return null}async function PE(t){try{const e=await fetch(t);if(!e.ok)throw new Error(`: ${e.status}`);return await e.json()}catch(e){return console.error(`: ${e}`),null}}function Sv(t){const e=/https:\/\/cdn\.jsdelivr\.net\/gh\/([\w-]+)\/([\w-]+)\/([\w\-/]+)\/index\.json/,r=t.match(e);if(r){const i=r[1],n=r[2],s=r[3];return`https://api.github.com/repos/${i}/${n}/contents/${s}/textures`}else throw new Error("URL")}async function Av(t){const e=`live2d-cache-${t}`,r=`live2d-cacheTime-${t}`,i=24*60*60*1e3,n=localStorage.getItem(e),s=localStorage.getItem(r);if(n&&s&&Date.now()-Number.parseInt(s)<i)return JSON.parse(n);try{const o=await fetch(t);if(!o.ok)throw new Error(`Network request failed, status code: ${o.status}`);const a=await o.json();if(!Array.isArray(a))throw new TypeError("");const l=a.map(u=>u.name);return localStorage.setItem(e,JSON.stringify(l)),localStorage.setItem(r,Date.now().toString()),l}catch(o){throw console.error(":",o),o}}const Ev="modelKey",Cv="skinKey";async function zo(t){const e=localStorage.getItem(Ev),r=localStorage.getItem(Cv),i=e||Object.keys(t)[0];let n=Number.parseInt(r||"0",10),s=t[i];if(!s){const a=Object.keys(t)[0];s=t[a],Fn(Object.keys(t)[0],0),console.warn(`Key"${i}"`)}n>=s.models.length&&(n=0,console.warn(" models "));const o=typeof s.models=="string"?await Sa(s.models,n):s.models[n];return{currentCharacterKey:i,currentSkinIndex:n,availableModels:s,selectedModel:o}}function Fn(t,e){t!==null&&localStorage.setItem(Ev,t.toString()),e!==null&&localStorage.setItem(Cv,e.toString())}async function Sa(t,e){const r=Sv(t);try{const i=await Av(r),n=await PE(t);return n.url=t,n.textures[0]=`textures/${i[e]}`,Fn(null,e),n}catch(i){console.error(i)}}const kE={XiaoYun:{message:" ~",models:["https://cdn.jsdelivr.net/npm/@yunyoujun/live2d@latest/.model3.json"]},Tia:{message:" Potion Maker  Tia  ~",models:"https://cdn.jsdelivr.net/gh/fghrsh/live2d_api/model/Potion-Maker/Tia/index.json",textures:"https://api.github.com/repos/fghrsh/live2d_api/contents/model/Potion-Maker/Tia/textures"},Pio:{message:" Potion Maker  Pio  ~",models:"https://cdn.jsdelivr.net/gh/fghrsh/live2d_api/model/Potion-Maker/Pio/index.json",textures:"https://api.github.com/repos/fghrsh/live2d_api/contents/model/Potion-Maker/Pio/textures"},ShizukuTalk:{models:["https://registry.npmmirror.com/weblive2d/latest/files/model/ShizukuTalk/shizuku-48/index.json","https://registry.npmmirror.com/weblive2d/latest/files/model/ShizukuTalk/shizuku-pajama/index.json"]},BiliBili22:{models:["https://registry.npmmirror.com/weblive2d/latest/files/model/bilibili-live/22/index.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.cba-normal.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.newyear.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.school.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.summer.normal.1.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.summer.normal.2.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.tomo-bukatsu.high.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.tomo-bukatsu.low.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.valley.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.vdays.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2018.lover.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2018.spring.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.default.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.xmas.1.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.xmas.2.model.json"]},BiliBili33:{models:["https://registry.npmmirror.com/weblive2d/latest/files/model/bilibili-live/33/index.json","https://summerscar.me/live2dDemo/assets/33.default/model.2016.xmas.1.json","https://summerscar.me/live2dDemo/assets/33.default/model.2016.xmas.2.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.cba-normal.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.newyear.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.school.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.summer.normal.1.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.summer.normal.2.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.tomo-bukatsu.high.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.tomo-bukatsu.low.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.valley.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.vdays.json","https://summerscar.me/live2dDemo/assets/33.default/model.2018.lover.json","https://summerscar.me/live2dDemo/assets/33.defaultmodel.2018.spring.json"]}},ME={mouseover:[{selector:"#live2d-canvas",text:["","","","","()","","","","","","Hentai"]},{selector:"#live2d-tool-hitokoto",text:["",""]},{selector:"#live2d-tool-asteroids",text:["","","",""]},{selector:"#live2d-tool-switch-model",text:["","","",""]},{selector:"#live2d-tool-switch-texture",text:[" PLAY ","","",""]},{selector:"#live2d-tool-photo",text:["","",""]},{selector:"#live2d-tool-info",text:["","",""]},{selector:"#live2d-tool-quit",text:[""," QAQ ","","",""]},{selector:".menu-item-home a",text:["","",""]},{selector:".menu-item-about a",text:["","",""]},{selector:".menu-item-tags a",text:["",""]},{selector:".menu-item-categories a",text:["",""]},{selector:".menu-item-archives a",text:["",""]},{selector:".menu-item-friends a",text:["()","",""]},{selector:".menu-item-search a",text:["",""]},{selector:".menu-item a",text:[""]},{selector:".site-author",text:["","(**)"]},{selector:".site-state",text:["",""]},{selector:".feed-link a",text:[" RSS "," feed "]},{selector:".cc-opacity, .post-copyright-author",text:[""," CC BY-NC-SA 4.0 ",""]},{selector:".links-of-author",text:["",""]},{selector:".followme",text:["",""]},{selector:".fancybox img, img.medium-zoom-image",text:[""]},{selector:".copy-btn",text:[""]},{selector:".highlight .table-container, .gist",text:["GitHub","PHP "]},{selector:"a[href^='mailto']",text:["",""]},{selector:"a[href^='/tags/']",text:[" <span>{text}</span> ",""]},{selector:"a[href^='/categories/']",text:[" <span>{text}</span> ",""]},{selector:".post-title-link",text:[" <span>{text}</span> "]},{selector:"a[rel='contents']",text:[""]},{selector:"a[itemprop='discussionUrl']",text:[""]},{selector:".beian a",text:["",""]},{selector:".container a[href^='http'], .nav-link .nav-text",text:[" <span>{text}</span> "," <span>{text}</span> "," <span>{text}</span> "]},{selector:".back-to-top",text:["","",""]},{selector:".reward-container",text:["","",""]},{selector:"#wechat",text:[""]},{selector:"#alipay",text:[""]},{selector:"#bitcoin",text:[""]},{selector:"#needsharebutton-postbottom .btn",text:["",""]},{selector:".need-share-button_weibo",text:[""]},{selector:".need-share-button_wechat",text:[""]},{selector:".need-share-button_douban",text:[""]},{selector:".need-share-button_qqzone",text:["QQ "]},{selector:".need-share-button_twitter",text:["Twitter"]},{selector:".need-share-button_facebook",text:["emmmFB "]},{selector:".post-nav-item a[rel='next']",text:["","",""]},{selector:".post-nav-item a[rel='prev']",text:["","",""]},{selector:".extend.next",text:["","",""]},{selector:".extend.prev",text:["","",""]},{selector:"input.vnick",text:["",""]},{selector:".vmail",text:[""," Gravatar ",""]},{selector:".vlink",text:[""]},{selector:".veditor",text:["","",""]},{selector:".vcontrol a",text:[" Markdown "," Markdown "]},{selector:".vemoji-btn",text:["",""]},{selector:".vpreview-btn",text:["",""]},{selector:".vsubmit",text:["",""]},{selector:".vcontent",text:["",""]}],click:[{selector:"#live2d",text:["","","","","110 ()","","",""]},{selector:".veditor",text:["","",""]},{selector:".vsubmit",text:[""]}],seasons:[{date:"01/01",text:"<span></span>{year}"},{date:"02/14",text:"<span></span>{year}"},{date:"03/08",text:"<span></span>"},{date:"03/12",text:"<span></span>"},{date:"04/01",text:"<span></span>"},{date:"05/01",text:"<span></span>"},{date:"06/01",text:"<span></span>"},{date:"09/03",text:"<span></span>"},{date:"09/10",text:"<span></span>"},{date:"10/01",text:"<span></span>"},{date:"11/05-11/12",text:"<span></span>"},{date:"12/20-12/31",text:"<span></span>"}],time:[{hour:"6-7",text:""},{hour:"8-11",text:""},{hour:"12-13",text:""},{hour:"14-17",text:""},{hour:"18-19",text:""},{hour:"20-21",text:""},{hour:"22-23",text:["",""]},{hour:"0-5",text:""}],message:{default:["","","","",""],console:"",copy:"",visibilitychange:"",clothes:[""]},tool:{camera:[""],display:[""]}};function $E(t,e){const r={...t};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]?Array.isArray(r[i])&&Array.isArray(e[i])?r[i]=[...r[i],...e[i]]:r[i]=[r[i],e[i]]:r[i]=e[i]);return r}function RE(t,e){return Array.isArray(t)?t.reduce((r,i)=>(i in e&&(r[i]=e[i]),r),{}):{}}function IE(){const t=X0();return j(()=>{const{options:e}=t.value.addons["valaxy-addon-live2d"],r=(e==null?void 0:e.enableLive2D)??"all",i={...kE,...e==null?void 0:e.live2DCollection},n=r==="all"?i:RE(r,i),s=$E(ME,(e==null?void 0:e.live2dTips)||{});return{widthLimit:250,safetyMargin:50,randomCharacter:!1,randomSkin:!1,skipHello:!1,hideOnScreenSizes:600,debugger:!1,...e,live2DCollection:n,enableLive2D:r,live2dTips:s}})}function OE(){const t=IE(),{randomCharacter:e,randomSkin:r,live2DCollection:i,live2dTips:n,hideOnScreenSizes:s}=t.value,o=z(),a=z(!1);let l=z(!1);const u=new CE(n);async function c(){await Fe(()=>import("./index.6Ti_Yt4O.js"),__vite__mapDeps([52,3,2,5,6,7,8,9])),o.value=(await Fe(async()=>{const{Live2DApp:S}=await import("./Live2DApp.DRBNJdEk.js");return{Live2DApp:S}},__vite__mapDeps([53,3,2,5,6,7,8,9]))).Live2DApp,rp("live2d")==="Show"&&setTimeout(()=>{w()},0),rp("live2d")==="Hide"&&setTimeout(()=>{y()},0),u.init(),o.value.init(t.value,u),o.value.loadModel((await zo(i)).selectedModel)}async function h(S=e){var x;(x=o.value)==null||x.switchModel(S?await f():await p())}async function d(S=r){var x;(x=o.value)==null||x.switchModel(S?await m():await g()),u.showMessage("",4e3,10)}function f(){const S=Object.keys(i),x=S[Math.floor(Math.random()*S.length)];return Fn(x,0),u.showMessage(i[x].message,4e3,10),i[x].models[0]}async function p(){const{currentCharacterKey:S}=await zo(i),x=Object.keys(i),T=x[(x.indexOf(S)+1)%x.length],A=i[T].models;return Fn(T,0),u.showMessage(i[T].message,4e3,10),typeof A=="string"?await Sa(A,0):A[0]}async function m(){const{currentCharacterKey:S}=await zo(i),x=i[S],T=Math.floor(Math.random()*x.models.length);return Fn(null,T),x.models.length===0&&u.showMessage(n.message.clothes,4e3,10),typeof x.models=="string"?await Sa(x.models,T):x.models[T]}async function g(){const{currentCharacterKey:S,currentSkinIndex:x}=await zo(i),T=i[S],A=P=>(x+1)%P;if(typeof T.models=="string"){const P=await Av(Sv(T.models)),E=A(P.length);return Sa(T.models,E)}else{if(T.models.length===0)return u.showMessage(n.message.clothes,4e3,10),T.models[0];const P=A(T.models.length);return Fn(null,P),T.models[P]}}function v(){var S;(S=o.value)==null||S.captureFrame()}function _(){const S=document.getElementById("live2d");a.value=S.style.bottom==="0px"||S.style.bottom==="",a.value?y():w()}function y(){a.value=!0;const S=document.getElementById("live2d");localStorage.setItem("live2d-display",Date.now().toString()),u.showMessage(n.tool.display,2e3,11),S.style.bottom="-100%",setTimeout(()=>{tp("live2d","Hide",7)},0)}function w(){a.value=!1;const S=document.getElementById("live2d");S.style.bottom="0px",setTimeout(()=>{localStorage.removeItem("live2d-display"),S.style.display="",tp("live2d","Show",7)},0)}if(Ai&&c(),s!==!1){const S=typeof s=="string"?s:`${s}px`;l=RS(`(max-width: ${S})`)}return _e(l,S=>{S?y():w()}),{live2DApp:o,switchCharacter:h,switchSkin:d,getRandomCharacter:f,getSequentialCharacter:p,getRandomSkin:m,getSequentialSkin:g,captureFrame:v,toggleLive2DVisibility:_,isLive2DHide:a,live2dTipsHandler:u,isHidden:l}}function LE(t=200){const e=document.querySelectorAll(".live2d-tool:not(.hide-live2d)");let r=null;function i(n){r||(r=n);const s=n-r,o=Math.min(s/t,1);e.forEach(a=>{a.style.padding=`${5*o}px 0`,a.style.maxHeight=`${60*o}px`}),o<1?requestAnimationFrame(i):e.forEach(a=>{a.style.transform=""})}requestAnimationFrame(i)}function DE(t=200){const e=document.querySelectorAll(".live2d-tool:not(.hide-live2d)");let r=null;function i(n){r===null&&(r=n);const s=n-r,o=Math.min(s/t,1);e.forEach(a=>{o<1?(a.style.padding="5px 0",a.style.maxHeight="60px",a.style.transform=`translateX(${-40*o}px)`):(a.style.padding="0",a.style.maxHeight="0")}),o<1||s<t*2?requestAnimationFrame(i):r=null}requestAnimationFrame(i)}var mn=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(mn||{}),Pv=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(Pv||{}),Gc=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Gc||{}),re=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(re||{}),yr=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(yr||{}),F=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(F||{}),Gn=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Gn||{}),ee=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ee||{}),W=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(W||{}),Nr=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Nr||{}),_i=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(_i||{}),Cr=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Cr||{}),mt=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(mt||{}),pr=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(pr||{}),Nd=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Nd||{}),It=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(It||{}),We=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(We||{}),je=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(je||{}),xr=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(xr||{});const BE={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},X={ADAPTER:BE,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var mu=/iPhone/i,ip=/iPod/i,np=/iPad/i,sp=/\biOS-universal(?:.+)Mac\b/i,gu=/\bAndroid(?:.+)Mobile\b/i,op=/Android/i,Tn=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,jo=/Silk/i,Ir=/Windows Phone/i,ap=/\bWindows(?:.+)ARM\b/i,lp=/BlackBerry/i,up=/BB10/i,cp=/Opera Mini/i,hp=/\b(CriOS|Chrome)(?:.+)Mobile/i,dp=/Mobile(?:.+)Firefox\b/i,fp=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function FE(t){return function(e){return e.test(t)}}function pp(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,i=r.split("[FBAN");typeof i[1]<"u"&&(r=i[0]),i=r.split("Twitter"),typeof i[1]<"u"&&(r=i[0]);var n=FE(r),s={apple:{phone:n(mu)&&!n(Ir),ipod:n(ip),tablet:!n(mu)&&(n(np)||fp(e))&&!n(Ir),universal:n(sp),device:(n(mu)||n(ip)||n(np)||n(sp)||fp(e))&&!n(Ir)},amazon:{phone:n(Tn),tablet:!n(Tn)&&n(jo),device:n(Tn)||n(jo)},android:{phone:!n(Ir)&&n(Tn)||!n(Ir)&&n(gu),tablet:!n(Ir)&&!n(Tn)&&!n(gu)&&(n(jo)||n(op)),device:!n(Ir)&&(n(Tn)||n(jo)||n(gu)||n(op))||n(/\bokhttp\b/i)},windows:{phone:n(Ir),tablet:n(ap),device:n(Ir)||n(ap)},other:{blackberry:n(lp),blackberry10:n(up),opera:n(cp),firefox:n(dp),chrome:n(hp),device:n(lp)||n(up)||n(cp)||n(dp)||n(hp)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const NE=pp.default??pp,Ur=NE(globalThis.navigator);X.RETINA_PREFIX=/@([0-9\.]+)x/;X.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var kv={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function n(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,h,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new n(c,h||l,d),p=r?r+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new i:delete l._events[u]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=r?r+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,f=h.length,p=new Array(f);d<f;d++)p[d]=h[d].fn;return p},a.prototype.listenerCount=function(u){var c=r?r+u:u,h=this._events[c];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,c,h,d,f,p){var m=r?r+u:u;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,_,y;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,h),!0;case 4:return g.fn.call(g.context,c,h,d),!0;case 5:return g.fn.call(g.context,c,h,d,f),!0;case 6:return g.fn.call(g.context,c,h,d,f,p),!0}for(y=1,_=new Array(v-1);y<v;y++)_[y-1]=arguments[y];g.fn.apply(g.context,_)}else{var w=g.length,S;for(y=0;y<w;y++)switch(g[y].once&&this.removeListener(u,g[y].fn,void 0,!0),v){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,c);break;case 3:g[y].fn.call(g[y].context,c,h);break;case 4:g[y].fn.call(g[y].context,c,h,d);break;default:if(!_)for(S=1,_=new Array(v-1);S<v;S++)_[S-1]=arguments[S];g[y].fn.apply(g[y].context,_)}}return!0},a.prototype.on=function(u,c,h){return s(this,u,c,h,!1)},a.prototype.once=function(u,c,h){return s(this,u,c,h,!0)},a.prototype.removeListener=function(u,c,h,d){var f=r?r+u:u;if(!this._events[f])return this;if(!c)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===c&&(!d||p.once)&&(!h||p.context===h)&&o(this,f);else{for(var m=0,g=[],v=p.length;m<v;m++)(p[m].fn!==c||d&&!p[m].once||h&&p[m].context!==h)&&g.push(p[m]);g.length?this._events[f]=g.length===1?g[0]:g:o(this,f)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(kv);var UE=kv.exports;const Co=_l(UE);var Ud={exports:{}};Ud.exports=Rl;Ud.exports.default=Rl;function Rl(t,e,r){r=r||2;var i=e&&e.length,n=i?e[0]*r:t.length,s=Mv(t,0,n,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,u,c,h,d,f;if(i&&(s=VE(t,e,s,r)),t.length>80*r){a=u=t[0],l=c=t[1];for(var p=r;p<n;p+=r)h=t[p],d=t[p+1],h<a&&(a=h),d<l&&(l=d),h>u&&(u=h),d>c&&(c=d);f=Math.max(u-a,c-l),f=f!==0?32767/f:0}return to(s,o,r,a,l,f,0),o}function Mv(t,e,r,i,n){var s,o;if(n===Xc(t,e,r,i)>0)for(s=e;s<r;s+=i)o=mp(s,t[s],t[s+1],o);else for(s=r-i;s>=e;s-=i)o=mp(s,t[s],t[s+1],o);return o&&Il(o,o.next)&&(io(o),o=o.next),o}function ln(t,e){if(!t)return t;e||(e=t);var r=t,i;do if(i=!1,!r.steiner&&(Il(r,r.next)||Oe(r.prev,r,r.next)===0)){if(io(r),r=e=r.prev,r===r.next)break;i=!0}else r=r.next;while(i||r!==e);return e}function to(t,e,r,i,n,s,o){if(t){!o&&s&&KE(t,i,n,s);for(var a=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,s?zE(t,i,n,s):HE(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(u.i/r|0),io(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=jE(ln(t),e,r),to(t,e,r,i,n,s,2)):o===2&&GE(t,e,r,i,n,s):to(ln(t),e,r,i,n,s,1);break}}}}function HE(t){var e=t.prev,r=t,i=t.next;if(Oe(e,r,i)>=0)return!1;for(var n=e.x,s=r.x,o=i.x,a=e.y,l=r.y,u=i.y,c=n<s?n<o?n:o:s<o?s:o,h=a<l?a<u?a:u:l<u?l:u,d=n>s?n>o?n:o:s>o?s:o,f=a>l?a>u?a:u:l>u?l:u,p=i.next;p!==e;){if(p.x>=c&&p.x<=d&&p.y>=h&&p.y<=f&&Nn(n,a,s,l,o,u,p.x,p.y)&&Oe(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function zE(t,e,r,i){var n=t.prev,s=t,o=t.next;if(Oe(n,s,o)>=0)return!1;for(var a=n.x,l=s.x,u=o.x,c=n.y,h=s.y,d=o.y,f=a<l?a<u?a:u:l<u?l:u,p=c<h?c<d?c:d:h<d?h:d,m=a>l?a>u?a:u:l>u?l:u,g=c>h?c>d?c:d:h>d?h:d,v=Vc(f,p,e,r,i),_=Vc(m,g,e,r,i),y=t.prevZ,w=t.nextZ;y&&y.z>=v&&w&&w.z<=_;){if(y.x>=f&&y.x<=m&&y.y>=p&&y.y<=g&&y!==n&&y!==o&&Nn(a,c,l,h,u,d,y.x,y.y)&&Oe(y.prev,y,y.next)>=0||(y=y.prevZ,w.x>=f&&w.x<=m&&w.y>=p&&w.y<=g&&w!==n&&w!==o&&Nn(a,c,l,h,u,d,w.x,w.y)&&Oe(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;y&&y.z>=v;){if(y.x>=f&&y.x<=m&&y.y>=p&&y.y<=g&&y!==n&&y!==o&&Nn(a,c,l,h,u,d,y.x,y.y)&&Oe(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;w&&w.z<=_;){if(w.x>=f&&w.x<=m&&w.y>=p&&w.y<=g&&w!==n&&w!==o&&Nn(a,c,l,h,u,d,w.x,w.y)&&Oe(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function jE(t,e,r){var i=t;do{var n=i.prev,s=i.next.next;!Il(n,s)&&$v(n,i,i.next,s)&&ro(n,s)&&ro(s,n)&&(e.push(n.i/r|0),e.push(i.i/r|0),e.push(s.i/r|0),io(i),io(i.next),i=t=s),i=i.next}while(i!==t);return ln(i)}function GE(t,e,r,i,n,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&QE(o,a)){var l=Rv(o,a);o=ln(o,o.next),l=ln(l,l.next),to(o,e,r,i,n,s,0),to(l,e,r,i,n,s,0);return}a=a.next}o=o.next}while(o!==t)}function VE(t,e,r,i){var n=[],s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:t.length,u=Mv(t,a,l,i,!1),u===u.next&&(u.steiner=!0),n.push(JE(u));for(n.sort(WE),s=0;s<n.length;s++)r=XE(n[s],r);return r}function WE(t,e){return t.x-e.x}function XE(t,e){var r=YE(t,e);if(!r)return e;var i=Rv(r,t);return ln(i,i.next),ln(r,r.next)}function YE(t,e){var r=e,i=t.x,n=t.y,s=-1/0,o;do{if(n<=r.y&&n>=r.next.y&&r.next.y!==r.y){var a=r.x+(n-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===i))return o}r=r.next}while(r!==e);if(!o)return null;var l=o,u=o.x,c=o.y,h=1/0,d;r=o;do i>=r.x&&r.x>=u&&i!==r.x&&Nn(n<c?i:s,n,u,c,n<c?s:i,n,r.x,r.y)&&(d=Math.abs(n-r.y)/(i-r.x),ro(r,t)&&(d<h||d===h&&(r.x>o.x||r.x===o.x&&qE(o,r)))&&(o=r,h=d)),r=r.next;while(r!==l);return o}function qE(t,e){return Oe(t.prev,t,e.prev)<0&&Oe(e.next,t,t.next)<0}function KE(t,e,r,i){var n=t;do n.z===0&&(n.z=Vc(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,ZE(n)}function ZE(t){var e,r,i,n,s,o,a,l,u=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,i=r,a=0,e=0;e<u&&(a++,i=i.nextZ,!!i);e++);for(l=u;a>0||l>0&&i;)a!==0&&(l===0||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,l--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;r=i}s.nextZ=null,u*=2}while(o>1);return t}function Vc(t,e,r,i,n){return t=(t-r)*n|0,e=(e-i)*n|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function JE(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Nn(t,e,r,i,n,s,o,a){return(n-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(i-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(n-o)*(i-a)}function QE(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!eC(t,e)&&(ro(t,e)&&ro(e,t)&&tC(t,e)&&(Oe(t.prev,t,e.prev)||Oe(t,e.prev,e))||Il(t,e)&&Oe(t.prev,t,t.next)>0&&Oe(e.prev,e,e.next)>0)}function Oe(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Il(t,e){return t.x===e.x&&t.y===e.y}function $v(t,e,r,i){var n=Vo(Oe(t,e,r)),s=Vo(Oe(t,e,i)),o=Vo(Oe(r,i,t)),a=Vo(Oe(r,i,e));return!!(n!==s&&o!==a||n===0&&Go(t,r,e)||s===0&&Go(t,i,e)||o===0&&Go(r,t,i)||a===0&&Go(r,e,i))}function Go(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Vo(t){return t>0?1:t<0?-1:0}function eC(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&$v(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function ro(t,e){return Oe(t.prev,t,t.next)<0?Oe(t,e,t.next)>=0&&Oe(t,t.prev,e)>=0:Oe(t,e,t.prev)<0||Oe(t,t.next,e)<0}function tC(t,e){var r=t,i=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&n<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next;while(r!==t);return i}function Rv(t,e){var r=new Wc(t.i,t.x,t.y),i=new Wc(e.i,e.x,e.y),n=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,s.next=i,i.prev=s,i}function mp(t,e,r,i){var n=new Wc(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function io(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Wc(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Rl.deviation=function(t,e,r,i){var n=e&&e.length,s=n?e[0]*r:t.length,o=Math.abs(Xc(t,0,s,r));if(n)for(var a=0,l=e.length;a<l;a++){var u=e[a]*r,c=a<l-1?e[a+1]*r:t.length;o-=Math.abs(Xc(t,u,c,r))}var h=0;for(a=0;a<i.length;a+=3){var d=i[a]*r,f=i[a+1]*r,p=i[a+2]*r;h+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return o===0&&h===0?0:Math.abs((h-o)/o)};function Xc(t,e,r,i){for(var n=0,s=e,o=r-i;s<r;s+=i)n+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return n}Rl.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[n][s][o]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r};var rC=Ud.exports;const iC=_l(rC);var Ga={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Ga.exports;(function(t,e){(function(r){var i=e&&!e.nodeType&&e,n=t&&!t.nodeType&&t,s=typeof Bs=="object"&&Bs;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,l=36,u=1,c=26,h=38,d=700,f=72,p=128,m="-",g=/^xn--/,v=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=l-u,S=Math.floor,x=String.fromCharCode,T;function A(L){throw new RangeError(y[L])}function P(L,B){for(var oe=L.length,he=[];oe--;)he[oe]=B(L[oe]);return he}function E(L,B){var oe=L.split("@"),he="";oe.length>1&&(he=oe[0]+"@",L=oe[1]),L=L.replace(_,".");var de=L.split("."),Ee=P(de,B).join(".");return he+Ee}function I(L){for(var B=[],oe=0,he=L.length,de,Ee;oe<he;)de=L.charCodeAt(oe++),de>=55296&&de<=56319&&oe<he?(Ee=L.charCodeAt(oe++),(Ee&64512)==56320?B.push(((de&1023)<<10)+(Ee&1023)+65536):(B.push(de),oe--)):B.push(de);return B}function k(L){return P(L,function(B){var oe="";return B>65535&&(B-=65536,oe+=x(B>>>10&1023|55296),B=56320|B&1023),oe+=x(B),oe}).join("")}function C(L){return L-48<10?L-22:L-65<26?L-65:L-97<26?L-97:l}function M(L,B){return L+22+75*(L<26)-((B!=0)<<5)}function D(L,B,oe){var he=0;for(L=oe?S(L/d):L>>1,L+=S(L/B);L>w*c>>1;he+=l)L=S(L/w);return S(he+(w+1)*L/(L+h))}function Y(L){var B=[],oe=L.length,he,de=0,Ee=p,Ce=f,ze,Ye,ut,Ge,Se,Be,Ne,kt,Mt;for(ze=L.lastIndexOf(m),ze<0&&(ze=0),Ye=0;Ye<ze;++Ye)L.charCodeAt(Ye)>=128&&A("not-basic"),B.push(L.charCodeAt(Ye));for(ut=ze>0?ze+1:0;ut<oe;){for(Ge=de,Se=1,Be=l;ut>=oe&&A("invalid-input"),Ne=C(L.charCodeAt(ut++)),(Ne>=l||Ne>S((a-de)/Se))&&A("overflow"),de+=Ne*Se,kt=Be<=Ce?u:Be>=Ce+c?c:Be-Ce,!(Ne<kt);Be+=l)Mt=l-kt,Se>S(a/Mt)&&A("overflow"),Se*=Mt;he=B.length+1,Ce=D(de-Ge,he,Ge==0),S(de/he)>a-Ee&&A("overflow"),Ee+=S(de/he),de%=he,B.splice(de++,0,Ee)}return k(B)}function U(L){var B,oe,he,de,Ee,Ce,ze,Ye,ut,Ge,Se,Be=[],Ne,kt,Mt,Di;for(L=I(L),Ne=L.length,B=p,oe=0,Ee=f,Ce=0;Ce<Ne;++Ce)Se=L[Ce],Se<128&&Be.push(x(Se));for(he=de=Be.length,de&&Be.push(m);he<Ne;){for(ze=a,Ce=0;Ce<Ne;++Ce)Se=L[Ce],Se>=B&&Se<ze&&(ze=Se);for(kt=he+1,ze-B>S((a-oe)/kt)&&A("overflow"),oe+=(ze-B)*kt,B=ze,Ce=0;Ce<Ne;++Ce)if(Se=L[Ce],Se<B&&++oe>a&&A("overflow"),Se==B){for(Ye=oe,ut=l;Ge=ut<=Ee?u:ut>=Ee+c?c:ut-Ee,!(Ye<Ge);ut+=l)Di=Ye-Ge,Mt=l-Ge,Be.push(x(M(Ge+Di%Mt,0))),Ye=S(Di/Mt);Be.push(x(M(Ye,0))),Ee=D(oe,kt,he==de),oe=0,++he}++oe,++B}return Be.join("")}function V(L){return E(L,function(B){return g.test(B)?Y(B.slice(4).toLowerCase()):B})}function se(L){return E(L,function(B){return v.test(B)?"xn--"+U(B):B})}if(o={version:"1.4.1",ucs2:{decode:I,encode:k},decode:Y,encode:U,toASCII:se,toUnicode:V},i&&n)if(t.exports==i)n.exports=o;else for(T in o)o.hasOwnProperty(T)&&(i[T]=o[T]);else r.punycode=o})(Bs)})(Ga,Ga.exports);var nC=Ga.exports,ds=TypeError;const sC={},oC=Object.freeze(Object.defineProperty({__proto__:null,default:sC},Symbol.toStringTag,{value:"Module"})),aC=Fx(oC);var Hd=typeof Map=="function"&&Map.prototype,yu=Object.getOwnPropertyDescriptor&&Hd?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Va=Hd&&yu&&typeof yu.get=="function"?yu.get:null,gp=Hd&&Map.prototype.forEach,zd=typeof Set=="function"&&Set.prototype,vu=Object.getOwnPropertyDescriptor&&zd?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Wa=zd&&vu&&typeof vu.get=="function"?vu.get:null,yp=zd&&Set.prototype.forEach,lC=typeof WeakMap=="function"&&WeakMap.prototype,Ns=lC?WeakMap.prototype.has:null,uC=typeof WeakSet=="function"&&WeakSet.prototype,Us=uC?WeakSet.prototype.has:null,cC=typeof WeakRef=="function"&&WeakRef.prototype,vp=cC?WeakRef.prototype.deref:null,hC=Boolean.prototype.valueOf,dC=Object.prototype.toString,fC=Function.prototype.toString,pC=String.prototype.match,jd=String.prototype.slice,fi=String.prototype.replace,mC=String.prototype.toUpperCase,_p=String.prototype.toLowerCase,Iv=RegExp.prototype.test,bp=Array.prototype.concat,mr=Array.prototype.join,gC=Array.prototype.slice,xp=Math.floor,Yc=typeof BigInt=="function"?BigInt.prototype.valueOf:null,_u=Object.getOwnPropertySymbols,qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,es=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Hs=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===es||!0)?Symbol.toStringTag:null,Ov=Object.prototype.propertyIsEnumerable,wp=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Tp(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Iv.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var i=t<0?-xp(-t):xp(t);if(i!==t){var n=String(i),s=jd.call(e,n.length+1);return fi.call(n,r,"$&_")+"."+fi.call(fi.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return fi.call(e,r,"$&_")}var Kc=aC,Sp=Kc.custom,Ap=Bv(Sp)?Sp:null,Lv={__proto__:null,double:'"',single:"'"},yC={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},Ol=function t(e,r,i,n){var s=r||{};if(Dr(s,"quoteStyle")&&!Dr(Lv,s.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Dr(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Dr(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Dr(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Dr(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Nv(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?Tp(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return a?Tp(e,u):u}var c=typeof s.depth>"u"?5:s.depth;if(typeof i>"u"&&(i=0),i>=c&&c>0&&typeof e=="object")return Zc(e)?"[Array]":"[Object]";var h=LC(s,i);if(typeof n>"u")n=[];else if(Fv(n,e)>=0)return"[Circular]";function d(C,M,D){if(M&&(n=gC.call(n),n.push(M)),D){var Y={depth:s.depth};return Dr(s,"quoteStyle")&&(Y.quoteStyle=s.quoteStyle),t(C,Y,i+1,n)}return t(C,s,i+1,n)}if(typeof e=="function"&&!Ep(e)){var f=EC(e),p=Wo(e,d);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(p.length>0?" { "+mr.call(p,", ")+" }":"")}if(Bv(e)){var m=es?fi.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):qc.call(e);return typeof e=="object"&&!es?vs(m):m}if(RC(e)){for(var g="<"+_p.call(String(e.nodeName)),v=e.attributes||[],_=0;_<v.length;_++)g+=" "+v[_].name+"="+Dv(vC(v[_].value),"double",s);return g+=">",e.childNodes&&e.childNodes.length&&(g+="..."),g+="</"+_p.call(String(e.nodeName))+">",g}if(Zc(e)){if(e.length===0)return"[]";var y=Wo(e,d);return h&&!OC(y)?"["+Jc(y,h)+"]":"[ "+mr.call(y,", ")+" ]"}if(bC(e)){var w=Wo(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!Ov.call(e,"cause")?"{ ["+String(e)+"] "+mr.call(bp.call("[cause]: "+d(e.cause),w),", ")+" }":w.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+mr.call(w,", ")+" }"}if(typeof e=="object"&&o){if(Ap&&typeof e[Ap]=="function"&&Kc)return Kc(e,{depth:c-i});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(CC(e)){var S=[];return gp&&gp.call(e,function(C,M){S.push(d(M,e,!0)+" => "+d(C,e))}),Cp("Map",Va.call(e),S,h)}if(MC(e)){var x=[];return yp&&yp.call(e,function(C){x.push(d(C,e))}),Cp("Set",Wa.call(e),x,h)}if(PC(e))return bu("WeakMap");if($C(e))return bu("WeakSet");if(kC(e))return bu("WeakRef");if(wC(e))return vs(d(Number(e)));if(SC(e))return vs(d(Yc.call(e)));if(TC(e))return vs(hC.call(e));if(xC(e))return vs(d(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof Bs<"u"&&e===Bs)return"{ [object globalThis] }";if(!_C(e)&&!Ep(e)){var T=Wo(e,d),A=wp?wp(e)===Object.prototype:e instanceof Object||e.constructor===Object,P=e instanceof Object?"":"null prototype",E=!A&&Hs&&Object(e)===e&&Hs in e?jd.call(Oi(e),8,-1):P?"Object":"",I=A||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",k=I+(E||P?"["+mr.call(bp.call([],E||[],P||[]),": ")+"] ":"");return T.length===0?k+"{}":h?k+"{"+Jc(T,h)+"}":k+"{ "+mr.call(T,", ")+" }"}return String(e)};function Dv(t,e,r){var i=r.quoteStyle||e,n=Lv[i];return n+t+n}function vC(t){return fi.call(String(t),/"/g,"&quot;")}function gn(t){return!Hs||!(typeof t=="object"&&(Hs in t||typeof t[Hs]<"u"))}function Zc(t){return Oi(t)==="[object Array]"&&gn(t)}function _C(t){return Oi(t)==="[object Date]"&&gn(t)}function Ep(t){return Oi(t)==="[object RegExp]"&&gn(t)}function bC(t){return Oi(t)==="[object Error]"&&gn(t)}function xC(t){return Oi(t)==="[object String]"&&gn(t)}function wC(t){return Oi(t)==="[object Number]"&&gn(t)}function TC(t){return Oi(t)==="[object Boolean]"&&gn(t)}function Bv(t){if(es)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!qc)return!1;try{return qc.call(t),!0}catch{}return!1}function SC(t){if(!t||typeof t!="object"||!Yc)return!1;try{return Yc.call(t),!0}catch{}return!1}var AC=Object.prototype.hasOwnProperty||function(t){return t in this};function Dr(t,e){return AC.call(t,e)}function Oi(t){return dC.call(t)}function EC(t){if(t.name)return t.name;var e=pC.call(fC.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Fv(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}function CC(t){if(!Va||!t||typeof t!="object")return!1;try{Va.call(t);try{Wa.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function PC(t){if(!Ns||!t||typeof t!="object")return!1;try{Ns.call(t,Ns);try{Us.call(t,Us)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function kC(t){if(!vp||!t||typeof t!="object")return!1;try{return vp.call(t),!0}catch{}return!1}function MC(t){if(!Wa||!t||typeof t!="object")return!1;try{Wa.call(t);try{Va.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function $C(t){if(!Us||!t||typeof t!="object")return!1;try{Us.call(t,Us);try{Ns.call(t,Ns)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function RC(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Nv(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return Nv(jd.call(t,0,e.maxStringLength),e)+i}var n=yC[e.quoteStyle||"single"];n.lastIndex=0;var s=fi.call(fi.call(t,n,"\\$1"),/[\x00-\x1f]/g,IC);return Dv(s,"single",e)}function IC(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+mC.call(e.toString(16))}function vs(t){return"Object("+t+")"}function bu(t){return t+" { ? }"}function Cp(t,e,r,i){var n=i?Jc(r,i):mr.call(r,", ");return t+" ("+e+") {"+n+"}"}function OC(t){for(var e=0;e<t.length;e++)if(Fv(t[e],`
`)>=0)return!1;return!0}function LC(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=mr.call(Array(t.indent+1)," ");else return null;return{base:r,prev:mr.call(Array(e+1),r)}}function Jc(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+mr.call(t,","+r)+`
`+e.prev}function Wo(t,e){var r=Zc(t),i=[];if(r){i.length=t.length;for(var n=0;n<t.length;n++)i[n]=Dr(t,n)?e(t[n],t):""}var s=typeof _u=="function"?_u(t):[],o;if(es){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)Dr(t,l)&&(r&&String(Number(l))===l&&l<t.length||es&&o["$"+l]instanceof Symbol||(Iv.call(/[^\w$]/,l)?i.push(e(l,t)+": "+e(t[l],t)):i.push(l+": "+e(t[l],t))));if(typeof _u=="function")for(var u=0;u<s.length;u++)Ov.call(t,s[u])&&i.push("["+e(s[u])+"]: "+e(t[s[u]],t));return i}var DC=Ol,BC=ds,Ll=function(t,e,r){for(var i=t,n;(n=i.next)!=null;i=n)if(n.key===e)return i.next=n.next,r||(n.next=t.next,t.next=n),n},FC=function(t,e){if(t){var r=Ll(t,e);return r&&r.value}},NC=function(t,e,r){var i=Ll(t,e);i?i.value=r:t.next={key:e,next:t.next,value:r}},UC=function(t,e){return t?!!Ll(t,e):!1},HC=function(t,e){if(t)return Ll(t,e,!0)},zC=function(){var e,r={assert:function(i){if(!r.has(i))throw new BC("Side channel does not contain "+DC(i))},delete:function(i){var n=e&&e.next,s=HC(e,i);return s&&n&&n===s&&(e=void 0),!!s},get:function(i){return FC(e,i)},has:function(i){return UC(e,i)},set:function(i,n){e||(e={next:void 0}),NC(e,i,n)}};return r},Uv=Object,jC=Error,GC=EvalError,VC=RangeError,WC=ReferenceError,XC=SyntaxError,YC=URIError,qC=Math.abs,KC=Math.floor,ZC=Math.max,JC=Math.min,QC=Math.pow,eP=Math.round,tP=Number.isNaN||function(e){return e!==e},rP=tP,iP=function(e){return rP(e)||e===0?e:e<0?-1:1},nP=Object.getOwnPropertyDescriptor,Aa=nP;if(Aa)try{Aa([],"length")}catch{Aa=null}var Hv=Aa,Ea=Object.defineProperty||!1;if(Ea)try{Ea({},"a",{value:1})}catch{Ea=!1}var sP=Ea,xu,Pp;function oP(){return Pp||(Pp=1,xu=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;e[r]=n;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==n||a.enumerable!==!0)return!1}return!0}),xu}var wu,kp;function aP(){if(kp)return wu;kp=1;var t=typeof Symbol<"u"&&Symbol,e=oP();return wu=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},wu}var Tu,Mp;function zv(){return Mp||(Mp=1,Tu=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Tu}var Su,$p;function jv(){if($p)return Su;$p=1;var t=Uv;return Su=t.getPrototypeOf||null,Su}var Au,Rp;function lP(){if(Rp)return Au;Rp=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,i="[object Function]",n=function(l,u){for(var c=[],h=0;h<l.length;h+=1)c[h]=l[h];for(var d=0;d<u.length;d+=1)c[d+l.length]=u[d];return c},s=function(l,u){for(var c=[],h=u,d=0;h<l.length;h+=1,d+=1)c[d]=l[h];return c},o=function(a,l){for(var u="",c=0;c<a.length;c+=1)u+=a[c],c+1<a.length&&(u+=l);return u};return Au=function(l){var u=this;if(typeof u!="function"||e.apply(u)!==i)throw new TypeError(t+u);for(var c=s(arguments,1),h,d=function(){if(this instanceof h){var v=u.apply(this,n(c,arguments));return Object(v)===v?v:this}return u.apply(l,n(c,arguments))},f=r(0,u.length-c.length),p=[],m=0;m<f;m++)p[m]="$"+m;if(h=Function("binder","return function ("+o(p,",")+"){ return binder.apply(this,arguments); }")(d),u.prototype){var g=function(){};g.prototype=u.prototype,h.prototype=new g,g.prototype=null}return h},Au}var Eu,Ip;function Dl(){if(Ip)return Eu;Ip=1;var t=lP();return Eu=Function.prototype.bind||t,Eu}var Cu,Op;function Gd(){return Op||(Op=1,Cu=Function.prototype.call),Cu}var Pu,Lp;function Gv(){return Lp||(Lp=1,Pu=Function.prototype.apply),Pu}var uP=typeof Reflect<"u"&&Reflect&&Reflect.apply,cP=Dl(),hP=Gv(),dP=Gd(),fP=uP,pP=fP||cP.call(dP,hP),mP=Dl(),gP=ds,yP=Gd(),vP=pP,Vv=function(e){if(e.length<1||typeof e[0]!="function")throw new gP("a function is required");return vP(mP,yP,e)},ku,Dp;function _P(){if(Dp)return ku;Dp=1;var t=Vv,e=Hv,r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var i=!!r&&e&&e(Object.prototype,"__proto__"),n=Object,s=n.getPrototypeOf;return ku=i&&typeof i.get=="function"?t([i.get]):typeof s=="function"?function(a){return s(a==null?a:n(a))}:!1,ku}var Mu,Bp;function bP(){if(Bp)return Mu;Bp=1;var t=zv(),e=jv(),r=_P();return Mu=t?function(n){return t(n)}:e?function(n){if(!n||typeof n!="object"&&typeof n!="function")throw new TypeError("getProto: not an object");return e(n)}:r?function(n){return r(n)}:null,Mu}var $u,Fp;function xP(){if(Fp)return $u;Fp=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Dl();return $u=r.call(t,e),$u}var fe,wP=Uv,TP=jC,SP=GC,AP=VC,EP=WC,ts=XC,Vn=ds,CP=YC,PP=qC,kP=KC,MP=ZC,$P=JC,RP=QC,IP=eP,OP=iP,Wv=Function,Ru=function(t){try{return Wv('"use strict"; return ('+t+").constructor;")()}catch{}},no=Hv,LP=sP,Iu=function(){throw new Vn},DP=no?function(){try{return arguments.callee,Iu}catch{try{return no(arguments,"callee").get}catch{return Iu}}}():Iu,Sn=aP()(),Ke=bP(),BP=jv(),FP=zv(),Xv=Gv(),Po=Gd(),Mn={},NP=typeof Uint8Array>"u"||!Ke?fe:Ke(Uint8Array),Qi={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?fe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?fe:ArrayBuffer,"%ArrayIteratorPrototype%":Sn&&Ke?Ke([][Symbol.iterator]()):fe,"%AsyncFromSyncIteratorPrototype%":fe,"%AsyncFunction%":Mn,"%AsyncGenerator%":Mn,"%AsyncGeneratorFunction%":Mn,"%AsyncIteratorPrototype%":Mn,"%Atomics%":typeof Atomics>"u"?fe:Atomics,"%BigInt%":typeof BigInt>"u"?fe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?fe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?fe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?fe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":TP,"%eval%":eval,"%EvalError%":SP,"%Float16Array%":typeof Float16Array>"u"?fe:Float16Array,"%Float32Array%":typeof Float32Array>"u"?fe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?fe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?fe:FinalizationRegistry,"%Function%":Wv,"%GeneratorFunction%":Mn,"%Int8Array%":typeof Int8Array>"u"?fe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?fe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?fe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Sn&&Ke?Ke(Ke([][Symbol.iterator]())):fe,"%JSON%":typeof JSON=="object"?JSON:fe,"%Map%":typeof Map>"u"?fe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Sn||!Ke?fe:Ke(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":wP,"%Object.getOwnPropertyDescriptor%":no,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?fe:Promise,"%Proxy%":typeof Proxy>"u"?fe:Proxy,"%RangeError%":AP,"%ReferenceError%":EP,"%Reflect%":typeof Reflect>"u"?fe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?fe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Sn||!Ke?fe:Ke(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?fe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Sn&&Ke?Ke(""[Symbol.iterator]()):fe,"%Symbol%":Sn?Symbol:fe,"%SyntaxError%":ts,"%ThrowTypeError%":DP,"%TypedArray%":NP,"%TypeError%":Vn,"%Uint8Array%":typeof Uint8Array>"u"?fe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?fe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?fe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?fe:Uint32Array,"%URIError%":CP,"%WeakMap%":typeof WeakMap>"u"?fe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?fe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?fe:WeakSet,"%Function.prototype.call%":Po,"%Function.prototype.apply%":Xv,"%Object.defineProperty%":LP,"%Object.getPrototypeOf%":BP,"%Math.abs%":PP,"%Math.floor%":kP,"%Math.max%":MP,"%Math.min%":$P,"%Math.pow%":RP,"%Math.round%":IP,"%Math.sign%":OP,"%Reflect.getPrototypeOf%":FP};if(Ke)try{null.error}catch(t){var UP=Ke(Ke(t));Qi["%Error.prototype%"]=UP}var HP=function t(e){var r;if(e==="%AsyncFunction%")r=Ru("async function () {}");else if(e==="%GeneratorFunction%")r=Ru("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Ru("async function* () {}");else if(e==="%AsyncGenerator%"){var i=t("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=t("%AsyncGenerator%");n&&Ke&&(r=Ke(n.prototype))}return Qi[e]=r,r},Np={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ko=Dl(),Xa=xP(),zP=ko.call(Po,Array.prototype.concat),jP=ko.call(Xv,Array.prototype.splice),Up=ko.call(Po,String.prototype.replace),Ya=ko.call(Po,String.prototype.slice),GP=ko.call(Po,RegExp.prototype.exec),VP=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,WP=/\\(\\)?/g,XP=function(e){var r=Ya(e,0,1),i=Ya(e,-1);if(r==="%"&&i!=="%")throw new ts("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&r!=="%")throw new ts("invalid intrinsic syntax, expected opening `%`");var n=[];return Up(e,VP,function(s,o,a,l){n[n.length]=a?Up(l,WP,"$1"):o||s}),n},YP=function(e,r){var i=e,n;if(Xa(Np,i)&&(n=Np[i],i="%"+n[0]+"%"),Xa(Qi,i)){var s=Qi[i];if(s===Mn&&(s=HP(i)),typeof s>"u"&&!r)throw new Vn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:s}}throw new ts("intrinsic "+e+" does not exist!")},Vd=function(e,r){if(typeof e!="string"||e.length===0)throw new Vn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Vn('"allowMissing" argument must be a boolean');if(GP(/^%?[^%]*%?$/,e)===null)throw new ts("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=XP(e),n=i.length>0?i[0]:"",s=YP("%"+n+"%",r),o=s.name,a=s.value,l=!1,u=s.alias;u&&(n=u[0],jP(i,zP([0,1],u)));for(var c=1,h=!0;c<i.length;c+=1){var d=i[c],f=Ya(d,0,1),p=Ya(d,-1);if((f==='"'||f==="'"||f==="`"||p==='"'||p==="'"||p==="`")&&f!==p)throw new ts("property names with quotes must have matching quotes");if((d==="constructor"||!h)&&(l=!0),n+="."+d,o="%"+n+"%",Xa(Qi,o))a=Qi[o];else if(a!=null){if(!(d in a)){if(!r)throw new Vn("base intrinsic for "+e+" exists, but the property is not available.");return}if(no&&c+1>=i.length){var m=no(a,d);h=!!m,h&&"get"in m&&!("originalValue"in m.get)?a=m.get:a=a[d]}else h=Xa(a,d),a=a[d];h&&!l&&(Qi[o]=a)}}return a},Yv=Vd,qv=Vv,qP=qv([Yv("%String.prototype.indexOf%")]),Kv=function(e,r){var i=Yv(e,!!r);return typeof i=="function"&&qP(e,".prototype.")>-1?qv([i]):i},KP=Vd,Mo=Kv,ZP=Ol,JP=ds,Hp=KP("%Map%",!0),QP=Mo("Map.prototype.get",!0),e3=Mo("Map.prototype.set",!0),t3=Mo("Map.prototype.has",!0),r3=Mo("Map.prototype.delete",!0),i3=Mo("Map.prototype.size",!0),Zv=!!Hp&&function(){var e,r={assert:function(i){if(!r.has(i))throw new JP("Side channel does not contain "+ZP(i))},delete:function(i){if(e){var n=r3(e,i);return i3(e)===0&&(e=void 0),n}return!1},get:function(i){if(e)return QP(e,i)},has:function(i){return e?t3(e,i):!1},set:function(i,n){e||(e=new Hp),e3(e,i,n)}};return r},n3=Vd,Bl=Kv,s3=Ol,Xo=Zv,o3=ds,An=n3("%WeakMap%",!0),a3=Bl("WeakMap.prototype.get",!0),l3=Bl("WeakMap.prototype.set",!0),u3=Bl("WeakMap.prototype.has",!0),c3=Bl("WeakMap.prototype.delete",!0),h3=An?function(){var e,r,i={assert:function(n){if(!i.has(n))throw new o3("Side channel does not contain "+s3(n))},delete:function(n){if(An&&n&&(typeof n=="object"||typeof n=="function")){if(e)return c3(e,n)}else if(Xo&&r)return r.delete(n);return!1},get:function(n){return An&&n&&(typeof n=="object"||typeof n=="function")&&e?a3(e,n):r&&r.get(n)},has:function(n){return An&&n&&(typeof n=="object"||typeof n=="function")&&e?u3(e,n):!!r&&r.has(n)},set:function(n,s){An&&n&&(typeof n=="object"||typeof n=="function")?(e||(e=new An),l3(e,n,s)):Xo&&(r||(r=Xo()),r.set(n,s))}};return i}:Xo,d3=ds,f3=Ol,p3=zC,m3=Zv,g3=h3,y3=g3||m3||p3,Jv=function(){var e,r={assert:function(i){if(!r.has(i))throw new d3("Side channel does not contain "+f3(i))},delete:function(i){return!!e&&e.delete(i)},get:function(i){return e&&e.get(i)},has:function(i){return!!e&&e.has(i)},set:function(i,n){e||(e=y3()),e.set(i,n)}};return r},v3=String.prototype.replace,_3=/%20/g,Ou={RFC1738:"RFC1738",RFC3986:"RFC3986"},Wd={default:Ou.RFC3986,formatters:{RFC1738:function(t){return v3.call(t,_3,"+")},RFC3986:function(t){return String(t)}},RFC1738:Ou.RFC1738,RFC3986:Ou.RFC3986},b3=Wd,x3=Jv,Lu=Object.prototype.hasOwnProperty,qi=Array.isArray,Fl=x3(),Un=function(e,r){return Fl.set(e,r),e},Ki=function(e){return Fl.has(e)},Ps=function(e){return Fl.get(e)},Qc=function(e,r){Fl.set(e,r)},or=function(){for(var t=[],e=0;e<256;++e)t[t.length]="%"+((e<16?"0":"")+e.toString(16)).toUpperCase();return t}(),w3=function(e){for(;e.length>1;){var r=e.pop(),i=r.obj[r.prop];if(qi(i)){for(var n=[],s=0;s<i.length;++s)typeof i[s]<"u"&&(n[n.length]=i[s]);r.obj[r.prop]=n}}},zs=function(e,r){for(var i=r&&r.plainObjects?{__proto__:null}:{},n=0;n<e.length;++n)typeof e[n]<"u"&&(i[n]=e[n]);return i},T3=function t(e,r,i){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(qi(e)){var n=e.length;if(i&&typeof i.arrayLimit=="number"&&n>i.arrayLimit)return Un(zs(e.concat(r),i),n);e[n]=r}else if(e&&typeof e=="object")if(Ki(e)){var s=Ps(e)+1;e[s]=r,Qc(e,s)}else{if(i&&i.strictMerge)return[e,r];(i&&(i.plainObjects||i.allowPrototypes)||!Lu.call(Object.prototype,r))&&(e[r]=!0)}else return[e,r];return e}if(!e||typeof e!="object"){if(Ki(r)){for(var o=Object.keys(r),a=i&&i.plainObjects?{__proto__:null,0:e}:{0:e},l=0;l<o.length;l++){var u=parseInt(o[l],10);a[u+1]=r[o[l]]}return Un(a,Ps(r)+1)}var c=[e].concat(r);return i&&typeof i.arrayLimit=="number"&&c.length>i.arrayLimit?Un(zs(c,i),c.length-1):c}var h=e;return qi(e)&&!qi(r)&&(h=zs(e,i)),qi(e)&&qi(r)?(r.forEach(function(d,f){if(Lu.call(e,f)){var p=e[f];p&&typeof p=="object"&&d&&typeof d=="object"?e[f]=t(p,d,i):e[e.length]=d}else e[f]=d}),e):Object.keys(r).reduce(function(d,f){var p=r[f];if(Lu.call(d,f)?d[f]=t(d[f],p,i):d[f]=p,Ki(r)&&!Ki(d)&&Un(d,Ps(r)),Ki(d)){var m=parseInt(f,10);String(m)===f&&m>=0&&m>Ps(d)&&Qc(d,m)}return d},h)},S3=function(e,r){return Object.keys(r).reduce(function(i,n){return i[n]=r[n],i},e)},A3=function(t,e,r){var i=t.replace(/\+/g," ");if(r==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},Du=1024,E3=function(e,r,i,n,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),i==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;l+=Du){for(var u=o.length>=Du?o.slice(l,l+Du):o,c=[],h=0;h<u.length;++h){var d=u.charCodeAt(h);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===b3.RFC1738&&(d===40||d===41)){c[c.length]=u.charAt(h);continue}if(d<128){c[c.length]=or[d];continue}if(d<2048){c[c.length]=or[192|d>>6]+or[128|d&63];continue}if(d<55296||d>=57344){c[c.length]=or[224|d>>12]+or[128|d>>6&63]+or[128|d&63];continue}h+=1,d=65536+((d&1023)<<10|u.charCodeAt(h)&1023),c[c.length]=or[240|d>>18]+or[128|d>>12&63]+or[128|d>>6&63]+or[128|d&63]}a+=c.join("")}return a},C3=function(e){for(var r=[{obj:{o:e},prop:"o"}],i=[],n=0;n<r.length;++n)for(var s=r[n],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],c=o[u];typeof c=="object"&&c!==null&&i.indexOf(c)===-1&&(r[r.length]={obj:o,prop:u},i[i.length]=c)}return w3(r),e},P3=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},k3=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},M3=function(e,r,i,n){if(Ki(e)){var s=Ps(e)+1;return e[s]=r,Qc(e,s),e}var o=[].concat(e,r);return o.length>i?Un(zs(o,{plainObjects:n}),o.length-1):o},$3=function(e,r){if(qi(e)){for(var i=[],n=0;n<e.length;n+=1)i[i.length]=r(e[n]);return i}return r(e)},Qv={arrayToObject:zs,assign:S3,combine:M3,compact:C3,decode:A3,encode:E3,isBuffer:k3,isOverflow:Ki,isRegExp:P3,markOverflow:Un,maybeMap:$3,merge:T3},e_=Jv,Ca=Qv,js=Wd,R3=Object.prototype.hasOwnProperty,t_={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},dr=Array.isArray,I3=Array.prototype.push,r_=function(t,e){I3.apply(t,dr(e)?e:[e])},O3=Date.prototype.toISOString,zp=js.default,Ve={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Ca.encode,encodeValuesOnly:!1,filter:void 0,format:zp,formatter:js.formatters[zp],indices:!1,serializeDate:function(e){return O3.call(e)},skipNulls:!1,strictNullHandling:!1},L3=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Bu={},D3=function t(e,r,i,n,s,o,a,l,u,c,h,d,f,p,m,g,v,_){for(var y=e,w=_,S=0,x=!1;(w=w.get(Bu))!==void 0&&!x;){var T=w.get(e);if(S+=1,typeof T<"u"){if(T===S)throw new RangeError("Cyclic object value");x=!0}typeof w.get(Bu)>"u"&&(S=0)}if(typeof c=="function"?y=c(r,y):y instanceof Date?y=f(y):i==="comma"&&dr(y)&&(y=Ca.maybeMap(y,function(L){return L instanceof Date?f(L):L})),y===null){if(o)return u&&!g?u(r,Ve.encoder,v,"key",p):r;y=""}if(L3(y)||Ca.isBuffer(y)){if(u){var A=g?r:u(r,Ve.encoder,v,"key",p);return[m(A)+"="+m(u(y,Ve.encoder,v,"value",p))]}return[m(r)+"="+m(String(y))]}var P=[];if(typeof y>"u")return P;var E;if(i==="comma"&&dr(y))g&&u&&(y=Ca.maybeMap(y,u)),E=[{value:y.length>0?y.join(",")||null:void 0}];else if(dr(c))E=c;else{var I=Object.keys(y);E=h?I.sort(h):I}var k=l?String(r).replace(/\./g,"%2E"):String(r),C=n&&dr(y)&&y.length===1?k+"[]":k;if(s&&dr(y)&&y.length===0)return C+"[]";for(var M=0;M<E.length;++M){var D=E[M],Y=typeof D=="object"&&D&&typeof D.value<"u"?D.value:y[D];if(!(a&&Y===null)){var U=d&&l?String(D).replace(/\./g,"%2E"):String(D),V=dr(y)?typeof i=="function"?i(C,U):C:C+(d?"."+U:"["+U+"]");_.set(e,S);var se=e_();se.set(Bu,_),r_(P,t(Y,V,i,n,s,o,a,l,i==="comma"&&g&&dr(y)?null:u,c,h,d,f,p,m,g,v,se))}}return P},B3=function(e){if(!e)return Ve;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Ve.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=js.default;if(typeof e.format<"u"){if(!R3.call(js.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var n=js.formatters[i],s=Ve.filter;(typeof e.filter=="function"||dr(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in t_?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Ve.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Ve.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ve.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ve.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ve.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Ve.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ve.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Ve.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Ve.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ve.encodeValuesOnly,filter:s,format:i,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ve.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ve.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ve.strictNullHandling}},F3=function(t,e){var r=t,i=B3(e),n,s;typeof i.filter=="function"?(s=i.filter,r=s("",r)):dr(i.filter)&&(s=i.filter,n=s);var o=[];if(typeof r!="object"||r===null)return"";var a=t_[i.arrayFormat],l=a==="comma"&&i.commaRoundTrip;n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var u=e_(),c=0;c<n.length;++c){var h=n[c],d=r[h];i.skipNulls&&d===null||r_(o,D3(d,h,a,l,i.allowEmptyArrays,i.strictNullHandling,i.skipNulls,i.encodeDotInKeys,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,u))}var f=o.join(i.delimiter),p=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),f.length>0?p+f:""},wr=Qv,Pa=Object.prototype.hasOwnProperty,Fu=Array.isArray,Re={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:wr.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictMerge:!0,strictNullHandling:!1,throwOnLimitExceeded:!1},N3=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},i_=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},U3="utf8=%26%2310003%3B",H3="utf8=%E2%9C%93",z3=function(e,r){var i={__proto__:null},n=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;n=n.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=n.split(r.delimiter,r.throwOnLimitExceeded?s+1:s);if(r.throwOnLimitExceeded&&o.length>s)throw new RangeError("Parameter limit exceeded. Only "+s+" parameter"+(s===1?"":"s")+" allowed.");var a=-1,l,u=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===H3?u="utf-8":o[l]===U3&&(u="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var c=o[l],h=c.indexOf("]="),d=h===-1?c.indexOf("="):h+1,f,p;if(d===-1?(f=r.decoder(c,Re.decoder,u,"key"),p=r.strictNullHandling?null:""):(f=r.decoder(c.slice(0,d),Re.decoder,u,"key"),f!==null&&(p=wr.maybeMap(i_(c.slice(d+1),r,Fu(i[f])?i[f].length:0),function(g){return r.decoder(g,Re.decoder,u,"value")}))),p&&r.interpretNumericEntities&&u==="iso-8859-1"&&(p=N3(String(p))),c.indexOf("[]=")>-1&&(p=Fu(p)?[p]:p),r.comma&&Fu(p)&&p.length>r.arrayLimit){if(r.throwOnLimitExceeded)throw new RangeError("Array limit exceeded. Only "+r.arrayLimit+" element"+(r.arrayLimit===1?"":"s")+" allowed in an array.");p=wr.combine([],p,r.arrayLimit,r.plainObjects)}if(f!==null){var m=Pa.call(i,f);m&&(r.duplicates==="combine"||c.indexOf("[]=")>-1)?i[f]=wr.combine(i[f],p,r.arrayLimit,r.plainObjects):(!m||r.duplicates==="last")&&(i[f]=p)}}return i},j3=function(t,e,r,i){var n=0;if(t.length>0&&t[t.length-1]==="[]"){var s=t.slice(0,-1).join("");n=Array.isArray(e)&&e[s]?e[s].length:0}for(var o=i?e:i_(e,r,n),a=t.length-1;a>=0;--a){var l,u=t[a];if(u==="[]"&&r.parseArrays)wr.isOverflow(o)?l=o:l=r.allowEmptyArrays&&(o===""||r.strictNullHandling&&o===null)?[]:wr.combine([],o,r.arrayLimit,r.plainObjects);else{l=r.plainObjects?{__proto__:null}:{};var c=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,h=r.decodeDotInKeys?c.replace(/%2E/g,"."):c,d=parseInt(h,10),f=!isNaN(d)&&u!==h&&String(d)===h&&d>=0&&r.parseArrays;if(!r.parseArrays&&h==="")l={0:o};else if(f&&d<r.arrayLimit)l=[],l[d]=o;else{if(f&&r.throwOnLimitExceeded)throw new RangeError("Array limit exceeded. Only "+r.arrayLimit+" element"+(r.arrayLimit===1?"":"s")+" allowed in an array.");f?(l[d]=o,wr.markOverflow(l,d)):h!=="__proto__"&&(l[h]=o)}}o=l}return o},G3=function(e,r){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e;if(r.depth<=0)return!r.plainObjects&&Pa.call(Object.prototype,i)&&!r.allowPrototypes?void 0:[i];var n=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,o=n.exec(i),a=o?i.slice(0,o.index):i,l=[];if(a){if(!r.plainObjects&&Pa.call(Object.prototype,a)&&!r.allowPrototypes)return;l[l.length]=a}for(var u=0;(o=s.exec(i))!==null&&u<r.depth;){u+=1;var c=o[1].slice(1,-1);if(!r.plainObjects&&Pa.call(Object.prototype,c)&&!r.allowPrototypes)return;l[l.length]=o[1]}if(o){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");l[l.length]="["+i.slice(o.index)+"]"}return l},V3=function(e,r,i,n){if(e){var s=G3(e,i);if(s)return j3(s,r,i,n)}},W3=function(e){if(!e)return Re;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?Re.charset:e.charset,i=typeof e.duplicates>"u"?Re.duplicates:e.duplicates;if(i!=="combine"&&i!=="first"&&i!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var n=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Re.allowDots:!!e.allowDots;return{allowDots:n,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Re.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Re.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Re.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Re.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Re.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Re.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Re.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Re.decoder,delimiter:typeof e.delimiter=="string"||wr.isRegExp(e.delimiter)?e.delimiter:Re.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Re.depth,duplicates:i,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Re.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Re.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Re.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:Re.strictDepth,strictMerge:typeof e.strictMerge=="boolean"?!!e.strictMerge:Re.strictMerge,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Re.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},X3=function(t,e){var r=W3(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var i=typeof t=="string"?z3(t,r):t,n=r.plainObjects?{__proto__:null}:{},s=Object.keys(i),o=0;o<s.length;++o){var a=s[o],l=V3(a,i[a],r,typeof t=="string");n=wr.merge(n,l,r)}return r.allowSparse===!0?n:wr.compact(n)},Y3=F3,q3=X3,K3=Wd,Z3={formats:K3,parse:q3,stringify:Y3},J3=nC;function Jt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Q3=/^([a-z0-9.+-]+:)/i,ek=/:[0-9]*$/,tk=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,rk=["<",">",'"',"`"," ","\r",`
`,"	"],ik=["{","}","|","\\","^","`"].concat(rk),eh=["'"].concat(ik),jp=["%","/","?",";","#"].concat(eh),Gp=["/","?","#"],nk=255,Vp=/^[+a-z0-9A-Z_-]{0,63}$/,sk=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ok={javascript:!0,"javascript:":!0},th={javascript:!0,"javascript:":!0},Wn={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},rh=Z3;function Nl(t,e,r){if(t&&typeof t=="object"&&t instanceof Jt)return t;var i=new Jt;return i.parse(t,e,r),i}Jt.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),n=i!==-1&&i<t.indexOf("#")?"?":"#",s=t.split(n),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(n);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var l=tk.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=rh.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=Q3.exec(a);if(u){u=u[0];var c=u.toLowerCase();this.protocol=c,a=a.substr(u.length)}if(r||u||a.match(/^\/\/[^@/]+@[^@/]+/)){var h=a.substr(0,2)==="//";h&&!(u&&th[u])&&(a=a.substr(2),this.slashes=!0)}if(!th[u]&&(h||u&&!Wn[u])){for(var d=-1,f=0;f<Gp.length;f++){var p=a.indexOf(Gp[f]);p!==-1&&(d===-1||p<d)&&(d=p)}var m,g;d===-1?g=a.lastIndexOf("@"):g=a.lastIndexOf("@",d),g!==-1&&(m=a.slice(0,g),a=a.slice(g+1),this.auth=decodeURIComponent(m)),d=-1;for(var f=0;f<jp.length;f++){var p=a.indexOf(jp[f]);p!==-1&&(d===-1||p<d)&&(d=p)}d===-1&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var _=this.hostname.split(/\./),f=0,y=_.length;f<y;f++){var w=_[f];if(w&&!w.match(Vp)){for(var S="",x=0,T=w.length;x<T;x++)w.charCodeAt(x)>127?S+="x":S+=w[x];if(!S.match(Vp)){var A=_.slice(0,f),P=_.slice(f+1),E=w.match(sk);E&&(A.push(E[1]),P.unshift(E[2])),P.length&&(a="/"+P.join(".")+a),this.hostname=A.join(".");break}}}this.hostname.length>nk?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=J3.toASCII(this.hostname));var I=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+I,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!ok[c])for(var f=0,y=eh.length;f<y;f++){var C=eh[f];if(a.indexOf(C)!==-1){var M=encodeURIComponent(C);M===C&&(M=escape(C)),a=a.split(C).join(M)}}var D=a.indexOf("#");D!==-1&&(this.hash=a.substr(D),a=a.slice(0,D));var Y=a.indexOf("?");if(Y!==-1?(this.search=a.substr(Y),this.query=a.substr(Y+1),e&&(this.query=rh.parse(this.query)),a=a.slice(0,Y)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Wn[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var I=this.pathname||"",U=this.search||"";this.path=I+U}return this.href=this.format(),this};function ak(t){return typeof t=="string"&&(t=Nl(t)),t instanceof Jt?t.format():Jt.prototype.format.call(t)}Jt.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,s="";this.host?n=t+this.host:this.hostname&&(n=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=rh.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Wn[e])&&n!==!1?(n="//"+(n||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):n||(n=""),i&&i.charAt(0)!=="#"&&(i="#"+i),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+n+r+o+i};function lk(t,e){return Nl(t,!1,!0).resolve(e)}Jt.prototype.resolve=function(t){return this.resolveObject(Nl(t,!1,!0)).format()};Jt.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Jt;e.parse(t,!1,!0),t=e}for(var r=new Jt,i=Object.keys(this),n=0;n<i.length;n++){var s=i[n];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(r[l]=t[l])}return Wn[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Wn[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var h=u[c];r[h]=t[h]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!th[t.protocol]){for(var y=(t.pathname||"").split("/");y.length&&!(t.host=y.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),y[0]!==""&&y.unshift(""),y.length<2&&y.unshift(""),r.pathname=y.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var d=r.pathname||"",f=r.search||"";r.path=d+f}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var p=r.pathname&&r.pathname.charAt(0)==="/",m=t.host||t.pathname&&t.pathname.charAt(0)==="/",g=m||p||r.host&&t.pathname,v=g,_=r.pathname&&r.pathname.split("/")||[],y=t.pathname&&t.pathname.split("/")||[],w=r.protocol&&!Wn[r.protocol];if(w&&(r.hostname="",r.port=null,r.host&&(_[0]===""?_[0]=r.host:_.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(y[0]===""?y[0]=t.host:y.unshift(t.host)),t.host=null),g=g&&(y[0]===""||_[0]==="")),m)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,_=y;else if(y.length)_||(_=[]),_.pop(),_=_.concat(y),r.search=t.search,r.query=t.query;else if(t.search!=null){if(w){r.host=_.shift(),r.hostname=r.host;var S=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;S&&(r.auth=S.shift(),r.hostname=S.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var x=_.slice(-1)[0],T=(r.host||t.host||_.length>1)&&(x==="."||x==="..")||x==="",A=0,P=_.length;P>=0;P--)x=_[P],x==="."?_.splice(P,1):x===".."?(_.splice(P,1),A++):A&&(_.splice(P,1),A--);if(!g&&!v)for(;A--;A)_.unshift("..");g&&_[0]!==""&&(!_[0]||_[0].charAt(0)!=="/")&&_.unshift(""),T&&_.join("/").substr(-1)!=="/"&&_.push("");var E=_[0]===""||_[0]&&_[0].charAt(0)==="/";if(w){r.hostname=E?"":_.length?_.shift():"",r.host=r.hostname;var S=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;S&&(r.auth=S.shift(),r.hostname=S.shift(),r.host=r.hostname)}return g=g||r.host&&_.length,g&&!E&&_.unshift(""),_.length>0?r.pathname=_.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Jt.prototype.parseHost=function(){var t=this.host,e=ek.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var RU=Nl,IU=lk,OU=ak;const Wp={};function pe(t,e,r=3){if(Wp[e])return;let i=new Error().stack;typeof i>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(i=i.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(i))),Wp[e]=!0}function zt(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function _s(t){return t.split("?")[0].split("#")[0]}function uk(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ck(t,e,r){return t.replace(new RegExp(uk(e),"g"),r)}function hk(t,e){let r="",i=0,n=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(n===a-1||s===1))if(n!==a-1&&s===2){if(r.length<2||i!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",i=0):(r=r.slice(0,l),i=r.length-1-r.lastIndexOf("/")),n=a,s=0;continue}}else if(r.length===2||r.length===1){r="",i=0,n=a,s=0;continue}}}else r.length>0?r+=`/${t.slice(n+1,a)}`:r=t.slice(n+1,a),i=a-n-1;n=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Je={toPosix(t){return ck(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){zt(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(zt(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const i=_s(this.toPosix(e??X.ADAPTER.getBaseUrl())),n=_s(this.toPosix(r??this.rootname(i)));return t=this.toPosix(t),t.startsWith("/")?Je.join(n,t.slice(1)):this.isAbsolute(t)?t:this.join(i,t)},normalize(t){if(zt(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const i=t.endsWith("/");return t=hk(t),t.length>0&&i&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return zt(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const i=t[r];if(zt(i),i.length>0)if(e===void 0)e=i;else{const n=t[r-1]??"";this.joinExtensions.includes(this.extname(n).toLowerCase())?e+=`/../${i}`:e+=`/${i}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(zt(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let i=-1,n=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!n){i=a;break}}else n=!1;return i===-1?r?"/":this.isUrl(o)?s+t:s:r&&i===1?"//":s+t.slice(0,i)},rootname(t){zt(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){zt(t),e&&zt(e),t=_s(this.toPosix(t));let r=0,i=-1,n=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!n){r=s+1;break}}else a===-1&&(n=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(i=s):(o=-1,i=a))}return r===i?i=a:i===-1&&(i=t.length),t.slice(r,i)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!n){r=s+1;break}}else i===-1&&(n=!1,i=s+1);return i===-1?"":t.slice(r,i)},extname(t){zt(t),t=_s(this.toPosix(t));let e=-1,r=0,i=-1,n=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!n){r=o+1;break}continue}i===-1&&(n=!1,i=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||i===-1||s===0||s===1&&e===i-1&&e===r+1?"":t.slice(e,i)},parse(t){zt(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=_s(this.toPosix(t));let r=t.charCodeAt(0);const i=this.isAbsolute(t);let n;e.root=this.rootname(t),i||this.hasProtocol(t)?n=1:n=0;let s=-1,o=0,a=-1,l=!0,u=t.length-1,c=0;for(;u>=n;--u){if(r=t.charCodeAt(u),r===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),r===46?s===-1?s=u:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||a===-1||c===0||c===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&i?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&i?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let Nu;async function dk(){return Nu??(Nu=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return mt.UNPACK;const e=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!e)return mt.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const i=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const n=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,n),t.deleteFramebuffer(i),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),n[0]<=n[3]?mt.PMA:mt.UNPACK})()),Nu}let Uu;function fk(){return typeof Uu>"u"&&(Uu=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:X.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!X.ADAPTER.getWebGLRenderingContext())return!1;const r=X.ADAPTER.createCanvas();let i=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const n=!!((e=i==null?void 0:i.getContextAttributes())!=null&&e.stencil);if(i){const s=i.getExtension("WEBGL_lose_context");s&&s.loseContext()}return i=null,n}catch{return!1}}()),Uu}var pk={grad:.9,turn:360,rad:360/(2*Math.PI)},Or=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Ze=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Ot=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},n_=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},Xp=function(t){return{r:Ot(t.r,0,255),g:Ot(t.g,0,255),b:Ot(t.b,0,255),a:Ot(t.a)}},Hu=function(t){return{r:Ze(t.r),g:Ze(t.g),b:Ze(t.b),a:Ze(t.a,3)}},mk=/^#([0-9a-f]{3,8})$/i,Yo=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},s_=function(t){var e=t.r,r=t.g,i=t.b,n=t.a,s=Math.max(e,r,i),o=s-Math.min(e,r,i),a=o?s===e?(r-i)/o:s===r?2+(i-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:n}},o_=function(t){var e=t.h,r=t.s,i=t.v,n=t.a;e=e/360*6,r/=100,i/=100;var s=Math.floor(e),o=i*(1-r),a=i*(1-(e-s)*r),l=i*(1-(1-e+s)*r),u=s%6;return{r:255*[i,a,o,o,l,i][u],g:255*[l,i,i,a,o,o][u],b:255*[o,o,l,i,i,a][u],a:n}},Yp=function(t){return{h:n_(t.h),s:Ot(t.s,0,100),l:Ot(t.l,0,100),a:Ot(t.a)}},qp=function(t){return{h:Ze(t.h),s:Ze(t.s),l:Ze(t.l),a:Ze(t.a,3)}},Kp=function(t){return o_((r=(e=t).s,{h:e.h,s:(r*=((i=e.l)<50?i:100-i)/100)>0?2*r/(i+r)*100:0,v:i+r,a:e.a}));var e,r,i},Gs=function(t){return{h:(e=s_(t)).h,s:(n=(200-(r=e.s))*(i=e.v)/100)>0&&n<200?r*i/100/(n<=100?n:200-n)*100:0,l:n/2,a:e.a};var e,r,i,n},gk=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,yk=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,vk=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_k=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ih={string:[[function(t){var e=mk.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Ze(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Ze(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=vk.exec(t)||_k.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:Xp({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=gk.exec(t)||yk.exec(t);if(!e)return null;var r,i,n=Yp({h:(r=e[1],i=e[2],i===void 0&&(i="deg"),Number(r)*(pk[i]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Kp(n)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,i=t.b,n=t.a,s=n===void 0?1:n;return Or(e)&&Or(r)&&Or(i)?Xp({r:Number(e),g:Number(r),b:Number(i),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,i=t.l,n=t.a,s=n===void 0?1:n;if(!Or(e)||!Or(r)||!Or(i))return null;var o=Yp({h:Number(e),s:Number(r),l:Number(i),a:Number(s)});return Kp(o)},"hsl"],[function(t){var e=t.h,r=t.s,i=t.v,n=t.a,s=n===void 0?1:n;if(!Or(e)||!Or(r)||!Or(i))return null;var o=function(a){return{h:n_(a.h),s:Ot(a.s,0,100),v:Ot(a.v,0,100),a:Ot(a.a)}}({h:Number(e),s:Number(r),v:Number(i),a:Number(s)});return o_(o)},"hsv"]]},Zp=function(t,e){for(var r=0;r<e.length;r++){var i=e[r][0](t);if(i)return[i,e[r][1]]}return[null,void 0]},bk=function(t){return typeof t=="string"?Zp(t.trim(),ih.string):typeof t=="object"&&t!==null?Zp(t,ih.object):[null,void 0]},zu=function(t,e){var r=Gs(t);return{h:r.h,s:Ot(r.s+100*e,0,100),l:r.l,a:r.a}},ju=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},Jp=function(t,e){var r=Gs(t);return{h:r.h,s:r.s,l:Ot(r.l+100*e,0,100),a:r.a}},nh=function(){function t(e){this.parsed=bk(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Ze(ju(this.rgba),2)},t.prototype.isDark=function(){return ju(this.rgba)<.5},t.prototype.isLight=function(){return ju(this.rgba)>=.5},t.prototype.toHex=function(){return e=Hu(this.rgba),r=e.r,i=e.g,n=e.b,o=(s=e.a)<1?Yo(Ze(255*s)):"","#"+Yo(r)+Yo(i)+Yo(n)+o;var e,r,i,n,s,o},t.prototype.toRgb=function(){return Hu(this.rgba)},t.prototype.toRgbString=function(){return e=Hu(this.rgba),r=e.r,i=e.g,n=e.b,(s=e.a)<1?"rgba("+r+", "+i+", "+n+", "+s+")":"rgb("+r+", "+i+", "+n+")";var e,r,i,n,s},t.prototype.toHsl=function(){return qp(Gs(this.rgba))},t.prototype.toHslString=function(){return e=qp(Gs(this.rgba)),r=e.h,i=e.s,n=e.l,(s=e.a)<1?"hsla("+r+", "+i+"%, "+n+"%, "+s+")":"hsl("+r+", "+i+"%, "+n+"%)";var e,r,i,n,s},t.prototype.toHsv=function(){return e=s_(this.rgba),{h:Ze(e.h),s:Ze(e.s),v:Ze(e.v),a:Ze(e.a,3)};var e},t.prototype.invert=function(){return ar({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),ar(zu(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),ar(zu(this.rgba,-e))},t.prototype.grayscale=function(){return ar(zu(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),ar(Jp(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),ar(Jp(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?ar({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Ze(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Gs(this.rgba);return typeof e=="number"?ar({h:e,s:r.s,l:r.l,a:r.a}):Ze(r.h)},t.prototype.isEqual=function(e){return this.toHex()===ar(e).toHex()},t}(),ar=function(t){return t instanceof nh?t:new nh(t)},Qp=[],xk=function(t){t.forEach(function(e){Qp.indexOf(e)<0&&(e(nh,ih),Qp.push(e))})};function wk(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var n in r)i[r[n]]=n;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=i[this.toHex()];if(u)return u;if(o!=null&&o.closest){var c=this.toRgb(),h=1/0,d="black";if(!s.length)for(var f in r)s[f]=new t(r[f]).toRgb();for(var p in r){var m=(a=c,l=s[p],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));m<h&&(h=m,d=p)}return d}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":r[a];return l?new t(l).toRgb():null},"name"])}xk([wk]);const $n=class ka{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof ka)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const i=typeof e;if(i!==typeof r)return!1;if(i==="number"||i==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((n,s)=>n===r[s]);if(e!==null&&r!==null){const n=Object.keys(e),s=Object.keys(r);return n.length!==s.length?!1:n.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,i,n]=this._components;return{r:e,g:r,b:i,a:n}}toRgb(){const[e,r,i]=this._components;return{r:e,g:r,b:i}}toRgbaString(){const[e,r,i]=this.toUint8RgbArray();return`rgba(${e},${r},${i},${this.alpha})`}toUint8RgbArray(e){const[r,i,n]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(i*255),e[2]=Math.round(n*255),e}toRgbArray(e){e=e??[];const[r,i,n]=this._components;return e[0]=r,e[1]=i,e[2]=n,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,i,n,s]=ka.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=i,this._components[2]*=n,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let i=this._int>>16&255,n=this._int>>8&255,s=this._int&255;return r&&(i=i*e+.5|0,n=n*e+.5|0,s=s*e+.5|0),(e*255<<24)+(i<<16)+(n<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,i,n]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(i*e)/e,this._components[2]=Math.round(n*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,i,n,s]=this._components;return e[0]=r,e[1]=i,e[2]=n,e[3]=s,e}normalize(e){let r,i,n,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,i=(o>>8&255)/255,n=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,i,n,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,i,n,s=255]=e,r/=255,i/=255,n/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=ka.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=ar(e);o.isValid()&&({r,g:i,b:n,a:s}=o.rgba,r/=255,i/=255,n/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=i,this._components[2]=n,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,i]=this._components;this._int=(e*255<<16)+(r*255<<8)+(i*255|0)}_clamp(e,r=0,i=1){return typeof e=="number"?Math.min(Math.max(e,r),i):(e.forEach((n,s)=>{e[s]=Math.min(Math.max(n,r),i)}),e)}};$n.shared=new $n,$n.temp=new $n,$n.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let ke=$n;function Tk(t){return pe("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),ke.shared.setValue(t).toHex()}function Sk(t){return pe("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),ke.shared.setValue(t).toNumber()}function Ak(){const t=[],e=[];for(let i=0;i<32;i++)t[i]=i,e[i]=i;t[re.NORMAL_NPM]=re.NORMAL,t[re.ADD_NPM]=re.ADD,t[re.SCREEN_NPM]=re.SCREEN,e[re.NORMAL]=re.NORMAL_NPM,e[re.ADD]=re.ADD_NPM,e[re.SCREEN]=re.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const a_=Ak();function l_(t,e){return a_[e?1:0][t]}function Ek(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}function u_(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function qa(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function em(t){return!(t&t-1)&&!!t}function tm(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Xn(t,e,r){const i=t.length;let n;if(e>=i||r===0)return;r=e+r>i?i-e:r;const s=i-r;for(n=e;n<s;++n)t[n]=t[n+r];t.length=s}function pi(t){return t===0?0:t<0?-1:1}let Ck=0;function un(){return++Ck}const sh=class{constructor(t,e,r,i){this.left=t,this.top=e,this.right=r,this.bottom=i}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};sh.EMPTY=new sh(0,0,0,0);let rm=sh;const im={},lr=Object.create(null),ri=Object.create(null);class Pk{constructor(e,r,i){this._canvas=X.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=i||X.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function nm(t,e,r){for(let i=0,n=4*r*e;i<e;++i,n+=4)if(t[n+3]!==0)return!1;return!0}function sm(t,e,r,i,n){const s=4*e;for(let o=i,a=i*s+4*r;o<=n;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function kk(t){const{width:e,height:r}=t,i=t.getContext("2d",{willReadFrequently:!0});if(i===null)throw new TypeError("Failed to get canvas 2D context");const n=i.getImageData(0,0,e,r).data;let s=0,o=0,a=e-1,l=r-1;for(;o<r&&nm(n,e,o);)++o;if(o===r)return rm.EMPTY;for(;nm(n,e,l);)--l;for(;sm(n,e,s,o,l);)++s;for(;sm(n,e,a,o,l);)--a;return++a,++l,new rm(s,o,a,l)}function Mk(t){const e=kk(t),{width:r,height:i}=e;let n=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");n=s.getImageData(e.left,e.top,r,i)}return{width:r,height:i,data:n}}function $k(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function Jr(t,e=1){var i;const r=(i=X.RETINA_PREFIX)==null?void 0:i.exec(t);return r?parseFloat(r[1]):e}var G=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(G||{});const oh=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},om=(t,e)=>oh(t).priority??e,Z={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(oh).forEach(e=>{e.type.forEach(r=>{var i,n;return(n=(i=this._removeHandlers)[r])==null?void 0:n.call(i,e)})}),this},add(...t){return t.map(oh).forEach(e=>{e.type.forEach(r=>{var s,o;const i=this._addHandlers,n=this._queue;i[r]?(s=i[r])==null||s.call(i,e):(n[r]=n[r]||[],(o=n[r])==null||o.push(e))})}),this},handle(t,e,r){var o;const i=this._addHandlers,n=this._removeHandlers;if(i[t]||n[t])throw new Error(`Extension type ${t} already has a handler`);i[t]=e,n[t]=r;const s=this._queue;return s[t]&&((o=s[t])==null||o.forEach(a=>e(a)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,i=>{e.includes(i.ref)||(e.push(i.ref),e.sort((n,s)=>om(s,r)-om(n,r)))},i=>{const n=e.indexOf(i.ref);n!==-1&&e.splice(n,1)})}};class ah{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const Rk=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Ik(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function Ok(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const i=Rk.replace(/%forloop%/gi,Ik(t));if(e.shaderSource(r,i),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const Gu=0,Vu=1,Wu=2,Xu=3,Yu=4,qu=5;class Rr{constructor(){this.data=0,this.blendMode=re.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Gu)}set blend(e){!!(this.data&1<<Gu)!==e&&(this.data^=1<<Gu)}get offsets(){return!!(this.data&1<<Vu)}set offsets(e){!!(this.data&1<<Vu)!==e&&(this.data^=1<<Vu)}get culling(){return!!(this.data&1<<Wu)}set culling(e){!!(this.data&1<<Wu)!==e&&(this.data^=1<<Wu)}get depthTest(){return!!(this.data&1<<Xu)}set depthTest(e){!!(this.data&1<<Xu)!==e&&(this.data^=1<<Xu)}get depthMask(){return!!(this.data&1<<qu)}set depthMask(e){!!(this.data&1<<qu)!==e&&(this.data^=1<<qu)}get clockwiseFrontFace(){return!!(this.data&1<<Yu)}set clockwiseFrontFace(e){!!(this.data&1<<Yu)!==e&&(this.data^=1<<Yu)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==re.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Rr;return e.depthTest=!1,e.blend=!0,e}}Rr.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const lh=[];function c_(t,e){if(!t)return null;let r="";if(typeof t=="string"){const i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(r=i[1].toLowerCase())}for(let i=lh.length-1;i>=0;--i){const n=lh[i];if(n.test&&n.test(t,r))return new n(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Qt{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,i,n,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:u,items:c}=this;this._aliasCount++;for(let h=0,d=c.length;h<d;h++)c[h][u](e,r,i,n,s,o,a,l);return c===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Qt.prototype,{dispatch:{value:Qt.prototype.emit},run:{value:Qt.prototype.emit}});class so{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Qt("setRealSize"),this.onUpdate=new Qt("update"),this.onError=new Qt("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,i){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Ul extends so{constructor(e,r){const{width:i,height:n}=r||{};if(!i||!n)throw new Error("BufferResource width or height invalid");super(i,n),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,i){const n=e.gl;n.pixelStorei(n.UNPACK_ALIGNMENT,this.unpackAlignment),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===mt.UNPACK);const s=r.realWidth,o=r.realHeight;return i.width===s&&i.height===o?n.texSubImage2D(r.target,0,0,0,s,o,r.format,i.type,this.data):(i.width=s,i.height=o,n.texImage2D(r.target,0,i.internalFormat,s,o,0,r.format,i.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const Lk={scaleMode:Nr.NEAREST,alphaMode:mt.NPM},uh=class Rn extends Co{constructor(e=null,r=null){super(),r=Object.assign({},Rn.defaultOptions,r);const{alphaMode:i,mipmap:n,anisotropicLevel:s,scaleMode:o,width:a,height:l,wrapMode:u,format:c,type:h,target:d,resolution:f,resourceOptions:p}=r;e&&!(e instanceof so)&&(e=c_(e,p),e.internal=!0),this.resolution=f||X.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((l||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=s,this._wrapMode=u,this._scaleMode=o,this.format=c,this.type=h,this.target=d,this.alphaMode=i,this.uid=un(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&l>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let i;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,i=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,i=!0),i&&this.dirtyStyleId++,this}setSize(e,r,i){return i=i||this.resolution,this.setRealSize(e*i,r*i,i)}setRealSize(e,r,i){return this.resolution=i||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=em(this.realWidth)&&em(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ri[this.cacheId],delete lr[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Rn.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,i=X.STRICT_TEXTURE_CACHE){const n=typeof e=="string";let s=null;if(n)s=e;else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${un()}`}s=e._pixiId}let o=ri[s];if(n&&i&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new Rn(e,r),o.cacheId=s,Rn.addToCache(o,s)),o}static fromBuffer(e,r,i,n){e=e||new Float32Array(r*i*4);const s=new Ul(e,{width:r,height:i,...n==null?void 0:n.resourceOptions});let o,a;return e instanceof Float32Array?(o=F.RGBA,a=ee.FLOAT):e instanceof Int32Array?(o=F.RGBA_INTEGER,a=ee.INT):e instanceof Uint32Array?(o=F.RGBA_INTEGER,a=ee.UNSIGNED_INT):e instanceof Int16Array?(o=F.RGBA_INTEGER,a=ee.SHORT):e instanceof Uint16Array?(o=F.RGBA_INTEGER,a=ee.UNSIGNED_SHORT):e instanceof Int8Array?(o=F.RGBA,a=ee.BYTE):(o=F.RGBA,a=ee.UNSIGNED_BYTE),s.internal=!0,new Rn(s,Object.assign({},Lk,{type:a,format:o},n))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),ri[r]&&ri[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),ri[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=ri[e];if(r){const i=r.textureCacheIds.indexOf(e);return i>-1&&r.textureCacheIds.splice(i,1),delete ri[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete ri[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};uh.defaultOptions={mipmap:Cr.POW2,anisotropicLevel:0,scaleMode:Nr.LINEAR,wrapMode:_i.CLAMP,alphaMode:mt.UNPACK,target:Gn.TEXTURE_2D,format:F.RGBA,type:ee.UNSIGNED_BYTE},uh._globalBatch=0;let le=uh;class ch{constructor(){this.texArray=null,this.blend=0,this.type=yr.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Dk=0,Xe=class h_{constructor(e,r=!0,i=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=r,this.id=Dk++,this.disposeRunner=new Qt("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?xr.ELEMENT_ARRAY_BUFFER:xr.ARRAY_BUFFER}get index(){return this.type===xr.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new h_(e)}};class Ka{constructor(e,r=0,i=!1,n=ee.FLOAT,s,o,a,l=1){this.buffer=e,this.size=r,this.normalized=i,this.type=n,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,r,i,n,s){return new Ka(e,r,i,n,s)}}const Bk={Float32Array,Uint32Array,Int32Array,Uint8Array};function Fk(t,e){let r=0,i=0;const n={};for(let l=0;l<t.length;l++)i+=e[l],r+=t[l].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let l=0;l<t.length;l++){const u=e[l],c=t[l],h=u_(c);n[h]||(n[h]=new Bk[h](s)),o=n[h];for(let d=0;d<c.length;d++){const f=(d/u|0)*i+a,p=d%u;o[f+p]=c[d]}a+=u}return new Float32Array(s)}const am={5126:4,5123:2,5121:1};let Nk=0;const Uk={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Ei{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=Nk++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Qt("disposeGeometry"),this.refCount=0}addAttribute(e,r,i=0,n=!1,s,o,a,l=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Xe||(r instanceof Array&&(r=new Float32Array(r)),r=new Xe(r));const u=e.split("|");if(u.length>1){for(let h=0;h<u.length;h++)this.addAttribute(u[h],r,i,n,s);return this}let c=this.buffers.indexOf(r);return c===-1&&(this.buffers.push(r),c=this.buffers.length-1),this.attributes[e]=new Ka(c,i,n,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Xe||(e instanceof Array&&(e=new Uint16Array(e)),e=new Xe(e)),e.type=xr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],i=new Xe;let n;for(n in this.attributes){const s=this.attributes[n],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*am[s.type]/4),s.buffer=0}for(i.data=Fk(e,r),n=0;n<this.buffers.length;n++)this.buffers[n]!==this.indexBuffer&&this.buffers[n].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Ei;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new Xe(this.buffers[r].data.slice(0));for(const r in this.attributes){const i=this.attributes[r];e.attributes[r]=new Ka(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=xr.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Ei,i=[],n=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)n[l]=n[l]||0,n[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)i[a]=new Uk[u_(o.buffers[a].data)](n[a]),r.buffers[a]=new Xe(i[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=xr.ELEMENT_ARRAY_BUFFER;let a=0,l=0,u=0,c=0;for(let h=0;h<o.buffers.length;h++)if(o.buffers[h]!==o.indexBuffer){c=h;break}for(const h in o.attributes){const d=o.attributes[h];(d.buffer|0)===c&&(l+=d.size*am[d.type]/4)}for(let h=0;h<e.length;h++){const d=e[h].indexBuffer.data;for(let f=0;f<d.length;f++)r.indexBuffer.data[f+u]+=a;a+=e[h].buffers[c].data.length/l,u+=d.length}}return r}}class d_ extends Ei{constructor(e=!1){super(),this._buffer=new Xe(null,e,!1),this._indexBuffer=new Xe(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ee.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ee.FLOAT).addAttribute("aColor",this._buffer,4,!0,ee.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ee.FLOAT).addIndex(this._indexBuffer)}}const Za=Math.PI*2,Hk=180/Math.PI,zk=Math.PI/180;var tt=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(tt||{});class ye{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new ye(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}ye.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const qo=[new ye,new ye,new ye,new ye];class ce{constructor(e=0,r=0,i=0,n=0){this.x=Number(e),this.y=Number(r),this.width=Number(i),this.height=Number(n),this.type=tt.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new ce(0,0,0,0)}clone(){return new ce(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const A=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=A)return!1;const P=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>P}const i=this.left,n=this.right,s=this.top,o=this.bottom;if(n<=i||o<=s)return!1;const a=qo[0].set(e.left,e.top),l=qo[1].set(e.left,e.bottom),u=qo[2].set(e.right,e.top),c=qo[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const h=Math.sign(r.a*r.d-r.b*r.c);if(h===0||(r.apply(a,a),r.apply(l,l),r.apply(u,u),r.apply(c,c),Math.max(a.x,l.x,u.x,c.x)<=i||Math.min(a.x,l.x,u.x,c.x)>=n||Math.max(a.y,l.y,u.y,c.y)<=s||Math.min(a.y,l.y,u.y,c.y)>=o))return!1;const d=h*(l.y-a.y),f=h*(a.x-l.x),p=d*i+f*s,m=d*n+f*s,g=d*i+f*o,v=d*n+f*o;if(Math.max(p,m,g,v)<=d*a.x+f*a.y||Math.min(p,m,g,v)>=d*c.x+f*c.y)return!1;const _=h*(a.y-u.y),y=h*(u.x-a.x),w=_*i+y*s,S=_*n+y*s,x=_*i+y*o,T=_*n+y*o;return!(Math.max(w,S,x,T)<=_*a.x+y*a.y||Math.min(w,S,x,T)>=_*c.x+y*c.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),i=Math.min(this.x+this.width,e.x+e.width),n=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(i-r,0),this.y=n,this.height=Math.max(s-n,0),this}ceil(e=1,r=.001){const i=Math.ceil((this.x+this.width-r)*e)/e,n=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=i-this.x,this.height=n-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),i=Math.max(this.x+this.width,e.x+e.width),n=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=i-r,this.y=n,this.height=s-n,this}}ce.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Hl{constructor(e=0,r=0,i=0){this.x=e,this.y=r,this.radius=i,this.type=tt.CIRC}clone(){return new Hl(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const i=this.radius*this.radius;let n=this.x-e,s=this.y-r;return n*=n,s*=s,n+s<=i}getBounds(){return new ce(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Hl.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class zl{constructor(e=0,r=0,i=0,n=0){this.x=e,this.y=r,this.width=i,this.height=n,this.type=tt.ELIP}clone(){return new zl(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let i=(e-this.x)/this.width,n=(r-this.y)/this.height;return i*=i,n*=n,i+n<=1}getBounds(){return new ce(this.x-this.width,this.y-this.height,this.width,this.height)}}zl.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class en{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const i=[];for(let n=0,s=r.length;n<s;n++)i.push(r[n].x,r[n].y);r=i}this.points=r,this.type=tt.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new en(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let i=!1;const n=this.points.length/2;for(let s=0,o=n-1;s<n;o=s++){const a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],c=this.points[o*2+1];l>r!=c>r&&e<(u-a)*((r-l)/(c-l))+a&&(i=!i)}return i}}en.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class jl{constructor(e=0,r=0,i=0,n=0,s=20){this.x=e,this.y=r,this.width=i,this.height=n,this.radius=s,this.type=tt.RREC}clone(){return new jl(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+i&&r<=this.y+this.height-i||e>=this.x+i&&e<=this.x+this.width-i)return!0;let n=e-(this.x+i),s=r-(this.y+i);const o=i*i;if(n*n+s*s<=o||(n=e-(this.x+this.width-i),n*n+s*s<=o)||(s=r-(this.y+this.height-i),n*n+s*s<=o)||(n=e-(this.x+i),n*n+s*s<=o))return!0}return!1}}jl.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Me{constructor(e=1,r=0,i=0,n=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=i,this.d=n,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,i,n,s,o){return this.a=e,this.b=r,this.c=i,this.d=n,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const i=r||this.array;return e?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(e,r){r=r||new ye;const i=e.x,n=e.y;return r.x=this.a*i+this.c*n+this.tx,r.y=this.b*i+this.d*n+this.ty,r}applyInverse(e,r){r=r||new ye;const i=1/(this.a*this.d+this.c*-this.b),n=e.x,s=e.y;return r.x=this.d*i*n+-this.c*i*s+(this.ty*this.c-this.tx*this.d)*i,r.y=this.a*i*s+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),i=Math.sin(e),n=this.a,s=this.c,o=this.tx;return this.a=n*r-this.b*i,this.b=n*i+this.b*r,this.c=s*r-this.d*i,this.d=s*i+this.d*r,this.tx=o*r-this.ty*i,this.ty=o*i+this.ty*r,this}append(e){const r=this.a,i=this.b,n=this.c,s=this.d;return this.a=e.a*r+e.b*n,this.b=e.a*i+e.b*s,this.c=e.c*r+e.d*n,this.d=e.c*i+e.d*s,this.tx=e.tx*r+e.ty*n+this.tx,this.ty=e.tx*i+e.ty*s+this.ty,this}setTransform(e,r,i,n,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(i*this.a+n*this.c),this.ty=r-(i*this.b+n*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const i=this.a,n=this.c;this.a=i*e.a+this.b*e.c,this.b=i*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,i=this.b,n=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-n,s),l=Math.atan2(i,r),u=Math.abs(a+l);return u<1e-5||Math.abs(Za-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(r*r+i*i),e.scale.y=Math.sqrt(n*n+s*s),e.position.x=this.tx+(o.x*r+o.y*n),e.position.y=this.ty+(o.x*i+o.y*s),e}invert(){const e=this.a,r=this.b,i=this.c,n=this.d,s=this.tx,o=e*n-r*i;return this.a=n/o,this.b=-r/o,this.c=-i/o,this.d=e/o,this.tx=(i*this.ty-n*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Me;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Me}static get TEMP_MATRIX(){return new Me}}Me.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Hi=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],zi=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ji=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Gi=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],hh=[],f_=[],Ko=Math.sign;function jk(){for(let t=0;t<16;t++){const e=[];hh.push(e);for(let r=0;r<16;r++){const i=Ko(Hi[t]*Hi[r]+ji[t]*zi[r]),n=Ko(zi[t]*Hi[r]+Gi[t]*zi[r]),s=Ko(Hi[t]*ji[r]+ji[t]*Gi[r]),o=Ko(zi[t]*ji[r]+Gi[t]*Gi[r]);for(let a=0;a<16;a++)if(Hi[a]===i&&zi[a]===n&&ji[a]===s&&Gi[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Me;e.set(Hi[t],zi[t],ji[t],Gi[t],0,0),f_.push(e)}}jk();const Ie={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Hi[t],uY:t=>zi[t],vX:t=>ji[t],vY:t=>Gi[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>hh[t][e],sub:(t,e)=>hh[t][Ie.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Ie.S:Ie.N:Math.abs(e)*2<=Math.abs(t)?t>0?Ie.E:Ie.W:e>0?t>0?Ie.SE:Ie.SW:t>0?Ie.NE:Ie.NW,matrixAppendRotationInv:(t,e,r=0,i=0)=>{const n=f_[Ie.inv(e)];n.tx=r,n.ty=i,t.append(n)}};class Hr{constructor(e,r,i=0,n=0){this._x=i,this._y=n,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Hr(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Hr.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const dh=class{constructor(){this.worldTransform=new Me,this.localTransform=new Me,this.position=new Hr(this.onChange,this,0,0),this.scale=new Hr(this.onChange,this,1,1),this.pivot=new Hr(this.onChange,this,0,0),this.skew=new Hr(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};dh.IDENTITY=new dh;let Xd=dh;Xd.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var Gk=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Vk=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function lm(t,e,r){const i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),i}function Ku(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function p_(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Ku(2*e);case"bvec3":return Ku(3*e);case"bvec4":return Ku(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Yn=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],Wk={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},Xk={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Yk(t,e){var i;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const n in t.uniforms){const s=e[n];if(!s){((i=t.uniforms[n])==null?void 0:i.group)===!0&&(t.uniforms[n].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${n}, '${n}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${n}, syncData);
                    `));continue}const o=t.uniforms[n];let a=!1;for(let l=0;l<Yn.length;l++)if(Yn[l].test(s,o)){r.push(Yn[l].code(n,o)),a=!0;break}if(!a){const l=(s.size===1&&!s.isArray?Wk:Xk)[s.type].replace("location",`ud["${n}"].location`);r.push(`
            cu = ud["${n}"];
            cv = cu.value;
            v = uv["${n}"];
            ${l};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const m_={};let En=m_;function qk(){if(En===m_||En!=null&&En.isContextLost()){const t=X.ADAPTER.createCanvas();let e;X.PREFER_ENV>=mn.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),En=e}return En}let Zo;function Kk(){if(!Zo){Zo=It.MEDIUM;const t=qk();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(Zo=e.precision?It.HIGH:It.MEDIUM)}}return Zo}function um(t,e){const r=t.getShaderSource(e).split(`
`).map((u,c)=>`${c}: ${u}`),i=t.getShaderInfoLog(e),n=i.split(`
`),s={},o=n.map(u=>parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(u=>u&&!s[u]?(s[u]=!0,!0):!1),a=[""];o.forEach(u=>{r[u-1]=`%c${r[u-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=r.join(`
`);a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function Zk(t,e,r,i){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||um(t,r),t.getShaderParameter(i,t.COMPILE_STATUS)||um(t,i),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const Jk={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function g_(t){return Jk[t]}let Jo=null;const cm={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function y_(t,e){if(!Jo){const r=Object.keys(cm);Jo={};for(let i=0;i<r.length;++i){const n=r[i];Jo[t[n]]=cm[n]}}return Jo[e]}function hm(t,e,r){if(t.substring(0,9)!=="precision"){let i=e;return e===It.HIGH&&r!==It.HIGH&&(i=It.MEDIUM),`precision ${i} float;
${t}`}else if(r!==It.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let bs;function Qk(){if(typeof bs=="boolean")return bs;try{bs=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{bs=!1}return bs}let eM=0;const Qo={},fh=class In{constructor(e,r,i="pixi-shader",n={}){this.extra={},this.id=eM++,this.vertexSrc=e||In.defaultVertexSrc,this.fragmentSrc=r||In.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(i=i.replace(/\s+/g,"-"),Qo[i]?(Qo[i]++,i+=`-${Qo[i]}`):Qo[i]=1,this.vertexSrc=`#define SHADER_NAME ${i}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${i}
${this.fragmentSrc}`,this.vertexSrc=hm(this.vertexSrc,In.defaultVertexPrecision,It.HIGH),this.fragmentSrc=hm(this.fragmentSrc,In.defaultFragmentPrecision,Kk())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return Vk}static get defaultFragmentSrc(){return Gk}static from(e,r,i){const n=e+r;let s=im[n];return s||(im[n]=s=new In(e,r,i)),s}};fh.defaultVertexPrecision=It.HIGH,fh.defaultFragmentPrecision=Ur.apple.device?It.HIGH:It.MEDIUM;let zr=fh,tM=0;class er{constructor(e,r,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=tM++,this.static=!!r,this.ubo=!!i,e instanceof Xe?(this.buffer=e,this.buffer.type=xr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Xe(new Float32Array(1)),this.buffer.type=xr.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,i){if(!this.ubo)this.uniforms[e]=new er(r,i);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,i){return new er(e,r,i)}static uboFrom(e,r){return new er(e,r??!0,!0)}}class Tr{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof er?this.uniformGroup=r:this.uniformGroup=new er(r):this.uniformGroup=new er({}),this.disposeRunner=new Qt("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const i in r.uniforms){const n=r.uniforms[i];if(n.group===!0&&this.checkUniformExists(e,n))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,i){const n=zr.from(e,r);return new Tr(n,i)}}class rM{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const i=new Int32Array(e);for(let s=0;s<e;s++)i[s]=s;this.defaultGroupCache[e]=er.from({uSamplers:i},!0);let n=this.fragTemplate;n=n.replace(/%count%/gi,`${e}`),n=n.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new zr(this.vertexSrc,n)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Me,default:this.defaultGroupCache[e]};return new Tr(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let i=0;i<e;i++)i>0&&(r+=`
else `),i<e-1&&(r+=`if(vTextureId < ${i}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${i}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class ph{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function iM(){return!Ur.apple.device}function nM(t){let e=!0;const r=X.ADAPTER.getNavigator();if(Ur.tablet||Ur.phone){if(Ur.apple.device){const i=r.userAgent.match(/OS (\d+)_(\d+)?/);i&&parseInt(i[1],10)<11&&(e=!1)}if(Ur.android.device){const i=r.userAgent.match(/Android\s([0-9.]*)/);i&&parseInt(i[1],10)<7&&(e=!1)}}return e?t:4}class Gl{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var sM=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,oM=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const ks=class Vt extends Gl{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=d_,this.vertexSize=6,this.state=Rr.for2d(),this.size=Vt.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??nM(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??iM(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return pe("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return oM}static get defaultFragmentTemplate(){return sM}setShaderGenerator({vertex:e=Vt.defaultVertexSrc,fragment:r=Vt.defaultFragmentTemplate}={}){this.shaderGenerator=new rM(e,r)}contextChange(){const e=this.renderer.gl;X.PREFER_ENV===mn.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Vt.defaultMaxTextures),this.maxTextures=Ok(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=Vt,i=this.size/4,n=Math.floor(i/this.maxTextures)+1;for(;e.length<i;)e.push(new ch);for(;r.length<n;)r.push(new ph);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,i=Vt._textureArrayPool,n=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++le._globalBatch,l=0,u=i[0],c=0;n.copyBoundTextures(s,r);for(let h=0;h<this._bufferSize;++h){const d=e[h];e[h]=null,d._batchEnabled!==a&&(u.count>=r&&(n.boundArray(u,s,a,r),this.buildDrawCalls(u,c,h),c=h,u=i[++l],++a),d._batchEnabled=a,d.touched=o,u.elements[u.count++]=d)}u.count>0&&(n.boundArray(u,s,a,r),this.buildDrawCalls(u,c,this._bufferSize),++l,++a);for(let h=0;h<s.length;h++)s[h]=null;le._globalBatch=a}buildDrawCalls(e,r,i){const{_bufferedElements:n,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,l=Vt._drawCallPool;let u=this._dcIndex,c=this._aIndex,h=this._iIndex,d=l[u];d.start=this._iIndex,d.texArray=e;for(let f=r;f<i;++f){const p=n[f],m=p._texture.baseTexture,g=a_[m.alphaMode?1:0][p.blendMode];n[f]=null,r<f&&d.blend!==g&&(d.size=h-d.start,r=f,d=l[++u],d.texArray=e,d.start=h),this.packInterleavedGeometry(p,s,o,c,h),c+=p.vertexData.length/2*a,h+=p.indices.length,d.blend=g}r<i&&(d.size=h-d.start,++u),this._dcIndex=u,this._aIndex=c,this._iIndex=h}bindAndClearTexArray(e){const r=this.renderer.texture;for(let i=0;i<e.count;i++)r.bind(e.elements[i],e.ids[i]),e.elements[i]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:i}=this;Vt.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:i}=this.renderer,n=Vt._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:a,type:l,size:u,start:c,blend:h}=n[o];s!==a&&(s=a,this.bindAndClearTexArray(a)),this.state.blendMode=h,i.set(this.state),r.drawElements(l,u,r.UNSIGNED_SHORT,c*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Vt.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=qa(Math.ceil(e/8)),i=tm(r),n=r*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);let s=this._aBuffers[n];return s||(this._aBuffers[n]=s=new ah(n*this.vertexSize*4)),s}getIndexBuffer(e){const r=qa(Math.ceil(e/12)),i=tm(r),n=r*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);let s=this._iBuffers[i];return s||(this._iBuffers[i]=s=new Uint16Array(n)),s}packInterleavedGeometry(e,r,i,n,s){const{uint32View:o,float32View:a}=r,l=n/this.vertexSize,u=e.uvs,c=e.indices,h=e.vertexData,d=e._texture.baseTexture._batchLocation,f=Math.min(e.worldAlpha,1),p=ke.shared.setValue(e._tintRGB).toPremultiplied(f,e._texture.baseTexture.alphaMode>0);for(let m=0;m<h.length;m+=2)a[n++]=h[m],a[n++]=h[m+1],a[n++]=u[m],a[n++]=u[m+1],o[n++]=p,a[n++]=d;for(let m=0;m<c.length;m++)i[s++]=l+c[m]}};ks.defaultBatchSize=4096,ks.extension={name:"batch",type:G.RendererPlugin},ks._drawCallPool=[],ks._textureArrayPool=[];let Vi=ks;Z.add(Vi);var aM=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,lM=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const mh=class Ms extends Tr{constructor(e,r,i){const n=zr.from(e||Ms.defaultVertexSrc,r||Ms.defaultFragmentSrc);super(n,i),this.padding=0,this.resolution=Ms.defaultResolution,this.multisample=Ms.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Rr}apply(e,r,i,n,s){e.applyFilter(this,r,i,n)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return lM}static get defaultFragmentSrc(){return aM}};mh.defaultResolution=1,mh.defaultMultisample=je.NONE;let dt=mh;class Ja{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new ke(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:i,backgroundAlpha:n}=e,s=i??r;s!==void 0&&(this.color=s),this.alpha=n}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Ja.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Ja.extension={type:[G.RendererSystem,G.CanvasRendererSystem],name:"background"};Z.add(Ja);class v_{constructor(e){this.renderer=e,this.emptyRenderer=new Gl(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:i}=this.renderer.texture;for(let n=r-1;n>=0;--n)e[n]=i[n]||null,e[n]&&(e[n]._batchLocation=n)}boundArray(e,r,i,n){const{elements:s,ids:o,count:a}=e;let l=0;for(let u=0;u<a;u++){const c=s[u],h=c._batchLocation;if(h>=0&&h<n&&r[h]===c){o[u]=h;continue}for(;l<n;){const d=r[l];if(d&&d._batchEnabled===i&&d._batchLocation===l){l++;continue}o[u]=l,c._batchLocation=l,r[l]=c;break}}}destroy(){this.renderer=null}}v_.extension={type:G.RendererSystem,name:"batch"};Z.add(v_);let dm=0;class Qa{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=dm++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,i=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:i,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=dm++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let i;if(X.PREFER_ENV>=mn.WEBGL2&&(i=e.getContext("webgl2",r)),i)this.webGLVersion=2;else if(this.webGLVersion=1,i=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!i)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),i="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;i&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const n=i||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=n,n||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Qa.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Qa.extension={type:G.RendererSystem,name:"context"};Z.add(Qa);class gh{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Qt("disposeFramebuffer"),this.multisample=je.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new le(null,{scaleMode:Nr.NEAREST,resolution:1,mipmap:Cr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new le(null,{scaleMode:Nr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Cr.OFF,format:F.DEPTH_COMPONENT,type:ee.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let i=0;i<this.colorTextures.length;i++){const n=this.colorTextures[i],s=n.resolution;n.setSize(e/s,r/s)}if(this.depthTexture){const i=this.depthTexture.resolution;this.depthTexture.setSize(e/i,r/i)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class __ extends le{constructor(e={}){if(typeof e=="number"){const r=arguments[0],i=arguments[1],n=arguments[2],s=arguments[3];e={width:r,height:i,scaleMode:n,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=je.NONE),super(null,e),this.mipmap=Cr.OFF,this.valid=!0,this._clear=new ke([0,0,0,0]),this.framebuffer=new gh(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Qr extends so{constructor(e){const r=e,i=r.naturalWidth||r.videoWidth||r.displayWidth||r.width,n=r.naturalHeight||r.videoHeight||r.displayHeight||r.height;super(i,n),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,i){i===void 0&&!r.startsWith("data:")?e.crossOrigin=$k(r):i!==!1&&(e.crossOrigin=typeof i=="string"?i:"anonymous")}upload(e,r,i,n){const s=e.gl,o=r.realWidth,a=r.realHeight;if(n=n||this.source,typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement){if(!n.complete||n.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement&&n.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===mt.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&i.width===o&&i.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,i.type,n):(i.width=o,i.height=a,s.texImage2D(r.target,0,i.internalFormat,r.format,i.type,n)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(r,i),super.update()}dispose(){this.source=null}}class b_ extends Qr{constructor(e,r){if(r=r||{},typeof e=="string"){const i=new Image;Qr.crossOrigin(i,e,r.crossorigin),i.src=e,e=i}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??X.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,i)=>{const n=this.source;this.url=n.src;const s=()=>{this.destroyed||(n.onload=null,n.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};n.complete&&n.src?s():(n.onload=s,n.onerror=o=>{i(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,i=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:i?"cors":"no-cors"}).then(n=>n.blob()).then(n=>r(n,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===mt.UNPACK?"premultiply":"none"})).then(n=>this.destroyed?Promise.reject():(this.bitmap=n,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,i){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,i,this.bitmap),!this.preserveBitmap){let n=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==i&&a.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Yd{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,i){const n=r.width,s=r.height;if(i){const o=e.width/2/n,a=e.height/2/s,l=e.x/n+o,u=e.y/s+a;i=Ie.add(i,Ie.NW),this.x0=l+o*Ie.uX(i),this.y0=u+a*Ie.uY(i),i=Ie.add(i,2),this.x1=l+o*Ie.uX(i),this.y1=u+a*Ie.uY(i),i=Ie.add(i,2),this.x2=l+o*Ie.uX(i),this.y2=u+a*Ie.uY(i),i=Ie.add(i,2),this.x3=l+o*Ie.uX(i),this.y3=u+a*Ie.uY(i)}else this.x0=e.x/n,this.y0=e.y/s,this.x1=(e.x+e.width)/n,this.y1=e.y/s,this.x2=(e.x+e.width)/n,this.y2=(e.y+e.height)/s,this.x3=e.x/n,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}Yd.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const fm=new Yd;function ea(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class K extends Co{constructor(e,r,i,n,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new ce(0,0,1,1)),e instanceof K&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=n,this.valid=!1,this.destroyed=!1,this._uvs=fm,this.uvMatrix=null,this.orig=i||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new ye(o.x,o.y):new ye(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&lr[r.url]&&K.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,K.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var n;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),i=new K(this.baseTexture,!this.noFrame&&e,r,(n=this.trim)==null?void 0:n.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(i._frame=e),i}updateUvs(){this._uvs===fm&&(this._uvs=new Yd),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},i=X.STRICT_TEXTURE_CACHE){const n=typeof e=="string";let s=null;if(n)s=e;else if(e instanceof le){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${un()}`,le.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${un()}`}s=e._pixiId}let o=lr[s];if(n&&i&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof le)?(r.resolution||(r.resolution=Jr(e)),o=new K(new le(e,r)),o.baseTexture.cacheId=s,le.addToCache(o.baseTexture,s),K.addToCache(o,s)):!o&&e instanceof le&&(o=new K(e),K.addToCache(o,s)),o}static fromURL(e,r){const i=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),n=K.from(e,Object.assign({resourceOptions:i},r),!1),s=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):s.load().then(()=>Promise.resolve(n))}static fromBuffer(e,r,i,n){return new K(le.fromBuffer(e,r,i,n))}static fromLoader(e,r,i,n){const s=new le(e,Object.assign({scaleMode:le.defaultOptions.scaleMode,resolution:Jr(r)},n)),{resource:o}=s;o instanceof b_&&(o.url=r);const a=new K(s);return i||(i=r),le.addToCache(a.baseTexture,i),K.addToCache(a,i),i!==r&&(le.addToCache(a.baseTexture,r),K.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),lr[r]&&lr[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),lr[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=lr[e];if(r){const i=r.textureCacheIds.indexOf(e);return i>-1&&r.textureCacheIds.splice(i,1),delete lr[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)lr[e.textureCacheIds[r]]===e&&delete lr[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:i,width:n,height:s}=e,o=r+n>this.baseTexture.width,a=i+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",u=`X: ${r} + ${n} = ${r+n} > ${this.baseTexture.width}`,c=`Y: ${i} + ${s} = ${i+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${u} ${l} ${c}`)}this.valid=n&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return K._EMPTY||(K._EMPTY=new K(new le),ea(K._EMPTY),ea(K._EMPTY.baseTexture)),K._EMPTY}static get WHITE(){if(!K._WHITE){const e=X.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),K._WHITE=new K(le.from(e)),ea(K._WHITE),ea(K._WHITE.baseTexture)}return K._WHITE}}class yn extends K{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,i=!0){const n=this.baseTexture.resolution,s=Math.round(e*n)/n,o=Math.round(r*n)/n;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,i&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new yn(new __(e))}}class x_{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,i=je.NONE){const n=new __(Object.assign({width:e,height:r,resolution:1,multisample:i},this.textureOptions));return new yn(n)}getOptimalTexture(e,r,i=1,n=je.NONE){let s;e=Math.max(Math.ceil(e*i-1e-6),1),r=Math.max(Math.ceil(r*i-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=qa(e),r=qa(r),s=((e&65535)<<16|r&65535)>>>0,n>1&&(s+=n*4294967296)):s=n>1?-n:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,n)),o.filterPoolKey=s,o.setResolution(i),o}getFilterTexture(e,r,i){const n=this.getOptimalTexture(e.width,e.height,r||e.resolution,i||je.NONE);return n.filterFrame=e.filterFrame,n}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const i=this.texturePool[r];if(i)for(let n=0;n<i.length;n++)i[n].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const i=this.texturePool[r];if(i)for(let n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}x_.SCREEN_KEY=-1;class uM extends Ei{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class w_ extends Ei{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Xe(this.vertices),this.uvBuffer=new Xe(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let i=0,n=0;return this.uvs[0]=i,this.uvs[1]=n,this.uvs[2]=i+r.width/e.width,this.uvs[3]=n,this.uvs[4]=i+r.width/e.width,this.uvs[5]=n+r.height/e.height,this.uvs[6]=i,this.uvs[7]=n+r.height/e.height,i=r.x,n=r.y,this.vertices[0]=i,this.vertices[1]=n,this.vertices[2]=i+r.width,this.vertices[3]=n,this.vertices[4]=i+r.width,this.vertices[5]=n+r.height,this.vertices[6]=i,this.vertices[7]=n+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class cM{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=je.NONE,this.sourceFrame=new ce,this.destinationFrame=new ce,this.bindingSourceFrame=new ce,this.bindingDestinationFrame=new ce,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const ta=[new ye,new ye,new ye,new ye],Zu=new Me;class T_{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new x_,this.statePool=[],this.quad=new uM,this.quadUv=new w_,this.tempRect=new ce,this.activeState={},this.globalUniforms=new er({outputFrame:new ce,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const i=this.renderer,n=this.defaultFilterStack,s=this.statePool.pop()||new cM,o=i.renderTexture;let a,l;if(o.current){const g=o.current;a=g.resolution,l=g.multisample}else a=i.resolution,l=i.multisample;let u=r[0].resolution||a,c=r[0].multisample??l,h=r[0].padding,d=r[0].autoFit,f=r[0].legacy??!0;for(let g=1;g<r.length;g++){const v=r[g];u=Math.min(u,v.resolution||a),c=Math.min(c,v.multisample??l),h=this.useMaxPadding?Math.max(h,v.padding):h+v.padding,d=d&&v.autoFit,f=f||(v.legacy??!0)}n.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),n.push(s),s.resolution=u,s.multisample=c,s.legacy=f,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(h);const p=this.tempRect.copyFrom(o.sourceFrame);i.projection.transform&&this.transformAABB(Zu.copyFrom(i.projection.transform).invert(),p),d?(s.sourceFrame.fit(p),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(p)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:i.resolution,o.sourceFrame,o.destinationFrame,i.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,u,c),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const m=this.tempRect;m.x=0,m.y=0,m.width=s.sourceFrame.width,m.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=i.projection.transform,i.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,m),i.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),i=r.filters;this.activeState=r;const n=this.globalUniforms.uniforms;n.outputFrame=r.sourceFrame,n.resolution=r.resolution;const s=n.inputSize,o=n.inputPixel,a=n.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const u=n.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),i.length===1)i[0].apply(this,r.renderTexture,l.renderTexture,pr.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let u=r.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,r.resolution);c.filterFrame=u.filterFrame;let h=0;for(h=0;h<i.length-1;++h){h===1&&r.multisample>1&&(c=this.getOptimalFilterTexture(u.width,u.height,r.resolution),c.filterFrame=u.filterFrame),i[h].apply(this,u,c,pr.CLEAR,r);const d=u;u=c,c=d}i[h].apply(this,u,l.renderTexture,pr.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(c)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=pr.CLEAR){const{renderTexture:i,state:n}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=n.stateId&1||this.forceClear;(r===pr.CLEAR||r===pr.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,i,n){const s=this.renderer;s.state.set(e.state),this.bindAndClear(i,n),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(yr.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(yr.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:i,destinationFrame:n}=this.activeState,{orig:s}=r._texture,o=e.set(n.width,0,0,n.height,i.x,i.y),a=r.worldTransform.copyTo(Me.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,i=1,n=je.NONE){return this.texturePool.getOptimalTexture(e,r,i,n)}getFilterTexture(e,r,i){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const n=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,i||je.NONE);return n.filterFrame=e.filterFrame,n}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const i=ta[0],n=ta[1],s=ta[2],o=ta[3];i.set(r.left,r.top),n.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(i,i),e.apply(n,n),e.apply(s,s),e.apply(o,o);const a=Math.min(i.x,n.x,s.x,o.x),l=Math.min(i.y,n.y,s.y,o.y),u=Math.max(i.x,n.x,s.x,o.x),c=Math.max(i.y,n.y,s.y,o.y);r.x=a,r.y=l,r.width=u-a,r.height=c-l}roundFrame(e,r,i,n,s){if(!(e.width<=0||e.height<=0||i.width<=0||i.height<=0)){if(s){const{a:o,b:a,c:l,d:u}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}s=s?Zu.copyFrom(s):Zu.identity(),s.translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}T_.extension={type:G.RendererSystem,name:"filter"};Z.add(T_);class hM{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=je.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const dM=new ce;class S_{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new gh(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ce,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;X.PREFER_ENV===mn.WEBGL_LEGACY&&(r=null,i=null),r?e.drawBuffers=n=>r.drawBuffersWEBGL(n):(this.hasMRT=!1,e.drawBuffers=()=>{}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,i=0){const{gl:n}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,n.bindFramebuffer(n.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==i&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=i),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,i)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>i,a=r.height>>i,l=o/r.width;this.setViewport(r.x*l,r.y*l,o,a)}else{const o=e.width>>i,a=e.height>>i;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,i,n){const s=this.viewport;e=Math.round(e),r=Math.round(r),i=Math.round(i),n=Math.round(n),(s.width!==i||s.height!==n||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=i,s.height=n,this.gl.viewport(e,r,i,n))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,i,n,s=Gc.COLOR|Gc.DEPTH){const{gl:o}=this;o.clearColor(e,r,i,n),o.clear(s)}initFramebuffer(e){const{gl:r}=this,i=new hM(r.createFramebuffer());return i.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(e),e.disposeRunner.add(this),i}resizeFramebuffer(e){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID];if(i.stencil){r.bindRenderbuffer(r.RENDERBUFFER,i.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const n=e.colorTextures;let s=n.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=n[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&i.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:i}=this,n=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;i.drawBuffers||(o=Math.min(o,1)),n.multisample>1&&this.canMultisampleFramebuffer(e)?n.msaaBuffer=n.msaaBuffer||i.createRenderbuffer():n.msaaBuffer&&(i.deleteRenderbuffer(n.msaaBuffer),n.msaaBuffer=null,n.blitFramebuffer&&(n.blitFramebuffer.dispose(),n.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const u=s[l],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),l===0&&n.msaaBuffer?(i.bindRenderbuffer(i.RENDERBUFFER,n.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,n.msaaBuffer)):(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,u.target,c._glTextures[this.CONTEXT_UID].texture,r),a.push(i.COLOR_ATTACHMENT0+l))}if(a.length>1&&i.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const l=e.depthTexture;this.renderer.texture.bind(l,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,l._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){n.stencil=n.stencil||i.createRenderbuffer();let l,u;this.renderer.context.webGLVersion===1?(l=i.DEPTH_STENCIL_ATTACHMENT,u=i.DEPTH_STENCIL):e.depth&&e.stencil?(l=i.DEPTH_STENCIL_ATTACHMENT,u=i.DEPTH24_STENCIL8):e.depth?(l=i.DEPTH_ATTACHMENT,u=i.DEPTH_COMPONENT24):(l=i.STENCIL_ATTACHMENT,u=i.STENCIL_INDEX8),i.bindRenderbuffer(i.RENDERBUFFER,n.stencil),n.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,u,e.width,e.height):i.renderbufferStorage(i.RENDERBUFFER,u,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,l,i.RENDERBUFFER,n.stencil)}else n.stencil&&(i.deleteRenderbuffer(n.stencil),n.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let i=je.NONE;if(e<=1||r===null)return i;for(let n=0;n<r.length;n++)if(r[n]<=e){i=r[n];break}return i===1&&(i=je.NONE),i}blit(e,r,i){const{current:n,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!n)return;const l=n.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const c=n.colorTextures[0];if(!c)return;l.blitFramebuffer||(l.blitFramebuffer=new gh(n.width,n.height),l.blitFramebuffer.addColorTexture(0,c)),e=l.blitFramebuffer,e.colorTextures[0]!==c&&(e.colorTextures[0]=c,e.dirtyId++,e.dirtyFormat++),(e.width!==n.width||e.height!==n.height)&&(e.width=n.width,e.height=n.height,e.dirtyId++,e.dirtySize++)}r||(r=dM,r.width=n.width,r.height=n.height),i||(i=r);const u=r.width===i.width&&r.height===i.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,i.left,i.top,i.right,i.bottom,o.COLOR_BUFFER_BIT,u?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const i=e.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(!i)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(n.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&n.deleteRenderbuffer(i.msaaBuffer),i.stencil&&n.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&this.disposeFramebuffer(i.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let i=0;i<r.length;i++)this.disposeFramebuffer(r[i],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const i=e.width,n=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let a,l;this.renderer.context.webGLVersion===1?(a=s.DEPTH_STENCIL_ATTACHMENT,l=s.DEPTH_STENCIL):e.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,l=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,l=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,l,i,n):s.renderbufferStorage(s.RENDERBUFFER,l,i,n),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new ce}destroy(){this.renderer=null}}S_.extension={type:G.RendererSystem,name:"framebuffer"};Z.add(S_);const Ju={5126:4,5123:2,5121:1};class A_{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let i=this.renderer.context.extensions.vertexArrayObject;X.PREFER_ENV===mn.WEBGL_LEGACY&&(i=null),i?(e.createVertexArray=()=>i.createVertexArrayOES(),e.bindVertexArray=n=>i.bindVertexArrayOES(n),e.deleteVertexArray=n=>i.deleteVertexArrayOES(n)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=(n,s)=>i.vertexAttribDivisorANGLE(n,s),e.drawElementsInstanced=(n,s,o,a,l)=>i.drawElementsInstancedANGLE(n,s,o,a,l),e.drawArraysInstanced=(n,s,o,a)=>i.drawArraysInstancedANGLE(n,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:i}=this;let n=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;n||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=n={},s=!0);const o=n[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?i.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let i=0;i<e.buffers.length;i++){const n=e.buffers[i];r.update(n)}}checkCompatibility(e,r){const i=e.attributes,n=r.attributeData;for(const s in n)if(!i[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const i=e.attributes,n=r.attributeData,s=["g",e.id];for(const o in i)n[o]&&s.push(o,n[o].location);return s.join("-")}initGeometryVao(e,r,i=!0){const n=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const l=this.getSignature(e,a),u=e.glVertexArrayObjects[this.CONTEXT_UID];let c=u[l];if(c)return u[a.id]=c,c;const h=e.buffers,d=e.attributes,f={},p={};for(const m in h)f[m]=0,p[m]=0;for(const m in d)!d[m].size&&a.attributeData[m]?d[m].size=a.attributeData[m].size:d[m].size||console.warn(`PIXI Geometry attribute '${m}' size cannot be determined (likely the bound shader does not have the attribute)`),f[d[m].buffer]+=d[m].size*Ju[d[m].type];for(const m in d){const g=d[m],v=g.size;g.stride===void 0&&(f[g.buffer]===v*Ju[g.type]?g.stride=0:g.stride=f[g.buffer]),g.start===void 0&&(g.start=p[g.buffer],p[g.buffer]+=v*Ju[g.type])}c=n.createVertexArray(),n.bindVertexArray(c);for(let m=0;m<h.length;m++){const g=h[m];o.bind(g),i&&g._glBuffers[s].refCount++}return this.activateVao(e,a),u[a.id]=c,u[l]=c,n.bindVertexArray(null),o.unbind(xr.ARRAY_BUFFER),c}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const i=e.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!i){if(o)for(let l=0;l<s.length;l++){const u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&o.dispose(s[l],r))}if(!r){for(const l in i)if(l[0]==="g"){const u=i[l];this._activeVao===u&&this.unbind(),n.deleteVertexArray(u)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let i=0;i<r.length;i++)this.disposeGeometry(this.managedGeometries[r[i]],e)}activateVao(e,r){const i=this.gl,n=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const u in a){const c=a[u],h=o[c.buffer],d=h._glBuffers[n];if(r.attributeData[u]){l!==d&&(s.bind(h),l=d);const f=r.attributeData[u].location;if(i.enableVertexAttribArray(f),i.vertexAttribPointer(f,c.size,c.type||i.FLOAT,c.normalized,c.stride,c.start),c.instance)if(this.hasInstance)i.vertexAttribDivisor(f,c.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,i,n){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,l,(i||0)*a,n||1):s.drawElements(e,r||o.indexBuffer.data.length,l,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,i,r||o.getSize(),n||1):s.drawArrays(e,i,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}A_.extension={type:G.RendererSystem,name:"geometry"};Z.add(A_);const pm=new Me;class E_{constructor(e,r){this._texture=e,this.mapCoord=new Me,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const i=this.mapCoord;for(let n=0;n<e.length;n+=2){const s=e[n],o=e[n+1];r[n]=s*i.a+o*i.c+i.tx,r[n+1]=s*i.b+o*i.d+i.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const i=r._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const n=r.orig,s=r.trim;s&&(pm.set(n.width/s.width,0,0,n.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(pm));const o=r.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(r._frame.x+l+u)/o.width,a[1]=(r._frame.y+l+u)/o.height,a[2]=(r._frame.x+r._frame.width-l+u)/o.width,a[3]=(r._frame.y+r._frame.height-l+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var fM=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,pM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class mM extends dt{constructor(e,r,i){let n=null;typeof e!="string"&&r===void 0&&i===void 0&&(n=e,e=void 0,r=void 0,i=void 0),super(e||pM,r||fM,i),this.maskSprite=n,this.maskMatrix=new Me}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,i,n){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new E_(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,i,n))}}class gM{constructor(e=null){this.type=We.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=dt.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=We.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class C_{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let i=r;if(!i.isMaskData){const s=this.maskDataPool.pop()||new gM;s.pooled=!0,s.maskObject=r,i=s}const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(n),i._colorMask=n?n._colorMask:15,i.autoDetect&&this.detect(i),i._target=e,i.type!==We.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case We.SCISSOR:this.renderer.scissor.push(i);break;case We.STENCIL:this.renderer.stencil.push(i);break;case We.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i);break;case We.COLOR:this.pushColorMask(i);break}i.type===We.SPRITE&&this.maskStack.push(i)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case We.SCISSOR:this.renderer.scissor.pop(r);break;case We.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case We.SPRITE:this.popSpriteMask(r);break;case We.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const i=this.maskStack[this.maskStack.length-1];i.type===We.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=We.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=We.SCISSOR:e.type=We.STENCIL:e.type=We.COLOR}pushSpriteMask(e){const{maskObject:r}=e,i=e._target;let n=e._filters;n||(n=this.alphaMaskPool[this.alphaMaskIndex],n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new mM])),n[0].resolution=e.resolution,n[0].multisample=e.multisample,n[0].maskSprite=r;const s=i.filterArea;i.filterArea=r.getBounds(!0),this.renderer.filter.push(i,n),i.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,i=e._colorMask=r&e.colorMask;i!==r&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}popColorMask(e){const r=e._colorMask,i=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;i!==r&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}destroy(){this.renderer=null}}C_.extension={type:G.RendererSystem,name:"mask"};Z.add(C_);class P_{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,i=this.getStackLength();this.maskStack=e;const n=this.getStackLength();n!==i&&(n===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const mm=new Me,gm=[],k_=class Ma extends P_{constructor(e){super(e),this.glConst=X.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:i}=e,{renderer:n}=this,s=n.renderTexture,o=i.getBounds(!0,gm.pop()??new ce);this.roundFrameToPixels(o,s.current?s.current.resolution:n.resolution,s.sourceFrame,s.destinationFrame,n.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:i,c:n,d:s}=e;return(Math.abs(i)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||Ma.isMatrixRotated(r.worldTransform)||Ma.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const i=e._scissorRectLocal;return i.width>0&&i.height>0}roundFrameToPixels(e,r,i,n,s){Ma.isMatrixRotated(s)||(s=s?mm.copyFrom(s):mm.identity(),s.translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.renderer.filter.transformAABB(s,e),e.fit(n),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&gm.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};k_.extension={type:G.RendererSystem,name:"scissor"};let yM=k_;Z.add(yM);class M_ extends P_{constructor(e){super(e),this.glConst=X.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:i}=this.renderer,n=e._stencilCounter;n===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,n,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,i.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,n=i?i._colorMask:15;n!==0&&(i._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,n!==0&&(i._colorMask=n,r.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}M_.extension={type:G.RendererSystem,name:"stencil"};Z.add(M_);class $_{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return pe("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return pe("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return pe("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}$_.extension={type:[G.RendererSystem,G.CanvasRendererSystem],name:"_plugin"};Z.add($_);class R_{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Me,this.transform=null}update(e,r,i,n){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,n),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,i,n){const s=this.projectionMatrix,o=n?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}R_.extension={type:G.RendererSystem,name:"projection"};Z.add(R_);const vM=new Xd,ym=new ce;class I_{constructor(e){this.renderer=e,this._tempMatrix=new Me}generateTexture(e,r){const{region:i,...n}=r||{},s=(i==null?void 0:i.copyTo(ym))||e.getLocalBounds(ym,!0),o=n.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),n.width=s.width,n.height=s.height,n.resolution=o,n.multisample??(n.multisample=this.renderer.multisample);const a=yn.create(n);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const l=e.transform;return e.transform=vM,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=l,a}destroy(){}}I_.extension={type:[G.RendererSystem,G.CanvasRendererSystem],name:"textureGenerator"};Z.add(I_);const Fi=new ce,xs=new ce;class O_{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new ce,this.destinationFrame=new ce,this.viewportFrame=new ce}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,i){const n=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(Fi.width=e.frame.width,Fi.height=e.frame.height,r=Fi),i||(xs.x=e.frame.x,xs.y=e.frame.y,xs.width=r.width,xs.height=r.height,i=xs),o=s.framebuffer):(a=n.resolution,r||(Fi.width=n._view.screen.width,Fi.height=n._view.screen.height,r=Fi),i||(i=Fi,i.width=r.width,i.height=r.height));const l=this.viewportFrame;l.x=i.x*a,l.y=i.y*a,l.width=i.width*a,l.height=i.height*a,e||(l.y=n.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(i,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(i)}clear(e,r){const i=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,n=ke.shared.setValue(e||i);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&n.premultiply(n.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:l,y:u,width:c,height:h}=this.viewportFrame;l=Math.round(l),u=Math.round(u),c=Math.round(c),h=Math.round(h),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(l,u,c,h)}this.renderer.framebuffer.clear(n.red,n.green,n.blue,n.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}O_.extension={type:G.RendererSystem,name:"renderTexture"};Z.add(O_);class _M{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function bM(t,e){const r={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let n=0;n<i;n++){const s=e.getActiveAttrib(t,n);if(s.name.startsWith("gl_"))continue;const o=y_(e,s.type),a={type:o,name:s.name,size:g_(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function xM(t,e){const r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let n=0;n<i;n++){const s=e.getActiveUniform(t,n),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=y_(e,s.type);r[o]={name:o,index:n,type:l,size:s.size,isArray:a,value:p_(l,s.size)}}return r}function wM(t,e){var a;const r=lm(t,t.VERTEX_SHADER,e.vertexSrc),i=lm(t,t.FRAGMENT_SHADER,e.fragmentSrc),n=t.createProgram();t.attachShader(n,r),t.attachShader(n,i);const s=(a=e.extra)==null?void 0:a.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(n,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)||Zk(t,n,r,i),e.attributeData=bM(n,t),e.uniformData=xM(n,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const l=Object.keys(e.attributeData);l.sort((u,c)=>u>c?1:-1);for(let u=0;u<l.length;u++)e.attributeData[l[u]].location=u,t.bindAttribLocation(n,u,l[u]);t.linkProgram(n)}t.deleteShader(r),t.deleteShader(i);const o={};for(const l in e.uniformData){const u=e.uniformData[l];o[l]={location:t.getUniformLocation(n,l),value:p_(u.type,u.size)}}return new _M(n,o)}function TM(t,e,r,i,n){r.buffer.update(n)}const SM={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},L_={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function AM(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,i=0,n=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=L_[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,i%r!==0&&i<16){const a=i%r%16;i+=a,n+=a}i+r>16?(n=Math.ceil(n/16)*16,o.offset=n,n+=r,i=r):(o.offset=n,i+=r,n+=r)}return n=Math.ceil(n/16)*16,{uboElements:e,size:n}}function EM(t,e){const r=[];for(const i in t)e[i]&&r.push(e[i]);return r.sort((i,n)=>i.index-n.index),r}function CM(t,e){if(!t.autoManage)return{size:0,syncFunc:TM};const r=EM(t.uniforms,e),{uboElements:i,size:n}=AM(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<i.length;o++){const a=i[o],l=t.uniforms[a.data.name],u=a.data.name;let c=!1;for(let h=0;h<Yn.length;h++){const d=Yn[h];if(d.codeUbo&&d.test(a.data,l)){s.push(`offset = ${a.offset/4};`,Yn[h].codeUbo(a.data.name,l)),c=!0;break}}if(!c)if(a.data.size>1){const h=g_(a.data.type),d=Math.max(L_[a.data.type]/16,1),f=h/d,p=(4-f%4)%4;s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*d}; i++)
                {
                    for(var j = 0; j < ${f}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${p};
                }

                `)}else{const h=SM[a.data.type];s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};
                ${h};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:n,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let PM=0;const ra={textureCount:0,uboCount:0};class D_{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=PM++}systemCheck(){if(!Qk())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const i=e.program,n=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==i&&(this.program=i,this.gl.useProgram(n.program)),r||(ra.textureCount=0,ra.uboCount=0,this.syncUniformGroup(e.uniformGroup,ra)),n}setUniforms(e){const r=this.shader.program,i=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(i.uniformData,e,this.renderer)}syncUniformGroup(e,r){const i=this.getGlProgram();(!e.static||e.dirtyId!==i.uniformDirtyGroups[e.id])&&(i.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,i,r))}syncUniforms(e,r,i){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,i)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=Yk(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const i=this.getGlProgram();if(!e.static||e.dirtyId!==0||!i.uniformGroups[e.id]){e.dirtyId=0;const n=i.uniformGroups[e.id]||this.createSyncBufferGroup(e,i,r);e.buffer.update(),n(i.uniformData,e.uniforms,this.renderer,ra,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,i.uniformBufferBindings[r])}createSyncBufferGroup(e,r,i){const{gl:n}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,i);r.uniformBufferBindings[i]=this.shader.uniformBindCount,n.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=CM(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,i){const n=e.uniforms,s=[`${i}-`];for(const o in n)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,i=e.program,n=wM(r,i);return i.glPrograms[this.renderer.CONTEXT_UID]=n,n}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}D_.extension={type:G.RendererSystem,name:"shader"};Z.add(D_);class el{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.4.3 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}el.defaultOptions={hello:!1},el.extension={type:[G.RendererSystem,G.CanvasRendererSystem],name:"startup"};Z.add(el);function kM(t,e=[]){return e[re.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[re.ADD]=[t.ONE,t.ONE],e[re.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[re.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[re.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[re.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[re.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[re.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[re.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[re.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[re.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[re.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[re.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[re.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[re.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[re.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[re.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[re.NONE]=[0,0],e[re.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[re.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[re.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[re.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[re.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[re.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[re.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[re.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[re.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[re.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[re.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[re.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const MM=0,$M=1,RM=2,IM=3,OM=4,LM=5,B_=class yh{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=re.NONE,this._blendEq=!1,this.map=[],this.map[MM]=this.setBlend,this.map[$M]=this.setOffset,this.map[RM]=this.setCullFace,this.map[IM]=this.setDepthTest,this.map[OM]=this.setFrontFace,this.map[LM]=this.setDepthMask,this.checks=[],this.defaultState=new Rr,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=kM(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,i=0;for(;r;)r&1&&this.map[i].call(this,!!(e.data&1<<i)),r=r>>1,i++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(yh.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(yh.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],i=this.gl;r.length===2?i.blendFunc(r[0],r[1]):i.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,i.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const i=this.checks.indexOf(e);r&&i===-1?this.checks.push(e):!r&&i!==-1&&this.checks.splice(i,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};B_.extension={type:G.RendererSystem,name:"state"};let DM=B_;Z.add(DM);class BM extends Co{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(n=>e.systems[n]),i=[...r,...Object.keys(e.systems).filter(n=>!r.includes(n))];for(const n of i)this.addSystem(e.systems[n],n)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Qt(r)})}addSystem(e,r){const i=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=i,this._systemsHash[r]=i;for(const n in this.runners)this.runners[n].add(i);return this}emitWithCustomOptions(e,r){const i=Object.keys(this._systemsHash);e.items.forEach(n=>{const s=i.find(o=>this._systemsHash[o]===n);n[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const $s=class $a{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=$a.defaultMaxIdle,this.checkCountMax=$a.defaultCheckCountMax,this.mode=$a.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Nd.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let i=!1;for(let n=0;n<r.length;n++){const s=r[n];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[n]=null,i=!0)}if(i){let n=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[n++]=r[s]);r.length=n}}unload(e){const r=this.renderer.texture,i=e._texture;i&&!i.framebuffer&&r.destroyTexture(i);for(let n=e.children.length-1;n>=0;n--)this.unload(e.children[n])}destroy(){this.renderer=null}};$s.defaultMode=Nd.AUTO,$s.defaultMaxIdle=60*60,$s.defaultCheckCountMax=60*10,$s.extension={type:G.RendererSystem,name:"textureGC"};let Wi=$s;Z.add(Wi);class Qu{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ee.UNSIGNED_BYTE,this.internalFormat=F.RGBA,this.samplerType=0}}function FM(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:W.FLOAT,[t.RGBA]:W.FLOAT,[t.ALPHA]:W.FLOAT,[t.LUMINANCE]:W.FLOAT,[t.LUMINANCE_ALPHA]:W.FLOAT,[t.R8]:W.FLOAT,[t.R8_SNORM]:W.FLOAT,[t.RG8]:W.FLOAT,[t.RG8_SNORM]:W.FLOAT,[t.RGB8]:W.FLOAT,[t.RGB8_SNORM]:W.FLOAT,[t.RGB565]:W.FLOAT,[t.RGBA4]:W.FLOAT,[t.RGB5_A1]:W.FLOAT,[t.RGBA8]:W.FLOAT,[t.RGBA8_SNORM]:W.FLOAT,[t.RGB10_A2]:W.FLOAT,[t.RGB10_A2UI]:W.FLOAT,[t.SRGB8]:W.FLOAT,[t.SRGB8_ALPHA8]:W.FLOAT,[t.R16F]:W.FLOAT,[t.RG16F]:W.FLOAT,[t.RGB16F]:W.FLOAT,[t.RGBA16F]:W.FLOAT,[t.R32F]:W.FLOAT,[t.RG32F]:W.FLOAT,[t.RGB32F]:W.FLOAT,[t.RGBA32F]:W.FLOAT,[t.R11F_G11F_B10F]:W.FLOAT,[t.RGB9_E5]:W.FLOAT,[t.R8I]:W.INT,[t.R8UI]:W.UINT,[t.R16I]:W.INT,[t.R16UI]:W.UINT,[t.R32I]:W.INT,[t.R32UI]:W.UINT,[t.RG8I]:W.INT,[t.RG8UI]:W.UINT,[t.RG16I]:W.INT,[t.RG16UI]:W.UINT,[t.RG32I]:W.INT,[t.RG32UI]:W.UINT,[t.RGB8I]:W.INT,[t.RGB8UI]:W.UINT,[t.RGB16I]:W.INT,[t.RGB16UI]:W.UINT,[t.RGB32I]:W.INT,[t.RGB32UI]:W.UINT,[t.RGBA8I]:W.INT,[t.RGBA8UI]:W.UINT,[t.RGBA16I]:W.INT,[t.RGBA16UI]:W.UINT,[t.RGBA32I]:W.INT,[t.RGBA32UI]:W.UINT,[t.DEPTH_COMPONENT16]:W.FLOAT,[t.DEPTH_COMPONENT24]:W.FLOAT,[t.DEPTH_COMPONENT32F]:W.FLOAT,[t.DEPTH_STENCIL]:W.FLOAT,[t.DEPTH24_STENCIL8]:W.FLOAT,[t.DEPTH32F_STENCIL8]:W.FLOAT}:e={[t.RGB]:W.FLOAT,[t.RGBA]:W.FLOAT,[t.ALPHA]:W.FLOAT,[t.LUMINANCE]:W.FLOAT,[t.LUMINANCE_ALPHA]:W.FLOAT,[t.DEPTH_STENCIL]:W.FLOAT},e}function NM(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ee.UNSIGNED_BYTE]:{[F.RGBA]:t.RGBA8,[F.RGB]:t.RGB8,[F.RG]:t.RG8,[F.RED]:t.R8,[F.RGBA_INTEGER]:t.RGBA8UI,[F.RGB_INTEGER]:t.RGB8UI,[F.RG_INTEGER]:t.RG8UI,[F.RED_INTEGER]:t.R8UI,[F.ALPHA]:t.ALPHA,[F.LUMINANCE]:t.LUMINANCE,[F.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ee.BYTE]:{[F.RGBA]:t.RGBA8_SNORM,[F.RGB]:t.RGB8_SNORM,[F.RG]:t.RG8_SNORM,[F.RED]:t.R8_SNORM,[F.RGBA_INTEGER]:t.RGBA8I,[F.RGB_INTEGER]:t.RGB8I,[F.RG_INTEGER]:t.RG8I,[F.RED_INTEGER]:t.R8I},[ee.UNSIGNED_SHORT]:{[F.RGBA_INTEGER]:t.RGBA16UI,[F.RGB_INTEGER]:t.RGB16UI,[F.RG_INTEGER]:t.RG16UI,[F.RED_INTEGER]:t.R16UI,[F.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ee.SHORT]:{[F.RGBA_INTEGER]:t.RGBA16I,[F.RGB_INTEGER]:t.RGB16I,[F.RG_INTEGER]:t.RG16I,[F.RED_INTEGER]:t.R16I},[ee.UNSIGNED_INT]:{[F.RGBA_INTEGER]:t.RGBA32UI,[F.RGB_INTEGER]:t.RGB32UI,[F.RG_INTEGER]:t.RG32UI,[F.RED_INTEGER]:t.R32UI,[F.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ee.INT]:{[F.RGBA_INTEGER]:t.RGBA32I,[F.RGB_INTEGER]:t.RGB32I,[F.RG_INTEGER]:t.RG32I,[F.RED_INTEGER]:t.R32I},[ee.FLOAT]:{[F.RGBA]:t.RGBA32F,[F.RGB]:t.RGB32F,[F.RG]:t.RG32F,[F.RED]:t.R32F,[F.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ee.HALF_FLOAT]:{[F.RGBA]:t.RGBA16F,[F.RGB]:t.RGB16F,[F.RG]:t.RG16F,[F.RED]:t.R16F},[ee.UNSIGNED_SHORT_5_6_5]:{[F.RGB]:t.RGB565},[ee.UNSIGNED_SHORT_4_4_4_4]:{[F.RGBA]:t.RGBA4},[ee.UNSIGNED_SHORT_5_5_5_1]:{[F.RGBA]:t.RGB5_A1},[ee.UNSIGNED_INT_2_10_10_10_REV]:{[F.RGBA]:t.RGB10_A2,[F.RGBA_INTEGER]:t.RGB10_A2UI},[ee.UNSIGNED_INT_10F_11F_11F_REV]:{[F.RGB]:t.R11F_G11F_B10F},[ee.UNSIGNED_INT_5_9_9_9_REV]:{[F.RGB]:t.RGB9_E5},[ee.UNSIGNED_INT_24_8]:{[F.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ee.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[F.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ee.UNSIGNED_BYTE]:{[F.RGBA]:t.RGBA,[F.RGB]:t.RGB,[F.ALPHA]:t.ALPHA,[F.LUMINANCE]:t.LUMINANCE,[F.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ee.UNSIGNED_SHORT_5_6_5]:{[F.RGB]:t.RGB},[ee.UNSIGNED_SHORT_4_4_4_4]:{[F.RGBA]:t.RGBA},[ee.UNSIGNED_SHORT_5_5_5_1]:{[F.RGBA]:t.RGBA}},e}class F_{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new le,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=NM(e),this.samplerTypes=FM(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};const i=new Qu(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Qu(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let n=0;n<this.boundTextures.length;n++)this.bind(null,n)}bind(e,r=0){const{gl:i}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const n=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(e.target,n.texture)),n.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),this.updateTexture(e)):n.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:i}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let n=0;n<i.length;n++)i[n]===this.unknownTexture&&this.bind(null,n)}for(let n=0;n<i.length;n++)i[n]===e&&(this.currentLocation!==n&&(r.activeTexture(r.TEXTURE0+n),this.currentLocation=n),r.bindTexture(e.target,this.emptyTextures[e.target].texture),i[n]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:i,CONTEXT_UID:n}=this;if(i)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[n].samplerType!==W.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new Qu(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var i;r.internalFormat=((i=this.internalFormats[e.type])==null?void 0:i[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??W.FLOAT,this.webGLVersion===2&&e.type===ee.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var n;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const i=this.renderer;if(this.initTextureType(e,r),(n=e.resource)==null?void 0:n.upload(i,e,r))r.samplerType!==W.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=i.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:i}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),i.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const n=this.managedTextures.indexOf(e);n!==-1&&Xn(this.managedTextures,n,1)}}updateTextureStyle(e){var i;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Cr.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=_i.CLAMP:r.wrapMode=e.wrapMode,(i=e.resource)!=null&&i.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const i=this.gl;if(r.mipmap&&e.mipmap!==Cr.ON_MANUAL&&i.generateMipmap(e.target),i.texParameteri(e.target,i.TEXTURE_WRAP_S,r.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===Nr.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);const n=this.renderer.context.extensions.anisotropicFiltering;if(n&&e.anisotropicLevel>0&&e.scaleMode===Nr.LINEAR){const s=Math.min(e.anisotropicLevel,i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(e.target,n.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===Nr.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,e.scaleMode===Nr.LINEAR?i.LINEAR:i.NEAREST)}destroy(){this.renderer=null}}F_.extension={type:G.RendererSystem,name:"texture"};Z.add(F_);class N_{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glTransformFeedbacks[i]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,n)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:i,renderer:n}=this;r&&n.shader.bind(r),i.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:i,CONTEXT_UID:n}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[n]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(i.buffer.update(a),a._glBuffers[n].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[n].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const i=e._glTransformFeedbacks[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(a,r))}i&&(r||n.deleteTransformFeedback(i),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}N_.extension={type:G.RendererSystem,name:"transformFeedback"};Z.add(N_);class tl{constructor(e){this.renderer=e}init(e){this.screen=new ce(0,0,e.width,e.height),this.element=e.view||X.ADAPTER.createCanvas(),this.resolution=e.resolution||X.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const i=this.element.width/this.resolution,n=this.element.height/this.resolution;this.screen.width=i,this.screen.height=n,this.autoDensity&&(this.element.style.width=`${i}px`,this.element.style.height=`${n}px`),this.renderer.emit("resize",i,n),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}tl.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},tl.extension={type:[G.RendererSystem,G.CanvasRendererSystem],name:"_view"};Z.add(tl);X.PREFER_ENV=mn.WEBGL2;X.STRICT_TEXTURE_CACHE=!1;X.RENDER_OPTIONS={...Qa.defaultOptions,...Ja.defaultOptions,...tl.defaultOptions,...el.defaultOptions};Object.defineProperties(X,{WRAP_MODE:{get(){return le.defaultOptions.wrapMode},set(t){pe("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),le.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return le.defaultOptions.scaleMode},set(t){pe("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),le.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return le.defaultOptions.mipmap},set(t){pe("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),le.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return le.defaultOptions.anisotropicLevel},set(t){pe("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),le.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return pe("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),dt.defaultResolution},set(t){dt.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return pe("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),dt.defaultMultisample},set(t){dt.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Vi.defaultMaxTextures},set(t){pe("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Vi.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Vi.defaultBatchSize},set(t){pe("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Vi.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Vi.canUploadSameBuffer},set(t){pe("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Vi.canUploadSameBuffer=t}},GC_MODE:{get(){return Wi.defaultMode},set(t){pe("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Wi.defaultMode=t}},GC_MAX_IDLE:{get(){return Wi.defaultMaxIdle},set(t){pe("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Wi.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Wi.defaultCheckCountMax},set(t){pe("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Wi.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return zr.defaultVertexPrecision},set(t){pe("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),zr.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return zr.defaultFragmentPrecision},set(t){pe("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),zr.defaultFragmentPrecision=t}}});var cn=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(cn||{});class ec{constructor(e,r=null,i=0,n=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=i,this.once=n}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const U_=class bt{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new ec(null,null,1/0),this.deltaMS=1/bt.targetFPMS,this.elapsedMS=1/bt.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,i=cn.NORMAL){return this._addListener(new ec(e,r,i))}addOnce(e,r,i=cn.NORMAL){return this._addListener(new ec(e,r,i,!0))}_addListener(e){let r=this._head.next,i=this._head;if(!r)e.connect(i);else{for(;r;){if(e.priority>r.priority){e.connect(i);break}i=r,r=r.next}e.previous||e.connect(i)}return this._startIfPossible(),this}remove(e,r){let i=this._head.next;for(;i;)i.match(e,r)?i=i.destroy():i=i.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*bt.targetFPMS;const i=this._head;let n=i.next;for(;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),i=Math.min(Math.max(0,r)/1e3,bt.targetFPMS);this._maxElapsedMS=1/i}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!bt._shared){const e=bt._shared=new bt;e.autoStart=!0,e._protected=!0}return bt._shared}static get system(){if(!bt._system){const e=bt._system=new bt;e.autoStart=!0,e._protected=!0}return bt._system}};U_.targetFPMS=.06;let wt=U_;Object.defineProperties(X,{TARGET_FPMS:{get(){return wt.targetFPMS},set(t){pe("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),wt.targetFPMS=t}}});class H_{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,cn.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?wt.shared:new wt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}H_.extension=G.Application;Z.add(H_);const z_=[];Z.handleByList(G.Renderer,z_);function UM(t){for(const e of z_)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var HM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,zM=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const jM=HM,j_=zM;class G_{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const i=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,i)}else{const i=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,i)}r>=je.HIGH?this.multisample=je.HIGH:r>=je.MEDIUM?this.multisample=je.MEDIUM:r>=je.LOW?this.multisample=je.LOW:this.multisample=je.NONE}destroy(){}}G_.extension={type:G.RendererSystem,name:"_multisample"};Z.add(G_);class GM{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class V_{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glBuffers[i]||this.createGLBuffer(e);r.bindBuffer(e.type,n.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:i,CONTEXT_UID:n}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[n]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,i){const{gl:n,CONTEXT_UID:s}=this;i=i||0;const o=e._glBuffers[s]||this.createGLBuffer(e);n.bindBufferRange(n.UNIFORM_BUFFER,r||0,o.buffer,i*256,256)}update(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glBuffers[i]||this.createGLBuffer(e);if(e._updateID!==n.updateID)if(n.updateID=e._updateID,r.bindBuffer(e.type,n.buffer),n.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;n.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const i=e._glBuffers[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this),i&&(r||n.deleteBuffer(i.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let i=0;i<r.length;i++)this.dispose(this.managedBuffers[r[i]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:i}=this;return e._glBuffers[r]=new GM(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}V_.extension={type:G.RendererSystem,name:"buffer"};Z.add(V_);class W_{constructor(e){this.renderer=e}render(e,r){const i=this.renderer;let n,s,o,a;if(r&&(n=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!n,i.runners.prerender.emit(),i.emit("prerender"),i.projection.transform=o,!i.context.isLost){if(n||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}i.renderTexture.bind(n),i.batch.currentRenderer.start(),(s??i.background.clearBeforeRender)&&i.renderTexture.clear(),e.render(i),i.batch.currentRenderer.flush(),n&&(r.blit&&i.framebuffer.blit(),n.baseTexture.update()),i.runners.postrender.emit(),i.projection.transform=null,i.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}W_.extension={type:G.RendererSystem,name:"objectRenderer"};Z.add(W_);const Ra=class vh extends BM{constructor(e){super(),this.type=Pv.WEBGL,e=Object.assign({},X.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new er({projectionMatrix:new Me},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:vh.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(pe("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=vh.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:fk()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return pe("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return pe("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return pe("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return pe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){pe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return pe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){pe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return pe("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};Ra.extension={type:G.Renderer,priority:1},Ra.__plugins={},Ra.__systems={};let qd=Ra;Z.handleByMap(G.RendererPlugin,qd.__plugins);Z.handleByMap(G.RendererSystem,qd.__systems);Z.add(qd);class X_ extends so{constructor(e,r){const{width:i,height:n}=r||{};super(i,n),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new le;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let i=0;i<this.length;i++)e[i]&&(e[i].castToBaseTexture?this.addBaseTextureAt(e[i].castToBaseTexture(),i):e[i]instanceof so?this.addResourceAt(e[i],i):this.addResourceAt(c_(e[i],r),i))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),this.update(),Promise.resolve(this)}),this._load}}class VM extends X_{constructor(e,r){const{width:i,height:n}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:i,height:n}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Gn.TEXTURE_2D_ARRAY}upload(e,r,i){const{length:n,itemDirtyIds:s,items:o}=this,{gl:a}=e;i.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,n,0,r.format,i.type,null);for(let l=0;l<n;l++){const u=o[l];s[l]<u.dirtyId&&(s[l]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,r.format,i.type,u.resource.source))}return!0}}class WM extends Qr{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Y_=class Rs extends X_{constructor(e,r){const{width:i,height:n,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==Rs.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:i,height:n});for(let a=0;a<Rs.SIDES;a++)this.items[a].target=Gn.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=Gn.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,i){if(i===void 0&&(i=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=Gn.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,i){const n=this.itemDirtyIds;for(let s=0;s<Rs.SIDES;s++){const o=this.items[s];(n[s]<o.dirtyId||i.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,i),n[s]=o.dirtyId):n[s]<-1&&(e.gl.texImage2D(o.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null),n[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===Rs.SIDES}};Y_.SIDES=6;let XM=Y_;class Hn extends Qr{constructor(e,r){r=r||{};let i,n,s;typeof e=="string"?(i=Hn.EMPTY,n=e,s=!0):(i=e,n=null,s=!1),super(i),this.url=n,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const i=await X.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const n=await i.blob();if(this.destroyed)return;const s=await createImageBitmap(n,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===mt.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(i){if(this.destroyed)return;r(i),this.onError.emit(i)}}),this._load)}upload(e,r,i){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,i)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Hn._EMPTY=Hn._EMPTY??X.ADAPTER.createCanvas(0,0),Hn._EMPTY}}const _h=class Ia extends Qr{constructor(e,r){r=r||{},super(X.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Ia.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;Qr.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,i=e.height;if(!r||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=r*this.scale,s=i*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/i*r,s=this._overrideHeight||this._overrideWidth/r*i),n=Math.round(n),s=Math.round(s);const o=this.source;o.width=n,o.height=s,o._pixiId=`canvas_${un()}`,o.getContext("2d").drawImage(e,0,0,r,i,0,0,n,s),this._resolve(),this._resolve=null}}static getSize(e){const r=Ia.SVG_SIZE.exec(e),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Ia.SVG_XML.test(e)}};_h.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,_h.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let bh=_h;class YM extends Qr{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const xh=class wh extends Qr{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const i=document.createElement("video");r.autoLoad!==!1&&i.setAttribute("preload","auto"),r.playsinline!==!1&&(i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","")),r.muted===!0&&(i.setAttribute("muted",""),i.muted=!0),r.loop===!0&&i.setAttribute("loop",""),r.autoPlay!==!1&&i.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const n=e[0].src||e[0];Qr.crossOrigin(i,n,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:a,mime:l}=e[s];if(a=a||e[s],a.startsWith("data:"))l=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const u=a.split("?").shift().toLowerCase(),c=u.slice(u.lastIndexOf(".")+1);l=l||wh.MIME_TYPES[c]||`video/${c}`}o.src=a,l&&(o.type=l),i.appendChild(o)}e=i}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=wt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,i)=>{this.valid?r(this):(this._resolve=r,this._reject=i,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(wt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(wt.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(wt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||wh.TYPES.includes(r)}};xh.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],xh.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let q_=xh;lh.push(Hn,b_,WM,q_,YM,bh,Ul,XM,VM);class rl{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?ce.EMPTY:(e=e||new ce(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:i,b:n,c:s,d:o,tx:a,ty:l}=e,u=i*r.x+s*r.y+a,c=n*r.x+o*r.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)}addQuad(e){let r=this.minX,i=this.minY,n=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,i=a<i?a:i,n=o>n?o:n,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,i=a<i?a:i,n=o>n?o:n,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,i=a<i?a:i,n=o>n?o:n,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,i=a<i?a:i,n=o>n?o:n,s=a>s?a:s,this.minX=r,this.minY=i,this.maxX=n,this.maxY=s}addFrame(e,r,i,n,s){this.addFrameMatrix(e.worldTransform,r,i,n,s)}addFrameMatrix(e,r,i,n,s){const o=e.a,a=e.b,l=e.c,u=e.d,c=e.tx,h=e.ty;let d=this.minX,f=this.minY,p=this.maxX,m=this.maxY,g=o*r+l*i+c,v=a*r+u*i+h;d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,g=o*n+l*i+c,v=a*n+u*i+h,d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,g=o*r+l*s+c,v=a*r+u*s+h,d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,g=o*n+l*s+c,v=a*n+u*s+h,d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,this.minX=d,this.minY=f,this.maxX=p,this.maxY=m}addVertexData(e,r,i){let n=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=r;l<i;l+=2){const u=e[l],c=e[l+1];n=u<n?u:n,s=c<s?c:s,o=u>o?u:o,a=c>a?c:a}this.minX=n,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,i,n){this.addVerticesMatrix(e.worldTransform,r,i,n)}addVerticesMatrix(e,r,i,n,s=0,o=s){const a=e.a,l=e.b,u=e.c,c=e.d,h=e.tx,d=e.ty;let f=this.minX,p=this.minY,m=this.maxX,g=this.maxY;for(let v=i;v<n;v+=2){const _=r[v],y=r[v+1],w=a*_+u*y+h,S=c*y+l*_+d;f=Math.min(f,w-s),m=Math.max(m,w+s),p=Math.min(p,S-o),g=Math.max(g,S+o)}this.minX=f,this.minY=p,this.maxX=m,this.maxY=g}addBounds(e){const r=this.minX,i=this.minY,n=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<i?e.minY:i,this.maxX=e.maxX>n?e.maxX:n,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const i=e.minX>r.minX?e.minX:r.minX,n=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(i<=s&&n<=o){const a=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=i<a?i:a,this.minY=n<l?n:l,this.maxX=s>u?s:u,this.maxY=o>c?o:c}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const i=e.minX>r.x?e.minX:r.x,n=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(i<=s&&n<=o){const a=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=i<a?i:a,this.minY=n<l?n:l,this.maxX=s>u?s:u,this.maxY=o>c?o:c}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,i,n,s,o){e-=s,r-=o,i+=s,n+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>n?this.maxY:n}}class De extends Co{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Xd,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new rl,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let i=0;i<r.length;++i){const n=r[i];Object.defineProperty(De.prototype,n,Object.getOwnPropertyDescriptor(e,n))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new ce),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new ce),e=this._localBoundsRect),this._localBounds||(this._localBounds=new rl);const r=this.transform,i=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(i==null?void 0:i.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const n=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=i,this.transform=r,this._bounds=n,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,i=!1){return i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,i,n){return r&&(e=r.toGlobal(e,i,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,i)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,i=1,n=1,s=0,o=0,a=0,l=0,u=0){return this.position.x=e,this.position.y=r,this.scale.x=i||1,this.scale.y=n||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=u,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new qM),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*Hk}set angle(e){this.transform.rotation=e*zk}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class qM extends De{constructor(){super(...arguments),this.sortDirty=null}}De.prototype.displayObjectUpdateTransform=De.prototype.updateTransform;const KM=new Me;function ZM(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const K_=class Th extends De{constructor(){super(),this.children=[],this.sortableChildren=Th.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const i=this.getChildIndex(e),n=this.getChildIndex(r);this.children[i]=r,this.children[n]=e,this.onChildrenChange(i<n?i:n)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const i=this.getChildIndex(e);Xn(this.children,i,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],i=this.children.indexOf(r);if(i===-1)return null;r.parent=null,r.transform._parentID=-1,Xn(this.children,i,1),this._boundsID++,this.onChildrenChange(i),r.emit("removed",this),this.emit("childRemoved",r,this,i)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,Xn(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const i=e,n=r,s=n-i;let o;if(s>0&&s<=n){o=this.children.splice(i,s);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,i=this.children.length;r<i;++r){const n=this.children[r];n._lastSortedIndex=r,!e&&n.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(ZM),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const i=this.children[e];i.visible&&i.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const i=r._mask.isMaskData?r._mask.maskObject:r._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(r._bounds,i._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const i=super.getLocalBounds(e);if(!r)for(let n=0,s=this.children.length;n<s;++n){const o=this.children[n];o.visible&&o.updateTransform()}return i}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let i,n;this.cullArea?(i=this.cullArea,n=this.worldTransform):this._render!==Th.prototype._render&&(i=this.getBounds(!0));const s=e.projection.transform;if(s&&(n?(n=KM.copyFrom(n),n.prepend(s)):n=s),i&&r.intersects(i,n))this._render(e);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const l=this.children[o],u=l.cullable;l.cullable=u||!this.cullArea,l.render(e),l.cullable=u}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let i=0,n=this.children.length;i<n;++i)this.children[i].render(e)}}renderAdvanced(e){var s,o,a;const r=this.filters,i=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let l=0;l<r.length;l++)r[l].enabled&&this._enabledFilters.push(r[l])}const n=r&&((s=this._enabledFilters)==null?void 0:s.length)||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==We.NONE));if(n&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),i&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let l=0,u=this.children.length;l<u;++l)this.children[l].render(e)}n&&e.batch.flush(),i&&e.mask.pop(this),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,i=this.removeChildren(0,this.children.length);if(r)for(let n=0;n<i.length;++n)i[n].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};K_.defaultSortableChildren=!1;let nr=K_;nr.prototype.containerUpdateTransform=nr.prototype.updateTransform;Object.defineProperties(X,{SORTABLE_CHILDREN:{get(){return nr.defaultSortableChildren},set(t){pe("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),nr.defaultSortableChildren=t}}});const ws=new ye,JM=new Uint16Array([0,1,2,0,2,3]);class fs extends nr{constructor(e){super(),this._anchor=new Hr(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new ke(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=re.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||K.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=JM,this.pluginName="batch",this.isSprite=!0,this._roundPixels=X.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=pi(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=pi(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,i=r.a,n=r.b,s=r.c,o=r.d,a=r.tx,l=r.ty,u=this.vertexData,c=e.trim,h=e.orig,d=this._anchor;let f=0,p=0,m=0,g=0;if(c?(p=c.x-d._x*h.width,f=p+c.width,g=c.y-d._y*h.height,m=g+c.height):(p=-d._x*h.width,f=p+h.width,g=-d._y*h.height,m=g+h.height),u[0]=i*p+s*g+a,u[1]=o*g+n*p+l,u[2]=i*f+s*g+a,u[3]=o*g+n*f+l,u[4]=i*f+s*m+a,u[5]=o*m+n*f+l,u[6]=i*p+s*m+a,u[7]=o*m+n*p+l,this._roundPixels){const v=X.RESOLUTION;for(let _=0;_<u.length;++_)u[_]=Math.round(u[_]*v)/v}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,i=e.orig,n=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,u=s.d,c=s.tx,h=s.ty,d=-n._x*i.width,f=d+i.width,p=-n._y*i.height,m=p+i.height;if(r[0]=o*d+l*p+c,r[1]=u*p+a*d+h,r[2]=o*f+l*p+c,r[3]=u*p+a*f+h,r[4]=o*f+l*m+c,r[5]=u*m+a*f+h,r[6]=o*d+l*m+c,r[7]=u*m+a*d+h,this._roundPixels){const g=X.RESOLUTION;for(let v=0;v<r.length;++v)r[v]=Math.round(r[v]*g)/g}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new rl),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ce),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,ws);const r=this._texture.orig.width,i=this._texture.orig.height,n=-r*this.anchor.x;let s=0;return ws.x>=n&&ws.x<n+r&&(s=-i*this.anchor.y,ws.y>=s&&ws.y<s+i)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const i=e instanceof K?e:K.from(e,r);return new fs(i)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=pi(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=pi(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||K.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Z_=new Me;De.prototype._cacheAsBitmap=!1;De.prototype._cacheData=null;De.prototype._cacheAsBitmapResolution=null;De.prototype._cacheAsBitmapMultisample=null;class QM{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(De.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new QM),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});De.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};De.prototype._initCachedDisplayObject=function(t){var d,f;if((d=this._cacheData)!=null&&d.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new ce,!0);if((f=this.filters)!=null&&f.length){const p=this.filters[0].padding;r.pad(p)}const i=this.cacheAsBitmapResolution||t.resolution;r.ceil(i),r.width=Math.max(r.width,1/i),r.height=Math.max(r.height,1/i);const n=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),a=t.projection.transform,l=yn.create({width:r.width,height:r.height,resolution:i,multisample:this.cacheAsBitmapMultisample??t.multisample}),u=`cacheAsBitmap_${un()}`;this._cacheData.textureCacheId=u,le.addToCache(l.baseTexture,u),K.addToCache(l,u);const c=this.transform.localTransform.copyTo(Z_).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:l,clear:!0,transform:c,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=a,t.renderTexture.bind(n,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const h=new fs(l);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=e,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)};De.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};De.prototype._initCachedDisplayObjectCanvas=function(t){var c;if((c=this._cacheData)!=null&&c.sprite)return;const e=this.getLocalBounds(new ce,!0),r=this.alpha;this.alpha=1;const i=t.canvasContext.activeContext,n=t._projTransform,s=this.cacheAsBitmapResolution||t.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=yn.create({width:e.width,height:e.height,resolution:s}),a=`cacheAsBitmap_${un()}`;this._cacheData.textureCacheId=a,le.addToCache(o.baseTexture,a),K.addToCache(o,a);const l=Z_;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=e.x,l.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),t.canvasContext.activeContext=i,t._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const u=new fs(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(e.x/e.width),u.anchor.y=-(e.y/e.height),u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)};De.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};De.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};De.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,le.removeFromCache(this._cacheData.textureCacheId),K.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};De.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};De.prototype.name=null;nr.prototype.getChildByName=function(t,e){for(let r=0,i=this.children.length;r<i;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,i=this.children.length;r<i;r++){const n=this.children[r];if(!n.getChildByName)continue;const s=n.getChildByName(t,!0);if(s)return s}return null};De.prototype.getGlobalPosition=function(t=new ye,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var e$=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class t$ extends dt{constructor(e=1){super(jM,e$,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const r$={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i$=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function n$(t){const e=r$[t],r=e.length;let i=i$,n="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),n+=l,n+=`
`}return i=i.replace("%blur%",n),i=i.replace("%size%",t.toString()),i}const s$=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function o$(t,e){const r=Math.ceil(t/2);let i=s$,n="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),n+=a,n+=`
`}return i=i.replace("%blur%",n),i=i.replace("%size%",t.toString()),i}class Sh extends dt{constructor(e,r=8,i=4,n=dt.defaultResolution,s=5){const o=o$(s,e),a=n$(s);super(o,a),this.horizontal=e,this.resolution=n,this._quality=0,this.quality=i,this.blur=r}apply(e,r,i,n){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/r.width):this.uniforms.strength=1/i.height*(i.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,i,n);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,l=s;this.state.blend=!1,e.applyFilter(this,a,l,pr.CLEAR);for(let u=1;u<this.passes-1;u++){e.bindAndClear(a,pr.BLIT),this.uniforms.uSampler=l;const c=l;l=a,a=c,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,i,n),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class a$ extends dt{constructor(e=8,r=4,i=dt.defaultResolution,n=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new Sh(!0,e,r,i,n),this.blurYFilter=new Sh(!1,e,r,i,n),this.resolution=i,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,i,n){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,pr.CLEAR),this.blurYFilter.apply(e,a,i,n),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,i,n):this.blurXFilter.apply(e,r,i,n)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var l$=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Ah extends dt{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(j_,l$,e),this.alpha=1}_loadMatrix(e,r=!1){let i=e;r&&(this._multiply(i,this.uniforms.m,e),i=this._colorMatrix(i)),this.uniforms.m=i}_multiply(e,r,i){return e[0]=r[0]*i[0]+r[1]*i[5]+r[2]*i[10]+r[3]*i[15],e[1]=r[0]*i[1]+r[1]*i[6]+r[2]*i[11]+r[3]*i[16],e[2]=r[0]*i[2]+r[1]*i[7]+r[2]*i[12]+r[3]*i[17],e[3]=r[0]*i[3]+r[1]*i[8]+r[2]*i[13]+r[3]*i[18],e[4]=r[0]*i[4]+r[1]*i[9]+r[2]*i[14]+r[3]*i[19]+r[4],e[5]=r[5]*i[0]+r[6]*i[5]+r[7]*i[10]+r[8]*i[15],e[6]=r[5]*i[1]+r[6]*i[6]+r[7]*i[11]+r[8]*i[16],e[7]=r[5]*i[2]+r[6]*i[7]+r[7]*i[12]+r[8]*i[17],e[8]=r[5]*i[3]+r[6]*i[8]+r[7]*i[13]+r[8]*i[18],e[9]=r[5]*i[4]+r[6]*i[9]+r[7]*i[14]+r[8]*i[19]+r[9],e[10]=r[10]*i[0]+r[11]*i[5]+r[12]*i[10]+r[13]*i[15],e[11]=r[10]*i[1]+r[11]*i[6]+r[12]*i[11]+r[13]*i[16],e[12]=r[10]*i[2]+r[11]*i[7]+r[12]*i[12]+r[13]*i[17],e[13]=r[10]*i[3]+r[11]*i[8]+r[12]*i[13]+r[13]*i[18],e[14]=r[10]*i[4]+r[11]*i[9]+r[12]*i[14]+r[13]*i[19]+r[14],e[15]=r[15]*i[0]+r[16]*i[5]+r[17]*i[10]+r[18]*i[15],e[16]=r[15]*i[1]+r[16]*i[6]+r[17]*i[11]+r[18]*i[16],e[17]=r[15]*i[2]+r[16]*i[7]+r[17]*i[12]+r[18]*i[17],e[18]=r[15]*i[3]+r[16]*i[8]+r[17]*i[13]+r[18]*i[18],e[19]=r[15]*i[4]+r[16]*i[9]+r[17]*i[14]+r[18]*i[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const i=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(i,r)}tint(e,r){const[i,n,s]=ke.shared.setValue(e).toArray(),o=[i,0,0,0,0,0,n,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const i=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(i,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const i=Math.cos(e),n=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=i+(1-i)*o,u=o*(1-i)-a*n,c=o*(1-i)+a*n,h=o*(1-i)+a*n,d=i+o*(1-i),f=o*(1-i)-a*n,p=o*(1-i)-a*n,m=o*(1-i)+a*n,g=i+o*(1-i),v=[l,u,c,0,0,h,d,f,0,0,p,m,g,0,0,0,0,0,1,0];this._loadMatrix(v,r)}contrast(e,r){const i=(e||0)+1,n=-.5*(i-1),s=[i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const i=e*2/3+1,n=(i-1)*-.5,s=[i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,i,n,s){e=e||.2,r=r||.15,i=i||16770432,n=n||3375104;const o=ke.shared,[a,l,u]=o.setValue(i).toArray(),[c,h,d]=o.setValue(n).toArray(),f=[.3,.59,.11,0,0,a,l,u,e,0,c,h,d,r,0,a-c,l-h,u-d,0,0];this._loadMatrix(f,s)}night(e,r){e=e||.1;const i=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(i,r)}predator(e,r){const i=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(i,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Ah.prototype.grayscale=Ah.prototype.greyscale;var u$=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,c$=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class h$ extends dt{constructor(e,r){const i=new Me;e.renderable=!1,super(c$,u$,{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=i,r==null&&(r=20),this.scale=new ye(r,r)}apply(e,r,i,n){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,i,n)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var d$=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,f$=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class p$ extends dt{constructor(){super(f$,d$)}}var m$=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class g$ extends dt{constructor(e=.5,r=Math.random()){super(j_,m$,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const vm={AlphaFilter:t$,BlurFilter:a$,BlurFilterPass:Sh,ColorMatrixFilter:Ah,DisplacementFilter:h$,FXAAFilter:p$,NoiseFilter:g$};Object.entries(vm).forEach(([t,e])=>{Object.defineProperty(vm,t,{get(){return pe("7.1.0",`filters.${t} has moved to ${t}`),e}})});class y${constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(wt.system.add(this.tickerUpdate,this,cn.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(wt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const ci=new y$;class $o{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=$o.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new ye,this.page=new ye,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,i){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,i,n,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class il extends $o{constructor(){super(...arguments),this.client=new ye,this.movement=new ye,this.offset=new ye,this.global=new ye,this.screen=new ye}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,i){return e.worldTransform.applyInverse(i||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,i,n,s,o,a,l,u,c,h,d,f,p,m){throw new Error("Method not implemented.")}}class Wt extends il{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class qn extends il{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}qn.DOM_DELTA_PIXEL=0,qn.DOM_DELTA_LINE=1,qn.DOM_DELTA_PAGE=2;const v$=2048,_$=new ye,tc=new ye;class b${constructor(e){this.dispatch=new Co,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((i,n)=>i.priority-n.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let i=0,n=r.length;i<n;i++)r[i].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){ci.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",n=this[i](this.rootTarget,this.rootTarget.eventMode,_$.set(e,r),this.hitTestFn,this.hitPruneFn);return n&&n[0]}propagate(e,r){if(!e.target)return;const i=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let n=0,s=i.length-1;n<s;n++)if(e.currentTarget=i[n],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let n=i.length-2;n>=0;n--)if(e.currentTarget=i[n],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,i=this._allInteractiveElements){if(i.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const n=Array.isArray(r)?r:[r];for(let s=i.length-1;s>=0;s--)n.forEach(o=>{e.currentTarget=i[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let i=0;i<v$&&e!==this.rootTarget;i++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,i,n,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(ci.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let h=c.length-1;h>=0;h--){const d=c[h],f=this.hitTestMoveRecursive(d,this._isInteractive(r)?r:d.eventMode,i,n,s,o||s(e,i));if(f){if(f.length>0&&!f[f.length-1].parent)continue;const p=e.isInteractive();(f.length>0||p)&&(p&&this._allInteractiveElements.push(e),f.push(e)),this._hitElements.length===0&&(this._hitElements=f),a=!0}}}const l=this._isInteractive(r),u=e.isInteractive();return l&&u&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:l&&!s(e,i)&&n(e,i)?u?[e]:[]:null}hitTestRecursive(e,r,i,n,s){if(this._interactivePrune(e)||s(e,i))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(ci.pauseUpdate=!1),e.interactiveChildren&&e.children){const l=e.children;for(let u=l.length-1;u>=0;u--){const c=l[u],h=this.hitTestRecursive(c,this._isInteractive(r)?r:c.eventMode,i,n,s);if(h){if(h.length>0&&!h[h.length-1].parent)continue;const d=e.isInteractive();return(h.length>0||d)&&h.push(e),h}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&n(e,i)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var i;if(e.hitArea&&(e.worldTransform.applyInverse(r,tc),!e.hitArea.contains(tc.x,tc.y)))return!0;if(e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;if(n&&!((i=n.containsPoint)!=null&&i.call(n,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const i=`on${r}`;(o=(s=e.currentTarget)[i])==null||o.call(s,e);const n=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,n),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof Wt)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const n=r.button===2;this.dispatchEvent(r,n?"rightdown":"mousedown")}const i=this.trackingData(e.pointerId);i.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var l,u;if(!(e instanceof Wt)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const i=r.pointerType==="mouse"||r.pointerType==="pen",n=this.trackingData(e.pointerId),s=this.findMountedTarget(n.overTargets);if(((l=n.overTargets)==null?void 0:l.length)>0&&s!==r.target){const c=e.type==="mousemove"?"mouseout":"pointerout",h=this.createPointerEvent(e,c,s);if(this.dispatchEvent(h,"pointerout"),i&&this.dispatchEvent(h,"mouseout"),!r.composedPath().includes(s)){const d=this.createPointerEvent(e,"pointerleave",s);for(d.eventPhase=d.AT_TARGET;d.target&&!r.composedPath().includes(d.target);)d.currentTarget=d.target,this.notifyTarget(d),i&&this.notifyTarget(d,"mouseleave"),d.target=d.target.parent;this.freeEvent(d)}this.freeEvent(h)}if(s!==r.target){const c=e.type==="mousemove"?"mouseover":"pointerover",h=this.clonePointerEvent(r,c);this.dispatchEvent(h,"pointerover"),i&&this.dispatchEvent(h,"mouseover");let d=s==null?void 0:s.parent;for(;d&&d!==this.rootTarget.parent&&d!==r.target;)d=d.parent;if(!d||d===this.rootTarget.parent){const f=this.clonePointerEvent(r,"pointerenter");for(f.eventPhase=f.AT_TARGET;f.target&&f.target!==s&&f.target!==this.rootTarget.parent;)f.currentTarget=f.target,this.notifyTarget(f),i&&this.notifyTarget(f,"mouseenter"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(h)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),i&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(u=r.target)==null?void 0:u.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,n.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof Wt)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),i=this.createPointerEvent(e),n=i.pointerType==="mouse"||i.pointerType==="pen";this.dispatchEvent(i,"pointerover"),n&&this.dispatchEvent(i,"mouseover"),i.pointerType==="mouse"&&(this.cursor=(o=i.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(i,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),n&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=i.composedPath(),this.freeEvent(i),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof Wt)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const i=e.pointerType==="mouse"||e.pointerType==="pen",n=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",n);this.dispatchEvent(s),i&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",n);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),i&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Wt)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),i=this.createPointerEvent(e);if(this.dispatchEvent(i,"pointerup"),i.pointerType==="touch")this.dispatchEvent(i,"touchend");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const a=i.button===2;this.dispatchEvent(i,a?"rightup":"mouseup")}const n=this.trackingData(e.pointerId),s=this.findMountedTarget(n.pressTargetsByButton[e.button]);let o=s;if(s&&!i.composedPath().includes(s)){let a=s;for(;a&&!i.composedPath().includes(a);){if(i.currentTarget=a,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch")this.notifyTarget(i,"touchendoutside");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const l=i.button===2;this.notifyTarget(i,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete n.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(i,"click");a.target=o,a.path=null,n.clicksByButton[e.button]||(n.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const l=n.clicksByButton[e.button];if(l.target===a.target&&r-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=r,a.detail=l.clickCount,a.pointerType==="mouse"){const u=a.button===2;this.dispatchEvent(a,u?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(i)}mapPointerUpOutside(e){if(!(e instanceof Wt)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),i=this.findMountedTarget(r.pressTargetsByButton[e.button]),n=this.createPointerEvent(e);if(i){let s=i;for(;s;)n.currentTarget=s,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch"?this.notifyTarget(n,"touchendoutside"):(n.pointerType==="mouse"||n.pointerType==="pen")&&this.notifyTarget(n,n.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(n)}mapWheel(e){if(!(e instanceof qn)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let i=1;i<e.length&&e[i].parent===r;i++)r=e[i];return r}createPointerEvent(e,r,i){const n=this.allocateEvent(Wt);return this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=i??this.hitTest(n.global.x,n.global.y)??this._hitElements[0],typeof r=="string"&&(n.type=r),n}createWheelEvent(e){const r=this.allocateEvent(qn);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const i=this.allocateEvent(Wt);return i.nativeEvent=e.nativeEvent,i.originalEvent=e.originalEvent,this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.target=e.target,i.path=e.composedPath().slice(),i.type=r??i.type,i}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof Wt&&r instanceof Wt&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof il&&r instanceof il&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const i=e.currentTarget._events[r];if(i&&e.currentTarget.isInteractive())if("fn"in i)i.once&&e.currentTarget.removeListener(r,i.fn,void 0,!0),i.fn.call(i.context,e);else for(let n=0,s=i.length;n<s&&!e.propagationImmediatelyStopped;n++)i[n].once&&e.currentTarget.removeListener(r,i[n].fn,void 0,!0),i[n].fn.call(i[n].context,e)}}const x$=1,w$={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Eh=class Ch{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new b$(null),ci.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Wt(null),this.rootWheelEvent=new qn(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Ch.defaultEventFeatures},{set:(r,i,n)=>(i==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=n),r[i]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:i}=this.renderer;this.setTargetElement(r),this.resolution=i,Ch._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const i=this.cursorStyles[e];if(i)switch(typeof i){case"string":r&&(this.domElement.style.cursor=i);break;case"function":i(e);break;case"object":r&&Object.assign(this.domElement.style,i);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let i=0,n=r.length;i<n;i++){const s=r[i],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,ci.pointerMoved();const r=this.normalizeToPointerData(e);for(let i=0,n=r.length;i<n;i++){const s=this.bootstrapEvent(this.rootPointerEvent,r[i]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const i=r!==this.domElement?"outside":"",n=this.normalizeToPointerData(e);for(let s=0,o=n.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,n[s]);a.type+=i,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let i=0,n=r.length;i<n;i++){const s=this.bootstrapEvent(this.rootPointerEvent,r[i]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,ci.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;ci.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;ci.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,i){const n=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-n.left)*(this.domElement.width/n.width)*s,e.y=(i-n.top)*(this.domElement.height/n.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let i=0,n=e.changedTouches.length;i<n;i++){const s=e.changedTouches[i];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const i=e;typeof i.isPrimary>"u"&&(i.isPrimary=!0),typeof i.width>"u"&&(i.width=1),typeof i.height>"u"&&(i.height=1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="mouse"),typeof i.pointerId>"u"&&(i.pointerId=x$),typeof i.pressure>"u"&&(i.pressure=.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),i.isNormalized=!0,r.push(i)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=w$[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};Eh.extension={name:"events",type:[G.RendererSystem,G.CanvasRendererSystem]},Eh.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let Ph=Eh;Z.add(Ph);function _m(t){return t==="dynamic"||t==="static"}const T$={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??_m(Ph.defaultEventMode)},set interactive(t){pe("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Ph.defaultEventMode},set eventMode(t){this._internalInteractive=_m(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const i=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,n=typeof r=="object"?r.signal:void 0,s=typeof r=="object"?r.once===!0:!1,o=typeof e=="function"?void 0:e;t=i?`${t}capture`:t;const a=typeof e=="function"?e:e.handleEvent,l=this;n&&n.addEventListener("abort",()=>{l.off(t,a,o)}),s?l.once(t,a,o):l.on(t,a,o)},removeEventListener(t,e,r){const i=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,n=typeof e=="function"?void 0:e;t=i?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,n)},dispatchEvent(t){if(!(t instanceof $o))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};De.mixin(T$);const S$={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};De.mixin(S$);const A$=9,ia=100,E$=0,C$=0,bm=2,xm=1,P$=-1e3,k$=-1e3,M$=2;class J_{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Ur.tablet||Ur.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${ia}px`,r.style.height=`${ia}px`,r.style.position="absolute",r.style.top=`${E$}px`,r.style.left=`${C$}px`,r.style.zIndex=bm.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${xm}px`,e.style.height=`${xm}px`,e.style.position="absolute",e.style.top=`${P$}px`,e.style.left=`${k$}px`,e.style.zIndex=M$.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let i=0;i<r.length;i++)this.updateAccessibleObjects(r[i])}update(){const e=performance.now();if(Ur.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:i,width:n,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,u=n/o*l,c=s/a*l;let h=this.div;h.style.left=`${r}px`,h.style.top=`${i}px`,h.style.width=`${o}px`,h.style.height=`${a}px`;for(let d=0;d<this.children.length;d++){const f=this.children[d];if(f.renderId!==this.renderId)f._accessibleActive=!1,Xn(this.children,d,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,d--;else{h=f._accessibleDiv;let p=f.hitArea;const m=f.worldTransform;f.hitArea?(h.style.left=`${(m.tx+p.x*m.a)*u}px`,h.style.top=`${(m.ty+p.y*m.d)*c}px`,h.style.width=`${p.width*m.a*u}px`,h.style.height=`${p.height*m.d*c}px`):(p=f.getBounds(),this.capHitArea(p),h.style.left=`${p.x*u}px`,h.style.top=`${p.y*c}px`,h.style.width=`${p.width*u}px`,h.style.height=`${p.height*c}px`,h.title!==f.accessibleTitle&&f.accessibleTitle!==null&&(h.title=f.accessibleTitle),h.getAttribute("aria-label")!==f.accessibleHint&&f.accessibleHint!==null&&h.setAttribute("aria-label",f.accessibleHint)),(f.accessibleTitle!==h.title||f.tabIndex!==h.tabIndex)&&(h.title=f.accessibleTitle,h.tabIndex=f.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:i}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>i&&(e.height=i-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${ia}px`,r.style.height=`${ia}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=bm.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:i}=e.target,n=this.renderer.events.rootBoundary,s=Object.assign(new $o(n),{target:i});n.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>n.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===A$&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}J_.extension={name:"accessibility",type:[G.RendererPlugin,G.CanvasRendererPlugin]};Z.add(J_);const Q_=class kh{constructor(e){this.stage=new nr,e=Object.assign({forceCanvas:!1},e),this.renderer=UM(e),kh._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const i=kh._plugins.slice(0);i.reverse(),i.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};Q_._plugins=[];let $$=Q_;Z.handleByList(G.Application,$$._plugins);class eb{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,i;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,i=globalThis.innerHeight;else{const{clientWidth:n,clientHeight:s}=this._resizeTo;r=n,i=s}this.renderer.resize(r,i),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}eb.extension=G.Application;Z.add(eb);const wm={loader:G.LoadParser,resolver:G.ResolveParser,cache:G.CacheParser,detection:G.DetectionParser};Z.handle(G.Asset,t=>{const e=t.ref;Object.entries(wm).filter(([r])=>!!e[r]).forEach(([r,i])=>Z.add(Object.assign(e[r],{extension:e[r].extension??i})))},t=>{const e=t.ref;Object.keys(wm).filter(r=>!!e[r]).forEach(r=>Z.remove(e[r]))});class R${constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let i=0;i<r;i++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function ps(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Li(t,e){const r=t.split("?")[0],i=Je.extname(r).toLowerCase();return Array.isArray(e)?e.includes(i):i===e}const Yt=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(i=>typeof i=="string"||r?e(i):i):t),Mh=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function tb(t,e,r,i,n){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?tb(t.replace(i[r],a),e,r+1,i,n):n.push(t.replace(i[r],a))}}function I$(t){const e=/\{(.*?)\}/g,r=t.match(e),i=[];if(r){const n=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");n.push(o)}),tb(t,n,0,r,i)}else i.push(t);return i}const nl=t=>!Array.isArray(t);class O${constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const i=Yt(e);let n;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(r)){n=l.getCacheableAssets(i,r);break}}n||(n={},i.forEach(a=>{n[a]=r}));const s=Object.keys(n),o={cacheKeys:s,keys:i};if(i.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{const l=n?n[a]:r;this._cache.has(a)&&this._cache.get(a)!==l&&console.warn("[Cache] already has key:",a),this._cache.set(a,n[a])}),r instanceof K){const a=r;i.forEach(l=>{a.baseTexture!==K.EMPTY.baseTexture&&le.addToCache(a.baseTexture,l),K.addToCache(a,l)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Zi=new O$;class L${constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,i)=>(this._parsersValidated=!1,e[r]=i,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const i={promise:null,parser:null};return i.promise=(async()=>{var o,a;let n=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];if(u.load&&((o=u.test)!=null&&o.call(u,e,r,this))){s=u;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}n=await s.load(e,r,this),i.parser=s;for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];u.parse&&u.parse&&await((a=u.testParse)==null?void 0:a.call(u,n,r,this))&&(n=await u.parse(n,r,this)||n,i.parser=u)}return n})(),i}async load(e,r){this._parsersValidated||this._validateParsers();let i=0;const n={},s=nl(e),o=Yt(e,u=>({alias:[u],src:u})),a=o.length,l=o.map(async u=>{const c=Je.toAbsolute(u.src);if(!n[u.src])try{this.promiseCache[c]||(this.promiseCache[c]=this._getLoadPromiseAndParser(c,u)),n[u.src]=await this.promiseCache[c].promise,r&&r(++i/a)}catch(h){throw delete this.promiseCache[c],delete n[u.src],new Error(`[Loader.load] Failed to load ${c}.
${h}`)}});return await Promise.all(l),s?n[o[0].src]:n}async unload(e){const r=Yt(e,i=>({alias:[i],src:i})).map(async i=>{var o,a;const n=Je.toAbsolute(i.src),s=this.promiseCache[n];if(s){const l=await s.promise;delete this.promiseCache[n],(a=(o=s.parser)==null?void 0:o.unload)==null||a.call(o,l,i,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var sr=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(sr||{});const D$=".json",B$="application/json",F$={extension:{type:G.LoadParser,priority:sr.Low},name:"loadJson",test(t){return ps(t,B$)||Li(t,D$)},async load(t){return await(await X.ADAPTER.fetch(t)).json()}};Z.add(F$);const N$=".txt",U$="text/plain",H$={name:"loadTxt",extension:{type:G.LoadParser,priority:sr.Low},test(t){return ps(t,U$)||Li(t,N$)},async load(t){return await(await X.ADAPTER.fetch(t)).text()}};Z.add(H$);const z$=["normal","bold","100","200","300","400","500","600","700","800","900"],j$=[".ttf",".otf",".woff",".woff2"],G$=["font/ttf","font/otf","font/woff","font/woff2"],V$=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function W$(t){const e=Je.extname(t),r=Je.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let i=r.length>0;for(const s of r)if(!s.match(V$)){i=!1;break}let n=r.join(" ");return i||(n=`"${n.replace(/[\\"]/g,"\\$&")}"`),n}const X$=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function Y$(t){return X$.test(t)?t:encodeURI(t)}const q$={extension:{type:G.LoadParser,priority:sr.Low},name:"loadWebFont",test(t){return ps(t,G$)||Li(t,j$)},async load(t,e){var i,n,s;const r=X.ADAPTER.getFontFaceSet();if(r){const o=[],a=((i=e.data)==null?void 0:i.family)??W$(t),l=((s=(n=e.data)==null?void 0:n.weights)==null?void 0:s.filter(c=>z$.includes(c)))??["normal"],u=e.data??{};for(let c=0;c<l.length;c++){const h=l[c],d=new FontFace(a,`url(${Y$(t)})`,{...u,weight:h});await d.load(),r.add(d),o.push(d)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>X.ADAPTER.getFontFaceSet().delete(e))}};Z.add(q$);const K$=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let Kn=null,$h=class{constructor(){Kn||(Kn=URL.createObjectURL(new Blob([K$],{type:"application/javascript"}))),this.worker=new Worker(Kn)}};$h.revokeObjectURL=function(){Kn&&(URL.revokeObjectURL(Kn),Kn=null)};const Z$=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let Zn=null;class rb{constructor(){Zn||(Zn=URL.createObjectURL(new Blob([Z$],{type:"application/javascript"}))),this.worker=new Worker(Zn)}}rb.revokeObjectURL=function(){Zn&&(URL.revokeObjectURL(Zn),Zn=null)};let Tm=0,rc;class J${constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:r}=new $h;r.addEventListener("message",i=>{r.terminate(),$h.revokeObjectURL(),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){rc===void 0&&(rc=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<rc&&(this._createdWorkers++,e=new rb().worker,e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const i=new Promise((n,s)=>{this.queue.push({id:e,arguments:r,resolve:n,reject:s})});return this.next(),i}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),i=r.id;this.resolveHash[Tm]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:Tm++,id:i})}}const Sm=new J$;function Ro(t,e,r){t.resource.internal=!0;const i=new K(t),n=()=>{delete e.promiseCache[r],Zi.has(r)&&Zi.remove(r)};return i.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),n())}),i.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),n())}),i}const Q$=[".jpeg",".jpg",".png",".webp",".avif"],eR=["image/jpeg","image/png","image/webp","image/avif"];async function tR(t){const e=await X.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const Vl={name:"loadTextures",extension:{type:G.LoadParser,priority:sr.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return ps(t,eR)||Li(t,Q$)},async load(t,e,r){var a;const i=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let n;i?this.config.preferWorkers&&await Sm.isImageBitmapSupported()?n=await Sm.loadImageBitmap(t):n=await tR(t):n=await new Promise((l,u)=>{const c=new Image;c.crossOrigin=this.config.crossOrigin,c.src=t,c.complete?l(c):(c.onload=()=>l(c),c.onerror=h=>u(h))});const s={...e.data};s.resolution??(s.resolution=Jr(t)),i&&((a=s.resourceOptions)==null?void 0:a.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new le(n,s);return o.resource.src=t,Ro(o,r,t)},unload(t){t.destroy(!0)}};Z.add(Vl);const rR=".svg",iR="image/svg+xml",nR={extension:{type:G.LoadParser,priority:sr.High},name:"loadSVG",test(t){return ps(t,iR)||Li(t,rR)},async testParse(t){return bh.test(t)},async parse(t,e,r){var s;const i=new bh(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await i.load();const n=new le(i,{resolution:Jr(t),...e==null?void 0:e.data});return n.resource.src=e.src,Ro(n,r,e.src)},async load(t,e){return(await X.ADAPTER.fetch(t)).text()},unload:Vl.unload};Z.add(nR);const sR=[".mp4",".m4v",".webm",".ogv"],oR=["video/mp4","video/webm","video/ogg"],aR={name:"loadVideo",extension:{type:G.LoadParser,priority:sr.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(t){return ps(t,oR)||Li(t,sR)},async load(t,e,r){var o;let i;const n=await(await X.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(n);try{const a={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions,autoLoad:!0},l=new q_(s,a);await l.load();const u=new le(l,{alphaMode:await dk(),resolution:Jr(t),...e==null?void 0:e.data});u.resource.src=t,i=Ro(u,r,t),i.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(a){throw URL.revokeObjectURL(s),a}return i},unload(t){t.destroy(!0)}};Z.add(aR);class lR{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(i=>`${encodeURIComponent(i)}=${encodeURIComponent(r[i])}`).join("&")}}getAlias(e){const{alias:r,name:i,src:n,srcs:s}=e;return Yt(r||i||n||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>(a==null?void 0:a.src)??(a==null?void 0:a.srcs)??a):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const i=[];Array.isArray(r)?r.forEach(n=>{const s=n.src??n.srcs,o=n.alias??n.name;let a;if(typeof o=="string"){const l=this._createBundleAssetId(e,o);i.push(l),a=[o,l]}else{const l=o.map(u=>this._createBundleAssetId(e,u));i.push(...l),a=[...o,...l]}this.add({...n,alias:a,src:s})}):Object.keys(r).forEach(n=>{const s=[n,this._createBundleAssetId(e,n)];if(typeof r[n]=="string")this.add({alias:s,src:r[n]});else if(Array.isArray(r[n]))this.add({alias:s,src:r[n]});else{const o=r[n],a=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(a)?a:[a]})}i.push(...s)}),this._bundles[e]=i}add(e,r,i,n,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(pe("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:i,format:n,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let a;a=l=>{this.hasKey(l)&&console.warn(`[Resolver] already has key: ${l} overwriting`)},Yt(o).forEach(l=>{const{src:u,srcs:c}=l;let{data:h,format:d,loadParser:f}=l;const p=Yt(u||c).map(v=>typeof v=="string"?I$(v):Array.isArray(v)?v:[v]),m=this.getAlias(l);Array.isArray(m)?m.forEach(a):a(m);const g=[];p.forEach(v=>{v.forEach(_=>{let y={};if(typeof _!="object"){y.src=_;for(let w=0;w<this._parsers.length;w++){const S=this._parsers[w];if(S.test(_)){y=S.parse(_);break}}}else h=_.data??h,d=_.format??d,f=_.loadParser??f,y={...y,..._};if(!m)throw new Error(`[Resolver] alias is undefined for this asset: ${y.src}`);y=this.buildResolvedAsset(y,{aliases:m,data:h,format:d,loadParser:f}),g.push(y)})}),m.forEach(v=>{this._assetMap[v]=g})})}resolveBundle(e){const r=nl(e);e=Yt(e);const i={};return e.forEach(n=>{const s=this._bundles[n];if(s){const o=this.resolve(s),a={};for(const l in o){const u=o[l];a[this._extractAssetIdFromBundle(n,l)]=u}i[n]=a}}),r?i[e[0]]:i}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const i={};for(const n in r)i[n]=r[n].src;return i}return r.src}resolve(e){const r=nl(e);e=Yt(e);const i={};return e.forEach(n=>{if(!this._resolverHash[n])if(this._assetMap[n]){let s=this._assetMap[n];const o=s[0],a=this._getPreferredOrder(s);a==null||a.priority.forEach(l=>{a.params[l].forEach(u=>{const c=s.filter(h=>h[l]?h[l]===u:!1);c.length&&(s=c)})}),this._resolverHash[n]=s[0]??o}else this._resolverHash[n]=this.buildResolvedAsset({alias:[n],src:n},{});i[n]=this._resolverHash[n]}),r?i[e[0]]:i}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const i=e[0],n=this._preferredOrder.find(s=>s.params.format.includes(i.format));if(n)return n}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:i,data:n,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=Je.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=i??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...n||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??e.format??Je.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class uR{constructor(){this._detections=[],this._initialized=!1,this.resolver=new lR,this.loader=new L$,this.cache=Zi,this._backgroundLoader=new R$(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,i=typeof r=="number"?[r]:r,n=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:n,resolution:i}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,i,n,s){this.resolver.add(e,r,i,n,s)}async load(e,r){this._initialized||await this.init();const i=nl(e),n=Yt(e).map(a=>{if(typeof a!="string"){const l=this.resolver.getAlias(a);return l.some(u=>!this.resolver.hasKey(u))&&this.add(a),Array.isArray(l)?l[0]:l}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(n),o=await this._mapLoadToResolve(s,r);return i?o[n[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let i=!1;typeof e=="string"&&(i=!0,e=[e]);const n=this.resolver.resolveBundle(e),s={},o=Object.keys(n);let a=0,l=0;const u=()=>{r==null||r(++a/l)},c=o.map(h=>{const d=n[h];return l+=Object.keys(d).length,this._mapLoadToResolve(d,u).then(f=>{s[h]=f})});return await Promise.all(c),i?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(i=>{this._backgroundLoader.add(Object.values(i))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Zi.get(e);const r={};for(let i=0;i<e.length;i++)r[i]=Zi.get(e[i]);return r}async _mapLoadToResolve(e,r){const i=Object.values(e),n=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(i,r);this._backgroundLoader.active=!0;const o={};return i.forEach((a,l)=>{const u=s[a.src],c=[a.src];a.alias&&c.push(...a.alias),o[n[l]]=u,Zi.set(c,u)}),o}async unload(e){this._initialized||await this.init();const r=Yt(e).map(n=>typeof n!="string"?n.src:n),i=this.resolver.resolve(r);await this._unloadFromResolved(i)}async unloadBundle(e){this._initialized||await this.init(),e=Yt(e);const r=this.resolver.resolveBundle(e),i=Object.keys(r).map(n=>this._unloadFromResolved(r[n]));await Promise.all(i)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(i=>{Zi.remove(i.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const i of e.detections)e.skipDetections||await i.test()?r=await i.add(r):e.skipDetections||(r=await i.remove(r));return r=r.filter((i,n)=>r.indexOf(i)===n),r}get detections(){return this._detections}get preferWorkers(){return Vl.config.preferWorkers}set preferWorkers(e){pe("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(i=>i in e).forEach(i=>{r.config[i]=e[i]})})}}const na=new uR;Z.handleByList(G.LoadParser,na.loader.parsers).handleByList(G.ResolveParser,na.resolver.parsers).handleByList(G.CacheParser,na.cache.parsers).handleByList(G.DetectionParser,na.detections);const cR={extension:G.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof K),getCacheableAssets:(t,e)=>{const r={};return t.forEach(i=>{e.forEach((n,s)=>{r[i+(s===0?"":s+1)]=n})}),r}};Z.add(cR);async function ib(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const hR={extension:{type:G.DetectionParser,priority:1},test:async()=>ib("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};Z.add(hR);const dR={extension:{type:G.DetectionParser,priority:0},test:async()=>ib("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};Z.add(dR);const Am=["png","jpg","jpeg"],fR={extension:{type:G.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...Am],remove:async t=>t.filter(e=>!Am.includes(e))};Z.add(fR);const pR="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Kd(t){return pR?!1:document.createElement("video").canPlayType(t)!==""}const mR={extension:{type:G.DetectionParser,priority:0},test:async()=>Kd("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};Z.add(mR);const gR={extension:{type:G.DetectionParser,priority:0},test:async()=>Kd("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};Z.add(gR);const yR={extension:{type:G.DetectionParser,priority:0},test:async()=>Kd("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};Z.add(yR);const vR={extension:G.ResolveParser,test:Vl.test,parse:t=>{var e;return{resolution:parseFloat(((e=X.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:Je.extname(t).slice(1),src:t}}};Z.add(vR);var et=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t))(et||{});const sl={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let ur,On;function Em(){On={bptc:ur.getExtension("EXT_texture_compression_bptc"),astc:ur.getExtension("WEBGL_compressed_texture_astc"),etc:ur.getExtension("WEBGL_compressed_texture_etc"),s3tc:ur.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:ur.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:ur.getExtension("WEBGL_compressed_texture_pvrtc")||ur.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:ur.getExtension("WEBGL_compressed_texture_etc1"),atc:ur.getExtension("WEBGL_compressed_texture_atc")}}const _R={extension:{type:G.DetectionParser,priority:2},test:async()=>{const t=X.ADAPTER.createCanvas().getContext("webgl");return t?(ur=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{On||Em();const e=[];for(const r in On)On[r]&&e.push(r);return[...e,...t]},remove:async t=>(On||Em(),t.filter(e=>!(e in On)))};Z.add(_R);class bR extends Ul{constructor(e,r={width:1,height:1,autoLoad:!0}){let i,n;typeof e=="string"?(i=e,n=new Uint8Array):(i=null,n=e),super(n,r),this.origin=i,this.buffer=n?new ah(n):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new ah(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class tn extends bR{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=tn._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||tn._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,i){const n=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;n.pixelStorei(n.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:a,levelWidth:l,levelHeight:u,levelBuffer:c}=this._levelBuffers[s];n.compressedTexImage2D(n.TEXTURE_2D,a,this.format,l,u,0,c)}return!0}onBlobLoaded(){this._levelBuffers=tn._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,r,i,n,s,o,a){const l=new Array(i);let u=e.byteOffset,c=o,h=a,d=c+n-1&~(n-1),f=h+s-1&~(s-1),p=d*f*sl[r];for(let m=0;m<i;m++)l[m]={levelID:m,levelWidth:i>1?c:d,levelHeight:i>1?h:f,levelBuffer:new Uint8Array(e.buffer,u,p)},u+=p,c=c>>1||1,h=h>>1||1,d=c+n-1&~(n-1),f=h+s-1&~(s-1),p=d*f*sl[r];return l}}const ic=4,sa=124,xR=32,Cm=20,wR=542327876,oa={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},TR={FOURCC:2},aa={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},SR=1,AR=2,ER=4,CR=64,PR=512,kR=131072,MR=827611204,$R=861165636,RR=894720068,IR=808540228,OR=4,LR={[MR]:et.COMPRESSED_RGBA_S3TC_DXT1_EXT,[$R]:et.COMPRESSED_RGBA_S3TC_DXT3_EXT,[RR]:et.COMPRESSED_RGBA_S3TC_DXT5_EXT},DR={70:et.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:et.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:et.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:et.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:et.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:et.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:et.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:et.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:et.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:et.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:et.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:et.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:et.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function BR(t){const e=new Uint32Array(t);if(e[0]!==wR)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,sa/Uint32Array.BYTES_PER_ELEMENT),i=r[oa.HEIGHT],n=r[oa.WIDTH],s=r[oa.MIPMAP_COUNT],o=new Uint32Array(t,oa.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,xR/Uint32Array.BYTES_PER_ELEMENT),a=o[SR];if(a&ER){const l=o[TR.FOURCC];if(l!==IR){const _=LR[l],y=ic+sa,w=new Uint8Array(t,y);return[new tn(w,{format:_,width:n,height:i,levels:s})]}const u=ic+sa,c=new Uint32Array(e.buffer,u,Cm/Uint32Array.BYTES_PER_ELEMENT),h=c[aa.DXGI_FORMAT],d=c[aa.RESOURCE_DIMENSION],f=c[aa.MISC_FLAG],p=c[aa.ARRAY_SIZE],m=DR[h];if(m===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${h}`);if(f===OR)throw new Error("DDSParser does not support cubemap textures");if(d===6)throw new Error("DDSParser does not supported 3D texture data");const g=new Array,v=ic+sa+Cm;if(p===1)g.push(new Uint8Array(t,v));else{const _=sl[m];let y=0,w=n,S=i;for(let T=0;T<s;T++){const A=Math.max(1,w+3&-4),P=Math.max(1,S+3&-4),E=A*P*_;y+=E,w=w>>>1,S=S>>>1}let x=v;for(let T=0;T<p;T++)g.push(new Uint8Array(t,x,y)),x+=y}return g.map(_=>new tn(_,{format:m,width:n,height:i,levels:s}))}throw a&CR?new Error("DDSParser does not support uncompressed texture data."):a&PR?new Error("DDSParser does not supported YUV uncompressed texture data."):a&kR?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&AR?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const Pm=[171,75,84,88,32,49,49,187,13,10,26,10],FR=67305985,jt={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Rh=64,km={[ee.UNSIGNED_BYTE]:1,[ee.UNSIGNED_SHORT]:2,[ee.INT]:4,[ee.UNSIGNED_INT]:4,[ee.FLOAT]:4,[ee.HALF_FLOAT]:8},NR={[F.RGBA]:4,[F.RGB]:3,[F.RG]:2,[F.RED]:1,[F.LUMINANCE]:1,[F.LUMINANCE_ALPHA]:2,[F.ALPHA]:1},UR={[ee.UNSIGNED_SHORT_4_4_4_4]:2,[ee.UNSIGNED_SHORT_5_5_5_1]:2,[ee.UNSIGNED_SHORT_5_6_5]:2};function HR(t,e,r=!1){const i=new DataView(e);if(!zR(t,i))return null;const n=i.getUint32(jt.ENDIANNESS,!0)===FR,s=i.getUint32(jt.GL_TYPE,n),o=i.getUint32(jt.GL_FORMAT,n),a=i.getUint32(jt.GL_INTERNAL_FORMAT,n),l=i.getUint32(jt.PIXEL_WIDTH,n),u=i.getUint32(jt.PIXEL_HEIGHT,n)||1,c=i.getUint32(jt.PIXEL_DEPTH,n)||1,h=i.getUint32(jt.NUMBER_OF_ARRAY_ELEMENTS,n)||1,d=i.getUint32(jt.NUMBER_OF_FACES,n),f=i.getUint32(jt.NUMBER_OF_MIPMAP_LEVELS,n),p=i.getUint32(jt.BYTES_OF_KEY_VALUE_DATA,n);if(u===0||c!==1)throw new Error("Only 2D textures are supported");if(d!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(h!==1)throw new Error("WebGL does not support array textures");const m=4,g=4,v=l+3&-4,_=u+3&-4,y=new Array(h);let w=l*u;s===0&&(w=v*_);let S;if(s!==0?km[s]?S=km[s]*NR[o]:S=UR[s]:S=sl[a],S===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const x=r?GR(i,p,n):null;let T=w*S,A=l,P=u,E=v,I=_,k=Rh+p;for(let C=0;C<f;C++){const M=i.getUint32(k,n);let D=k+4;for(let Y=0;Y<h;Y++){let U=y[Y];U||(U=y[Y]=new Array(f)),U[C]={levelID:C,levelWidth:f>1||s!==0?A:E,levelHeight:f>1||s!==0?P:I,levelBuffer:new Uint8Array(e,D,T)},D+=T}k+=M+4,k=k%4!==0?k+4-k%4:k,A=A>>1||1,P=P>>1||1,E=A+m-1&-4,I=P+g-1&-4,T=E*I*S}return s!==0?{uncompressed:y.map(C=>{let M=C[0].levelBuffer,D=!1;return s===ee.FLOAT?M=new Float32Array(C[0].levelBuffer.buffer,C[0].levelBuffer.byteOffset,C[0].levelBuffer.byteLength/4):s===ee.UNSIGNED_INT?(D=!0,M=new Uint32Array(C[0].levelBuffer.buffer,C[0].levelBuffer.byteOffset,C[0].levelBuffer.byteLength/4)):s===ee.INT&&(D=!0,M=new Int32Array(C[0].levelBuffer.buffer,C[0].levelBuffer.byteOffset,C[0].levelBuffer.byteLength/4)),{resource:new Ul(M,{width:C[0].levelWidth,height:C[0].levelHeight}),type:s,format:D?jR(o):o}}),kvData:x}:{compressed:y.map(C=>new tn(null,{format:a,width:l,height:u,levels:f,levelBuffers:C})),kvData:x}}function zR(t,e){for(let r=0;r<Pm.length;r++)if(e.getUint8(r)!==Pm[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function jR(t){switch(t){case F.RGBA:return F.RGBA_INTEGER;case F.RGB:return F.RGB_INTEGER;case F.RG:return F.RG_INTEGER;case F.RED:return F.RED_INTEGER;default:return t}}function GR(t,e,r){const i=new Map;let n=0;for(;n<e;){const s=t.getUint32(Rh+n,r),o=Rh+n+4,a=3-(s+3)%4;if(s===0||s>e-n){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),c=new DataView(t.buffer,o+l+1,s-l-1);i.set(u,c),n+=4+s+a}return i}const VR={extension:{type:G.LoadParser,priority:sr.High},name:"loadDDS",test(t){return Li(t,".dds")},async load(t,e,r){const i=await(await X.ADAPTER.fetch(t)).arrayBuffer(),n=BR(i).map(s=>{const o=new le(s,{mipmap:Cr.OFF,alphaMode:mt.NO_PREMULTIPLIED_ALPHA,resolution:Jr(t),...e.data});return Ro(o,r,t)});return n.length===1?n[0]:n},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Z.add(VR);const WR={extension:{type:G.LoadParser,priority:sr.High},name:"loadKTX",test(t){return Li(t,".ktx")},async load(t,e,r){const i=await(await X.ADAPTER.fetch(t)).arrayBuffer(),{compressed:n,uncompressed:s,kvData:o}=HR(t,i),a=n??s,l={mipmap:Cr.OFF,alphaMode:mt.NO_PREMULTIPLIED_ALPHA,resolution:Jr(t),...e.data},u=a.map(c=>{a===s&&Object.assign(l,{type:c.type,format:c.format});const h=c.resource??c,d=new le(h,l);return d.ktxKeyValueData=o,Ro(d,r,t)});return u.length===1?u[0]:u},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Z.add(WR);const XR=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],YR={extension:G.ResolveParser,test:t=>{const e=Je.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var i,n;const e=t.split("."),r=e.pop();if(["ktx","dds"].includes(r)){const s=e.pop();if(XR.includes(s))return{resolution:parseFloat(((i=X.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:s,src:t}}return{resolution:parseFloat(((n=X.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:r,src:t}}};Z.add(YR);const la=new ce,qR=4,nb=class Is{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,i,n){const s=new Image;return s.src=await this.base64(e,r,i,n),s}async base64(e,r,i,n){const s=this.canvas(e,n);if(s.toBlob!==void 0)return new Promise((o,a)=>{s.toBlob(l=>{if(!l){a(new Error("ICanvas.toBlob failed!"));return}const u=new FileReader;u.onload=()=>o(u.result),u.onerror=a,u.readAsDataURL(l)},r,i)});if(s.toDataURL!==void 0)return s.toDataURL(r,i);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:r,quality:i});return new Promise((a,l)=>{const u=new FileReader;u.onload=()=>a(u.result),u.onerror=l,u.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:i,width:n,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);o&&Is._flipY(i,n,s),a&&Is._unpremultiplyAlpha(i);const l=new Pk(n,s,1),u=new ImageData(new Uint8ClampedArray(i.buffer),n,s);return l.context.putImageData(u,0,0),l.canvas}pixels(e,r){const{pixels:i,width:n,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);return o&&Is._flipY(i,n,s),a&&Is._unpremultiplyAlpha(i),i}_rawPixels(e,r){const i=this.renderer;if(!i)throw new Error("The Extract has already been destroyed");let n,s=!1,o=!1,a,l=!1;e&&(e instanceof yn?a=e:(a=i.generateTexture(e,{region:r,resolution:i.resolution,multisample:i.multisample}),l=!0,r&&(la.width=r.width,la.height=r.height,r=la)));const u=i.gl;if(a){if(n=a.baseTexture.resolution,r=r??a.frame,s=!1,o=a.baseTexture.alphaMode>0&&a.baseTexture.format===F.RGBA,!l){i.renderTexture.bind(a);const f=a.framebuffer.glFramebuffers[i.CONTEXT_UID];f.blitFramebuffer&&i.framebuffer.bind(f.blitFramebuffer)}}else n=i.resolution,r||(r=la,r.width=i.width/n,r.height=i.height/n),s=!0,o=this._rendererPremultipliedAlpha,i.renderTexture.bind();const c=Math.max(Math.round(r.width*n),1),h=Math.max(Math.round(r.height*n),1),d=new Uint8Array(qR*c*h);return u.readPixels(Math.round(r.x*n),Math.round(r.y*n),c,h,u.RGBA,u.UNSIGNED_BYTE,d),l&&(a==null||a.destroy(!0)),{pixels:d,width:c,height:h,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,r,i){const n=r<<2,s=i>>1,o=new Uint8Array(n);for(let a=0;a<s;a++){const l=a*n,u=(i-a-1)*n;o.set(e.subarray(l,l+n)),e.copyWithin(l,u,u+n),e.set(o,u)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let i=0;i<r;i+=4){const n=e[i+3];if(n!==0){const s=255.001/n;e[i]=e[i]*s+.5,e[i+1]=e[i+1]*s+.5,e[i+2]=e[i+2]*s+.5}}}};nb.extension={name:"extract",type:G.RendererSystem};let KR=nb;Z.add(KR);const ol={build(t){const e=t.points;let r,i,n,s,o,a;if(t.type===tt.CIRC){const p=t.shape;r=p.x,i=p.y,o=a=p.radius,n=s=0}else if(t.type===tt.ELIP){const p=t.shape;r=p.x,i=p.y,o=p.width,a=p.height,n=s=0}else{const p=t.shape,m=p.width/2,g=p.height/2;r=p.x+m,i=p.y+g,o=a=Math.max(0,Math.min(p.radius,Math.min(m,g))),n=m-o,s=g-a}if(!(o>=0&&a>=0&&n>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),u=l*8+(n?4:0)+(s?4:0);if(e.length=u,u===0)return;if(l===0){e.length=8,e[0]=e[6]=r+n,e[1]=e[3]=i+s,e[2]=e[4]=r-n,e[5]=e[7]=i-s;return}let c=0,h=l*4+(n?2:0)+2,d=h,f=u;{const p=n+o,m=s,g=r+p,v=r-p,_=i+m;if(e[c++]=g,e[c++]=_,e[--h]=_,e[--h]=v,s){const y=i-m;e[d++]=v,e[d++]=y,e[--f]=y,e[--f]=g}}for(let p=1;p<l;p++){const m=Math.PI/2*(p/l),g=n+Math.cos(m)*o,v=s+Math.sin(m)*a,_=r+g,y=r-g,w=i+v,S=i-v;e[c++]=_,e[c++]=w,e[--h]=w,e[--h]=y,e[d++]=y,e[d++]=S,e[--f]=S,e[--f]=_}{const p=n,m=s+a,g=r+p,v=r-p,_=i+m,y=i-m;e[c++]=g,e[c++]=_,e[--f]=y,e[--f]=g,n&&(e[c++]=v,e[c++]=_,e[--f]=y,e[--f]=v)}},triangulate(t,e){const r=t.points,i=e.points,n=e.indices;if(r.length===0)return;let s=i.length/2;const o=s;let a,l;if(t.type!==tt.RREC){const c=t.shape;a=c.x,l=c.y}else{const c=t.shape;a=c.x+c.width/2,l=c.y+c.height/2}const u=t.matrix;i.push(t.matrix?u.a*a+u.c*l+u.tx:a,t.matrix?u.b*a+u.d*l+u.ty:l),s++,i.push(r[0],r[1]);for(let c=2;c<r.length;c+=2)i.push(r[c],r[c+1]),n.push(s++,o,s);n.push(o+1,o,s)}};function Mm(t,e=!1){const r=t.length;if(r<6)return;let i=0;for(let n=0,s=t[r-2],o=t[r-1];n<r;n+=2){const a=t[n],l=t[n+1];i+=(a-s)*(l+o),s=a,o=l}if(!e&&i>0||e&&i<=0){const n=r/2;for(let s=n+n%2;s<r;s+=2){const o=r-s-2,a=r-s-1,l=s,u=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[u]]=[t[u],t[a]]}}}const sb={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const i=t.holes,n=e.points,s=e.indices;if(r.length>=6){Mm(r,!1);const o=[];for(let u=0;u<i.length;u++){const c=i[u];Mm(c.points,!0),o.push(r.length/2),r=r.concat(c.points)}const a=iC(r,o,2);if(!a)return;const l=n.length/2;for(let u=0;u<a.length;u+=3)s.push(a[u]+l),s.push(a[u+1]+l),s.push(a[u+2]+l);for(let u=0;u<r.length;u++)n.push(r[u])}}},ZR={build(t){const e=t.shape,r=e.x,i=e.y,n=e.width,s=e.height,o=t.points;o.length=0,n>=0&&s>=0&&o.push(r,i,r+n,i,r+n,i+s,r,i+s)},triangulate(t,e){const r=t.points,i=e.points;if(r.length===0)return;const n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},JR={build(t){ol.build(t)},triangulate(t,e){ol.triangulate(t,e)}};var Rt=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Rt||{}),mi=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(mi||{});const rs={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class $m{static curveTo(e,r,i,n,s,o){const a=o[o.length-2],l=o[o.length-1]-r,u=a-e,c=n-r,h=i-e,d=Math.abs(l*h-u*c);if(d<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const f=l*l+u*u,p=c*c+h*h,m=l*c+u*h,g=s*Math.sqrt(f)/d,v=s*Math.sqrt(p)/d,_=g*m/f,y=v*m/p,w=g*h+v*u,S=g*c+v*l,x=u*(v+_),T=l*(v+_),A=h*(g+y),P=c*(g+y),E=Math.atan2(T-S,x-w),I=Math.atan2(P-S,A-w);return{cx:w+e,cy:S+r,radius:s,startAngle:E,endAngle:I,anticlockwise:u*c>h*l}}static arc(e,r,i,n,s,o,a,l,u){const c=a-o,h=rs._segmentsCount(Math.abs(c)*s,Math.ceil(Math.abs(c)/Za)*40),d=c/(h*2),f=d*2,p=Math.cos(d),m=Math.sin(d),g=h-1,v=g%1/g;for(let _=0;_<=g;++_){const y=_+v*_,w=d+o+f*y,S=Math.cos(w),x=-Math.sin(w);u.push((p*S+m*x)*s+i,(p*-x+m*S)*s+n)}}}class QR{constructor(){this.reset()}begin(e,r,i){this.reset(),this.style=e,this.start=r,this.attribStart=i}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Zd{static curveLength(e,r,i,n,s,o,a,l){let u=0,c=0,h=0,d=0,f=0,p=0,m=0,g=0,v=0,_=0,y=0,w=e,S=r;for(let x=1;x<=10;++x)c=x/10,h=c*c,d=h*c,f=1-c,p=f*f,m=p*f,g=m*e+3*p*c*i+3*f*h*s+d*a,v=m*r+3*p*c*n+3*f*h*o+d*l,_=w-g,y=S-v,w=g,S=v,u+=Math.sqrt(_*_+y*y);return u}static curveTo(e,r,i,n,s,o,a){const l=a[a.length-2],u=a[a.length-1];a.length-=2;const c=rs._segmentsCount(Zd.curveLength(l,u,e,r,i,n,s,o));let h=0,d=0,f=0,p=0,m=0;a.push(l,u);for(let g=1,v=0;g<=c;++g)v=g/c,h=1-v,d=h*h,f=d*h,p=v*v,m=p*v,a.push(f*l+3*d*v*e+3*h*p*i+m*s,f*u+3*d*v*r+3*h*p*n+m*o)}}function Rm(t,e,r,i,n,s,o,a){const l=t-r*n,u=e-i*n,c=t+r*s,h=e+i*s;let d,f;o?(d=i,f=-r):(d=-i,f=r);const p=l+d,m=u+f,g=c+d,v=h+f;return a.push(p,m,g,v),2}function Ni(t,e,r,i,n,s,o,a){const l=r-t,u=i-e;let c=Math.atan2(l,u),h=Math.atan2(n-t,s-e);a&&c<h?c+=Math.PI*2:!a&&c>h&&(h+=Math.PI*2);let d=c;const f=h-c,p=Math.abs(f),m=Math.sqrt(l*l+u*u),g=(15*p*Math.sqrt(m)/Math.PI>>0)+1,v=f/g;if(d+=v,a){o.push(t,e,r,i);for(let _=1,y=d;_<g;_++,y+=v)o.push(t,e,t+Math.sin(y)*m,e+Math.cos(y)*m);o.push(t,e,n,s)}else{o.push(r,i,t,e);for(let _=1,y=d;_<g;_++,y+=v)o.push(t+Math.sin(y)*m,e+Math.cos(y)*m,t,e);o.push(n,s,t,e)}return g*2}function eI(t,e){const r=t.shape;let i=t.points||r.points.slice();const n=e.closePointEps;if(i.length===0)return;const s=t.lineStyle,o=new ye(i[0],i[1]),a=new ye(i[i.length-2],i[i.length-1]),l=r.type!==tt.POLY||r.closeStroke,u=Math.abs(o.x-a.x)<n&&Math.abs(o.y-a.y)<n;if(l){i=i.slice(),u&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));const U=(o.x+a.x)*.5,V=(a.y+o.y)*.5;i.unshift(U,V),i.push(U,V)}const c=e.points,h=i.length/2;let d=i.length;const f=c.length/2,p=s.width/2,m=p*p,g=s.miterLimit*s.miterLimit;let v=i[0],_=i[1],y=i[2],w=i[3],S=0,x=0,T=-(_-w),A=v-y,P=0,E=0,I=Math.sqrt(T*T+A*A);T/=I,A/=I,T*=p,A*=p;const k=s.alignment,C=(1-k)*2,M=k*2;l||(s.cap===mi.ROUND?d+=Ni(v-T*(C-M)*.5,_-A*(C-M)*.5,v-T*C,_-A*C,v+T*M,_+A*M,c,!0)+2:s.cap===mi.SQUARE&&(d+=Rm(v,_,T,A,C,M,!0,c))),c.push(v-T*C,_-A*C,v+T*M,_+A*M);for(let U=1;U<h-1;++U){v=i[(U-1)*2],_=i[(U-1)*2+1],y=i[U*2],w=i[U*2+1],S=i[(U+1)*2],x=i[(U+1)*2+1],T=-(_-w),A=v-y,I=Math.sqrt(T*T+A*A),T/=I,A/=I,T*=p,A*=p,P=-(w-x),E=y-S,I=Math.sqrt(P*P+E*E),P/=I,E/=I,P*=p,E*=p;const V=y-v,se=_-w,L=y-S,B=x-w,oe=V*L+se*B,he=se*L-B*V,de=he<0;if(Math.abs(he)<.001*Math.abs(oe)){c.push(y-T*C,w-A*C,y+T*M,w+A*M),oe>=0&&(s.join===Rt.ROUND?d+=Ni(y,w,y-T*C,w-A*C,y-P*C,w-E*C,c,!1)+4:d+=2,c.push(y-P*M,w-E*M,y+P*C,w+E*C));continue}const Ee=(-T+v)*(-A+w)-(-T+y)*(-A+_),Ce=(-P+S)*(-E+w)-(-P+y)*(-E+x),ze=(V*Ce-L*Ee)/he,Ye=(B*Ee-se*Ce)/he,ut=(ze-y)*(ze-y)+(Ye-w)*(Ye-w),Ge=y+(ze-y)*C,Se=w+(Ye-w)*C,Be=y-(ze-y)*M,Ne=w-(Ye-w)*M,kt=Math.min(V*V+se*se,L*L+B*B),Mt=de?C:M,Di=kt+Mt*Mt*m,su=ut<=Di;let wn=s.join;if(wn===Rt.MITER&&ut/m>g&&(wn=Rt.BEVEL),su)switch(wn){case Rt.MITER:{c.push(Ge,Se,Be,Ne);break}case Rt.BEVEL:{de?c.push(Ge,Se,y+T*M,w+A*M,Ge,Se,y+P*M,w+E*M):c.push(y-T*C,w-A*C,Be,Ne,y-P*C,w-E*C,Be,Ne),d+=2;break}case Rt.ROUND:{de?(c.push(Ge,Se,y+T*M,w+A*M),d+=Ni(y,w,y+T*M,w+A*M,y+P*M,w+E*M,c,!0)+4,c.push(Ge,Se,y+P*M,w+E*M)):(c.push(y-T*C,w-A*C,Be,Ne),d+=Ni(y,w,y-T*C,w-A*C,y-P*C,w-E*C,c,!1)+4,c.push(y-P*C,w-E*C,Be,Ne));break}}else{switch(c.push(y-T*C,w-A*C,y+T*M,w+A*M),wn){case Rt.MITER:{de?c.push(Be,Ne,Be,Ne):c.push(Ge,Se,Ge,Se),d+=2;break}case Rt.ROUND:{de?d+=Ni(y,w,y+T*M,w+A*M,y+P*M,w+E*M,c,!0)+2:d+=Ni(y,w,y-T*C,w-A*C,y-P*C,w-E*C,c,!1)+2;break}}c.push(y-P*C,w-E*C,y+P*M,w+E*M),d+=2}}v=i[(h-2)*2],_=i[(h-2)*2+1],y=i[(h-1)*2],w=i[(h-1)*2+1],T=-(_-w),A=v-y,I=Math.sqrt(T*T+A*A),T/=I,A/=I,T*=p,A*=p,c.push(y-T*C,w-A*C,y+T*M,w+A*M),l||(s.cap===mi.ROUND?d+=Ni(y-T*(C-M)*.5,w-A*(C-M)*.5,y-T*C,w-A*C,y+T*M,w+A*M,c,!1)+2:s.cap===mi.SQUARE&&(d+=Rm(y,w,T,A,C,M,!1,c)));const D=e.indices,Y=rs.epsilon*rs.epsilon;for(let U=f;U<d+f-2;++U)v=c[U*2],_=c[U*2+1],y=c[(U+1)*2],w=c[(U+1)*2+1],S=c[(U+2)*2],x=c[(U+2)*2+1],!(Math.abs(v*(w-x)+y*(x-_)+S*(_-w))<Y)&&D.push(U,U+1,U+2)}function tI(t,e){let r=0;const i=t.shape,n=t.points||i.points,s=i.type!==tt.POLY||i.closeStroke;if(n.length===0)return;const o=e.points,a=e.indices,l=n.length/2,u=o.length/2;let c=u;for(o.push(n[0],n[1]),r=1;r<l;r++)o.push(n[r*2],n[r*2+1]),a.push(c,c+1),c++;s&&a.push(c,u)}function Im(t,e){t.lineStyle.native?tI(t,e):eI(t,e)}class Jd{static curveLength(e,r,i,n,s,o){const a=e-2*i+s,l=r-2*n+o,u=2*i-2*e,c=2*n-2*r,h=4*(a*a+l*l),d=4*(a*u+l*c),f=u*u+c*c,p=2*Math.sqrt(h+d+f),m=Math.sqrt(h),g=2*h*m,v=2*Math.sqrt(f),_=d/m;return(g*p+m*d*(p-v)+(4*f*h-d*d)*Math.log((2*m+_+p)/(_+v)))/(4*g)}static curveTo(e,r,i,n,s){const o=s[s.length-2],a=s[s.length-1],l=rs._segmentsCount(Jd.curveLength(o,a,e,r,i,n));let u=0,c=0;for(let h=1;h<=l;++h){const d=h/l;u=o+(e-o)*d,c=a+(r-a)*d,s.push(u+(e+(i-e)*d-u)*d,c+(r+(n-r)*d-c)*d)}}}const nc={[tt.POLY]:sb,[tt.CIRC]:ol,[tt.ELIP]:ol,[tt.RECT]:ZR,[tt.RREC]:JR},Om=[],ua=[];class al{constructor(e,r=null,i=null,n=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=i,this.fillStyle=r,this.matrix=n,this.type=e.type}clone(){return new al(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Cn=new ye,ob=class ab extends d_{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new rl,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),ua.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),Om.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,i=null,n=null){const s=new al(e,r,i,n);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const i=new al(e,null,null,r),n=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=n.lineStyle,n.holes.push(i),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let i=0;i<r.length;++i){const n=r[i];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(e,Cn):Cn.copyFrom(e),n.shape.contains(Cn.x,Cn.y))){let s=!1;if(n.holes){for(let o=0;o<n.holes.length;o++)if(n.holes[o].shape.contains(Cn.x,Cn.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let i=null,n=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],n=i.style);for(let l=this.shapeIndex;l<r.length;l++){this.shapeIndex++;const u=r[l],c=u.fillStyle,h=u.lineStyle;nc[u.type].build(u),u.matrix&&this.transformPoints(u.points,u.matrix),(c.visible||h.visible)&&this.processHoles(u.holes);for(let d=0;d<2;d++){const f=d===0?c:h;if(!f.visible)continue;const p=f.texture.baseTexture,m=this.indices.length,g=this.points.length/2;p.wrapMode=_i.REPEAT,d===0?this.processFill(u):this.processLine(u);const v=this.points.length/2-g;v!==0&&(i&&!this._compareStyles(n,f)&&(i.end(m,g),i=null),i||(i=Om.pop()||new QR,i.begin(f,m,g),this.batches.push(i),n=f),this.addUvs(this.points,e,f.texture,g,v,f.matrix))}}const s=this.indices.length,o=this.points.length/2;if(i&&i.end(s,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const i=this.graphicsData[e],n=i.fillStyle,s=i.lineStyle;if(n&&!n.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,i=e.length;r<i;r++){const n=e[r];for(let s=0;s<n.size;s++){const o=n.start+s;this.indicesUint16[o]=this.indicesUint16[o]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<ab.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++le._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),ua.push(this.drawCalls[h]);this.drawCalls.length=0;const r=this.colors,i=this.textureIds;let n=ua.pop();n||(n=new ch,n.texArray=new ph),n.texArray.count=0,n.start=0,n.size=0,n.type=yr.TRIANGLES;let s=0,o=null,a=0,l=!1,u=yr.TRIANGLES,c=0;this.drawCalls.push(n);for(let h=0;h<this.batches.length;h++){const d=this.batches[h],f=8,p=d.style,m=p.texture.baseTexture;l!==!!p.native&&(l=!!p.native,u=l?yr.LINES:yr.TRIANGLES,o=null,s=f,e++),o!==m&&(o=m,m._batchEnabled!==e&&(s===f&&(e++,s=0,n.size>0&&(n=ua.pop(),n||(n=new ch,n.texArray=new ph),this.drawCalls.push(n)),n.start=c,n.size=0,n.texArray.count=0,n.type=u),m.touched=1,m._batchEnabled=e,m._batchLocation=s,m.wrapMode=_i.REPEAT,n.texArray.elements[n.texArray.count++]=m,s++)),n.size+=d.size,c+=d.size,a=m._batchLocation,this.addColors(r,p.color,p.alpha,d.attribSize,d.attribStart),this.addTextureIds(i,a,d.attribSize,d.attribStart)}le._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,i=this.colors,n=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),a=new Uint32Array(s);let l=0;for(let u=0;u<e.length/2;u++)o[l++]=e[u*2],o[l++]=e[u*2+1],o[l++]=r[u*2],o[l++]=r[u*2+1],a[l++]=i[u],o[l++]=n[u];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?sb.triangulate(e,this):nc[e.type].triangulate(e,this)}processLine(e){Im(e,this);for(let r=0;r<e.holes.length;r++)Im(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const i=e[r];nc[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let i=0;i<e.length/2;i++){const n=e[i*2],s=e[i*2+1];e[i*2]=r.a*n+r.c*s+r.tx,e[i*2+1]=r.b*n+r.d*s+r.ty}}addColors(e,r,i,n,s=0){const o=ke.shared.setValue(r).toLittleEndianNumber(),a=ke.shared.setValue(o).toPremultiplied(i);e.length=Math.max(e.length,s+n);for(let l=0;l<n;l++)e[s+l]=a}addTextureIds(e,r,i,n=0){e.length=Math.max(e.length,n+i);for(let s=0;s<i;s++)e[n+s]=r}addUvs(e,r,i,n,s,o=null){let a=0;const l=r.length,u=i.frame;for(;a<s;){let h=e[(n+a)*2],d=e[(n+a)*2+1];if(o){const f=o.a*h+o.c*d+o.tx;d=o.b*h+o.d*d+o.ty,h=f}a++,r.push(h/u.width,d/u.height)}const c=i.baseTexture;(u.width<c.width||u.height<c.height)&&this.adjustUvs(r,i,l,s)}adjustUvs(e,r,i,n){const s=r.baseTexture,o=1e-6,a=i+n*2,l=r.frame,u=l.width/s.width,c=l.height/s.height;let h=l.x/l.width,d=l.y/l.height,f=Math.floor(e[i]+o),p=Math.floor(e[i+1]+o);for(let m=i+2;m<a;m+=2)f=Math.min(f,Math.floor(e[m]+o)),p=Math.min(p,Math.floor(e[m+1]+o));h-=f,d-=p;for(let m=i;m<a;m+=2)e[m]=(e[m]+h)*u,e[m+1]=(e[m+1]+d)*c}};ob.BATCHABLE_SIZE=100;let rI=ob;class Wl{constructor(){this.color=16777215,this.alpha=1,this.texture=K.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Wl;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=K.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Qd extends Wl{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=mi.BUTT,this.join=Rt.MITER,this.miterLimit=10}clone(){const e=new Qd;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=mi.BUTT,this.join=Rt.MITER,this.miterLimit=10}}const sc={},Ih=class Oa extends nr{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Wl,this._lineStyle=new Qd,this._matrix=null,this._holeMode=!1,this.state=Rr.for2d(),this._geometry=e||new rI,this._geometry.refCount++,this._transformID=-1,this._tintColor=new ke(16777215),this.blendMode=re.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Oa(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,i,n=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:i,alignment:n,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:K.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:mi.BUTT,join:Rt.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const i=e.width>0&&e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:i},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new en,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new en,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const i=this.currentPath.points,n=i[i.length-2],s=i[i.length-1];return(n!==e||s!==r)&&i.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,i,n){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),Jd.curveTo(e,r,i,n,s),this}bezierCurveTo(e,r,i,n,s,o){return this._initCurve(),Zd.curveTo(e,r,i,n,s,o,this.currentPath.points),this}arcTo(e,r,i,n,s){this._initCurve(e,r);const o=this.currentPath.points,a=$m.curveTo(e,r,i,n,s,o);if(a){const{cx:l,cy:u,radius:c,startAngle:h,endAngle:d,anticlockwise:f}=a;this.arc(l,u,c,h,d,f)}return this}arc(e,r,i,n,s,o=!1){if(n===s)return this;if(!o&&s<=n?s+=Za:o&&n<=s&&(n+=Za),s-n===0)return this;const a=e+Math.cos(n)*i,l=r+Math.sin(n)*i,u=this._geometry.closePointEps;let c=this.currentPath?this.currentPath.points:null;if(c){const h=Math.abs(c[c.length-2]-a),d=Math.abs(c[c.length-1]-l);h<u&&d<u||c.push(a,l)}else this.moveTo(a,l),c=this.currentPath.points;return $m.arc(a,l,e,r,i,n,s,o,c),this}beginFill(e=0,r){return this.beginTextureFill({texture:K.WHITE,color:e,alpha:r})}normalizeColor(e){const r=ke.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:K.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const i=e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:i},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,i,n){return this.drawShape(new ce(e,r,i,n))}drawRoundedRect(e,r,i,n,s){return this.drawShape(new jl(e,r,i,n,s))}drawCircle(e,r,i){return this.drawShape(new Hl(e,r,i))}drawEllipse(e,r,i,n){return this.drawShape(new zl(e,r,i,n))}drawPolygon(...e){let r,i=!0;const n=e[0];n.points?(i=n.closeStroke,r=n.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new en(r);return s.closeStroke=i,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===tt.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,i=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(e.points);for(let n=0;n<i;n++){const s=e.batches[n],o=s.style.color,a=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),l=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),u=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),c={vertexData:a,blendMode:r,indices:u,uvs:l,_batchRGB:ke.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[n]=c}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,i=this.batches.length;r<i;r++){const n=this.batches[r];n.worldAlpha=this.worldAlpha*n.alpha,e.plugins[this.pluginName].render(n)}}}_renderDirect(e){const r=this._resolveDirectShader(e),i=this._geometry,n=this.worldAlpha,s=r.uniforms,o=i.drawCalls;s.translationMatrix=this.transform.worldTransform,ke.shared.setValue(this._tintColor).premultiply(n).toArray(s.tint),e.shader.bind(r),e.geometry.bind(i,r),e.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(e,i.drawCalls[a])}_renderDrawCallDirect(e,r){const{texArray:i,type:n,size:s,start:o}=r,a=i.count;for(let l=0;l<a;l++)e.texture.bind(i.elements[l],l);e.geometry.draw(n,s,o)}_resolveDirectShader(e){let r=this.shader;const i=this.pluginName;if(!r){if(!sc[i]){const{maxTextures:n}=e.plugins[i],s=new Int32Array(n);for(let l=0;l<n;l++)s[l]=l;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Me,default:er.from({uSamplers:s},!0)},a=e.plugins[i]._shader.program;sc[i]=new Tr(a,o)}r=sc[i]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:i,maxX:n,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,i,n,s)}containsPoint(e){return this.worldTransform.applyInverse(e,Oa._TEMP_POINT),this._geometry.containsPoint(Oa._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=ke.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,i=r.a,n=r.b,s=r.c,o=r.d,a=r.tx,l=r.ty,u=this._geometry.points,c=this.vertexData;let h=0;for(let d=0;d<u.length;d+=2){const f=u[d],p=u[d+1];c[h++]=i*f+s*p+a,c[h++]=o*p+n*f+l}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};Ih.curves=rs,Ih._TEMP_POINT=new ye;let lb=Ih;class iI{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const oc=new ye,Lm=new en,ub=class cb extends nr{constructor(e,r,i,n=yr.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=i||Rr.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=X.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===yr.TRIANGLES&&r.length<cb.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;const n=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[n]),e.plugins[n].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,i=e._updateID;if(i===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const n=this.transform.worldTransform,s=n.a,o=n.b,a=n.c,l=n.d,u=n.tx,c=n.ty,h=this.vertexData;for(let d=0;d<h.length/2;d++){const f=r[d*2],p=r[d*2+1];h[d*2]=s*f+a*p+u,h[d*2+1]=o*f+l*p+c}if(this._roundPixels){const d=X.RESOLUTION;for(let f=0;f<h.length;++f)h[f]=Math.round(h[f]*d)/d}this.vertexDirty=i}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new iI(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,oc);const r=this.geometry.getBuffer("aVertexPosition").data,i=Lm.points,n=this.geometry.getIndex().data,s=n.length,o=this.drawMode===4?3:1;for(let a=0;a+2<s;a+=o){const l=n[a]*2,u=n[a+1]*2,c=n[a+2]*2;if(i[0]=r[l],i[1]=r[l+1],i[2]=r[u],i[3]=r[u+1],i[4]=r[c],i[5]=r[c+1],Lm.contains(oc.x,oc.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};ub.BATCHABLE_SIZE=100;let Dm=ub;class nI extends Ei{constructor(e,r,i){super();const n=new Xe(e),s=new Xe(r,!0),o=new Xe(i,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,ee.FLOAT).addAttribute("aTextureCoord",s,2,!1,ee.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var sI=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,oI=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Bm extends Tr{constructor(e,r){const i={uSampler:e,alpha:1,uTextureMatrix:Me.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(i,r.uniforms),super(r.program||zr.from(oI,sI),i),this._colorDirty=!1,this.uvMatrix=new E_(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new ke(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;ke.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class Fm{constructor(e,r,i){this.geometry=new Ei,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(let n=0;n<e.length;++n){let s=e[n];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ee.FLOAT,offset:s.offset},r[n]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new Xe(Ek(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new Xe(this.dynamicData,!1,!1);let n=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=n,n+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Xe(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===ee.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===ee.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,i){for(let n=0;n<this.dynamicProperties.length;n++){const s=this.dynamicProperties[n];s.uploadFunction(e,r,i,s.type===ee.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,i){for(let n=0;n<this.staticProperties.length;n++){const s=this.staticProperties[n];s.uploadFunction(e,r,i,s.type===ee.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var aI=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,lI=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class hb extends Gl{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Me,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ee.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Tr.from(lI,aI,{}),this.state=Rr.for2d()}render(e){const r=e.children,i=e._maxSize,n=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>i&&!e.autoResize&&(o=i);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=r[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=l_(e.blendMode,u),s.state.set(this.state);const c=s.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=ke.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,u).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let d=!1;for(let f=0,p=0;f<o;f+=n,p+=1){let m=o-f;m>n&&(m=n),p>=a.length&&a.push(this._generateOneMoreBuffer(e));const g=a[p];g.uploadDynamic(r,f,m);const v=e._bufferUpdateIDs[p]||0;d=d||g._updateID<v,d&&(g._updateID=e._updateID,g.uploadStatic(r,f,m)),s.geometry.bind(g.geometry),c.drawElements(c.TRIANGLES,m*6,c.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],i=e._maxSize,n=e._batchSize,s=e._properties;for(let o=0;o<i;o+=n)r.push(new Fm(this.properties,s,n));return r}_generateOneMoreBuffer(e){const r=e._batchSize,i=e._properties;return new Fm(this.properties,i,r)}uploadVertices(e,r,i,n,s,o){let a=0,l=0,u=0,c=0;for(let h=0;h<i;++h){const d=e[r+h],f=d._texture,p=d.scale.x,m=d.scale.y,g=f.trim,v=f.orig;g?(l=g.x-d.anchor.x*v.width,a=l+g.width,c=g.y-d.anchor.y*v.height,u=c+g.height):(a=v.width*(1-d.anchor.x),l=v.width*-d.anchor.x,u=v.height*(1-d.anchor.y),c=v.height*-d.anchor.y),n[o]=l*p,n[o+1]=c*m,n[o+s]=a*p,n[o+s+1]=c*m,n[o+s*2]=a*p,n[o+s*2+1]=u*m,n[o+s*3]=l*p,n[o+s*3+1]=u*m,o+=s*4}}uploadPosition(e,r,i,n,s,o){for(let a=0;a<i;a++){const l=e[r+a].position;n[o]=l.x,n[o+1]=l.y,n[o+s]=l.x,n[o+s+1]=l.y,n[o+s*2]=l.x,n[o+s*2+1]=l.y,n[o+s*3]=l.x,n[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,r,i,n,s,o){for(let a=0;a<i;a++){const l=e[r+a].rotation;n[o]=l,n[o+s]=l,n[o+s*2]=l,n[o+s*3]=l,o+=s*4}}uploadUvs(e,r,i,n,s,o){for(let a=0;a<i;++a){const l=e[r+a]._texture._uvs;l?(n[o]=l.x0,n[o+1]=l.y0,n[o+s]=l.x1,n[o+s+1]=l.y1,n[o+s*2]=l.x2,n[o+s*2+1]=l.y2,n[o+s*3]=l.x3,n[o+s*3+1]=l.y3,o+=s*4):(n[o]=0,n[o+1]=0,n[o+s]=0,n[o+s+1]=0,n[o+s*2]=0,n[o+s*2+1]=0,n[o+s*3]=0,n[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,i,n,s,o){for(let a=0;a<i;++a){const l=e[r+a],u=ke.shared.setValue(l._tintRGB).toPremultiplied(l.alpha,l.texture.baseTexture.alphaMode>0);n[o]=u,n[o+s]=u,n[o+s*2]=u,n[o+s*3]=u,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}hb.extension={name:"particle",type:G.RendererPlugin};Z.add(hb);var Xl=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Xl||{});const ca={willReadFrequently:!0},cr=class J{static get experimentalLetterSpacingSupported(){let e=J._experimentalLetterSpacingSupported;if(e!==void 0){const r=X.ADAPTER.getCanvasRenderingContext2D().prototype;e=J._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,i,n,s,o,a,l,u){this.text=e,this.style=r,this.width=i,this.height=n,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=u}static measureText(e,r,i,n=J._canvas){i=i??r.wordWrap;const s=r.toFontString(),o=J.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const a=n.getContext("2d",ca);a.font=s;const l=(i?J.wordWrap(e,r,n):e).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let c=0;for(let p=0;p<l.length;p++){const m=J._measureText(l[p],r.letterSpacing,a);u[p]=m,c=Math.max(c,m)}let h=c+r.strokeThickness;r.dropShadow&&(h+=r.dropShadowDistance);const d=r.lineHeight||o.fontSize+r.strokeThickness;let f=Math.max(d,o.fontSize+r.strokeThickness*2)+r.leading+(l.length-1)*(d+r.leading);return r.dropShadow&&(f+=r.dropShadowDistance),new J(e,r,h,f,l,u,d+r.leading,c,o)}static _measureText(e,r,i){let n=!1;J.experimentalLetterSpacingSupported&&(J.experimentalLetterSpacing?(i.letterSpacing=`${r}px`,i.textLetterSpacing=`${r}px`,n=!0):(i.letterSpacing="0px",i.textLetterSpacing="0px"));let s=i.measureText(e).width;return s>0&&(n?s-=r:s+=(J.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,i=J._canvas){const n=i.getContext("2d",ca);let s=0,o="",a="";const l=Object.create(null),{letterSpacing:u,whiteSpace:c}=r,h=J.collapseSpaces(c),d=J.collapseNewlines(c);let f=!h;const p=r.wordWrapWidth+u,m=J.tokenize(e);for(let g=0;g<m.length;g++){let v=m[g];if(J.isNewline(v)){if(!d){a+=J.addLine(o),f=!h,o="",s=0;continue}v=" "}if(h){const y=J.isBreakingSpace(v),w=J.isBreakingSpace(o[o.length-1]);if(y&&w)continue}const _=J.getFromCache(v,u,l,n);if(_>p)if(o!==""&&(a+=J.addLine(o),o="",s=0),J.canBreakWords(v,r.breakWords)){const y=J.wordWrapSplit(v);for(let w=0;w<y.length;w++){let S=y[w],x=S,T=1;for(;y[w+T];){const P=y[w+T];if(!J.canBreakChars(x,P,v,w,r.breakWords))S+=P;else break;x=P,T++}w+=T-1;const A=J.getFromCache(S,u,l,n);A+s>p&&(a+=J.addLine(o),f=!1,o="",s=0),o+=S,s+=A}}else{o.length>0&&(a+=J.addLine(o),o="",s=0);const y=g===m.length-1;a+=J.addLine(v,!y),f=!1,o="",s=0}else _+s>p&&(f=!1,a+=J.addLine(o),o="",s=0),(o.length>0||!J.isBreakingSpace(v)||f)&&(o+=v,s+=_)}return a+=J.addLine(o,!1),a}static addLine(e,r=!0){return e=J.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,i,n){let s=i[e];return typeof s!="number"&&(s=J._measureText(e,r,n)+r,i[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const i=e[r];if(!J.isBreakingSpace(i))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:J._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:J._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let i="";if(typeof e!="string")return r;for(let n=0;n<e.length;n++){const s=e[n],o=e[n+1];if(J.isBreakingSpace(s,o)||J.isNewline(s)){i!==""&&(r.push(i),i=""),r.push(s);continue}i+=s}return i!==""&&r.push(i),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,i,n,s){return!0}static wordWrapSplit(e){return J.graphemeSegmenter(e)}static measureFont(e){if(J._fonts[e])return J._fonts[e];const r={ascent:0,descent:0,fontSize:0},i=J._canvas,n=J._context;n.font=e;const s=J.METRICS_STRING+J.BASELINE_SYMBOL,o=Math.ceil(n.measureText(s).width);let a=Math.ceil(n.measureText(J.BASELINE_SYMBOL).width);const l=Math.ceil(J.HEIGHT_MULTIPLIER*a);if(a=a*J.BASELINE_MULTIPLIER|0,o===0||l===0)return J._fonts[e]=r,r;i.width=o,i.height=l,n.fillStyle="#f00",n.fillRect(0,0,o,l),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(s,0,a);const u=n.getImageData(0,0,o,l).data,c=u.length,h=o*4;let d=0,f=0,p=!1;for(d=0;d<a;++d){for(let m=0;m<h;m+=4)if(u[f+m]!==255){p=!0;break}if(!p)f+=h;else break}for(r.ascent=a-d,f=c-h,p=!1,d=l;d>a;--d){for(let m=0;m<h;m+=4)if(u[f+m]!==255){p=!0;break}if(!p)f-=h;else break}return r.descent=d-a,r.fontSize=r.ascent+r.descent,J._fonts[e]=r,r}static clearMetrics(e=""){e?delete J._fonts[e]:J._fonts={}}static get _canvas(){var e;if(!J.__canvas){let r;try{const i=new OffscreenCanvas(0,0);if((e=i.getContext("2d",ca))!=null&&e.measureText)return J.__canvas=i,i;r=X.ADAPTER.createCanvas()}catch{r=X.ADAPTER.createCanvas()}r.width=r.height=10,J.__canvas=r}return J.__canvas}static get _context(){return J.__context||(J.__context=J._canvas.getContext("2d",ca)),J.__context}};cr.METRICS_STRING="|q",cr.BASELINE_SYMBOL="M",cr.BASELINE_MULTIPLIER=1.4,cr.HEIGHT_MULTIPLIER=2,cr.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),cr.experimentalLetterSpacing=!1,cr._fonts={},cr._newlines=[10,13],cr._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let ui=cr;const uI=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],db=class Os{constructor(e){this.styleID=0,this.reset(),lc(this,e,e)}clone(){const e={};return lc(e,this,Os.defaultStyle),new Os(e)}reset(){lc(this,Os.defaultStyle,Os.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=ac(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=ac(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){cI(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=ac(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let i=r.length-1;i>=0;i--){let n=r[i].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!uI.includes(n)&&(n=`"${n}"`),r[i]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};db.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Xl.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Ci=db;function ac(t){const e=ke.shared,r=i=>{const n=e.setValue(i);return n.alpha===1?n.toHex():n.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function cI(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function lc(t,e,r){for(const i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}const hI={texture:!0,children:!1,baseTexture:!0},fb=class Oh extends fs{constructor(e,r,i){let n=!1;i||(i=X.ADAPTER.createCanvas(),n=!0),i.width=3,i.height=3;const s=K.from(i);s.orig=new ce,s.trim=new ce,super(s),this._ownCanvas=n,this.canvas=i,this.context=i.getContext("2d",{willReadFrequently:!0}),this._resolution=Oh.defaultResolution??X.RESOLUTION,this._autoResolution=Oh.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return ui.experimentalLetterSpacing}static set experimentalLetterSpacing(e){pe("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),ui.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const i=this.context,n=ui.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=n.width,o=n.height,a=n.lines,l=n.lineHeight,u=n.lineWidths,c=n.maxLineWidth,h=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=r.strokeThickness,i.textBaseline=r.textBaseline,i.lineJoin=r.lineJoin,i.miterLimit=r.miterLimit;let d,f;const p=r.dropShadow?2:1;for(let m=0;m<p;++m){const g=r.dropShadow&&m===0,v=g?Math.ceil(Math.max(1,o)+r.padding*2):0,_=v*this._resolution;if(g){i.fillStyle="black",i.strokeStyle="black";const w=r.dropShadowColor,S=r.dropShadowBlur*this._resolution,x=r.dropShadowDistance*this._resolution;i.shadowColor=ke.shared.setValue(w).setAlpha(r.dropShadowAlpha).toRgbaString(),i.shadowBlur=S,i.shadowOffsetX=Math.cos(r.dropShadowAngle)*x,i.shadowOffsetY=Math.sin(r.dropShadowAngle)*x+_}else i.fillStyle=this._generateFillStyle(r,a,n),i.strokeStyle=r.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;let y=(l-h.fontSize)/2;l-h.fontSize<0&&(y=0);for(let w=0;w<a.length;w++)d=r.strokeThickness/2,f=r.strokeThickness/2+w*l+h.ascent+y,r.align==="right"?d+=c-u[w]:r.align==="center"&&(d+=(c-u[w])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[w],d+r.padding,f+r.padding-v,!0),r.fill&&this.drawLetterSpacing(a[w],d+r.padding,f+r.padding-v)}this.updateTexture()}drawLetterSpacing(e,r,i,n=!1){const s=this._style.letterSpacing;let o=!1;if(ui.experimentalLetterSpacingSupported&&(ui.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){n?this.context.strokeText(e,r,i):this.context.fillText(e,r,i);return}let a=r;const l=ui.graphemeSegmenter(e);let u=this.context.measureText(e).width,c=0;for(let h=0;h<l.length;++h){const d=l[h];n?this.context.strokeText(d,a,i):this.context.fillText(d,a,i);let f="";for(let p=h+1;p<l.length;++p)f+=l[p];c=this.context.measureText(f).width,a+=u-c+s,u=c}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=Mk(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,i=this._style,n=i.trim?0:i.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-n*2,r.orig.height=r._frame.height-n*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,i){const n=e.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let s;const o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,l=this.canvas.width/this._resolution-o-a*2,u=this.canvas.height/this._resolution-o-a*2,c=n.slice(),h=e.fillGradientStops.slice();if(!h.length){const d=c.length+1;for(let f=1;f<d;++f)h.push(f/d)}if(c.unshift(n[0]),h.unshift(0),c.push(n[n.length-1]),h.push(1),e.fillGradientType===Xl.LINEAR_VERTICAL){s=this.context.createLinearGradient(l/2,a,l/2,u+a);const d=i.fontProperties.fontSize+e.strokeThickness;for(let f=0;f<r.length;f++){const p=i.lineHeight*(f-1)+d,m=i.lineHeight*f;let g=m;f>0&&p>m&&(g=(m+p)/2);const v=m+d,_=i.lineHeight*(f+1);let y=v;f+1<r.length&&_<v&&(y=(v+_)/2);const w=(y-g)/u;for(let S=0;S<c.length;S++){let x=0;typeof h[S]=="number"?x=h[S]:x=S/c.length;let T=Math.min(1,Math.max(0,g/u+x*w));T=Number(T.toFixed(5)),s.addColorStop(T,c[S])}}}else{s=this.context.createLinearGradient(a,u/2,l+a,u/2);const d=c.length+1;let f=1;for(let p=0;p<c.length;p++){let m;typeof h[p]=="number"?m=h[p]:m=f/d,s.addColorStop(m,c[p]),f++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},hI,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=pi(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=pi(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof Ci?this._style=e:this._style=new Ci(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};fb.defaultAutoResolution=!0;let pb=fb;class dI{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function fI(t,e){var i;let r=!1;if((i=t==null?void 0:t._textures)!=null&&i.length){for(let n=0;n<t._textures.length;n++)if(t._textures[n]instanceof K){const s=t._textures[n].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function pI(t,e){if(t.baseTexture instanceof le){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function mI(t,e){if(t._texture&&t._texture instanceof K){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function gI(t,e){return e instanceof pb?(e.updateText(!0),!0):!1}function yI(t,e){if(e instanceof Ci){const r=e.toFontString();return ui.measureFont(r),!0}return!1}function vI(t,e){if(t instanceof pb){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function _I(t,e){return t instanceof Ci?(e.includes(t)||e.push(t),!0):!1}const mb=class gb{constructor(e){this.limiter=new dI(gb.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(vI),this.registerFindHook(_I),this.registerFindHook(fI),this.registerFindHook(pI),this.registerFindHook(mI),this.registerUploadHook(gI),this.registerUploadHook(yI)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,wt.system.addOnce(this.tick,this,cn.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let i=0,n=this.uploadHooks.length;i<n;i++)if(this.uploadHooks[i](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)wt.system.addOnce(this.tick,this,cn.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,i=e.length;r<i;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,i=this.addHooks.length;r<i&&!this.addHooks[r](e,this.queue);r++);if(e instanceof nr)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&wt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};mb.uploadsPerFrame=4;let Lh=mb;Object.defineProperties(X,{UPLOADS_PER_FRAME:{get(){return Lh.uploadsPerFrame},set(t){pe("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Lh.uploadsPerFrame=t}}});function yb(t,e){return e instanceof le?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function bI(t,e){if(!(e instanceof lb))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:i}=r;for(let n=0;n<i.length;n++){const{texture:s}=i[n].style;s&&yb(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function xI(t,e){return t instanceof lb?(e.push(t),!0):!1}class vb extends Lh{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(xI),this.registerUploadHook(yb),this.registerUploadHook(bI)}}vb.extension={name:"prepare",type:G.RendererSystem};Z.add(vb);var wI=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,TI=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,SI=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Nm=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,AI=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const ha=new Me;class _b extends Gl{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new w_,this.state=Rr.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Tr.from(Nm,AI,r),this.shader=e.context.webGLVersion>1?Tr.from(TI,wI,r):Tr.from(Nm,SI,r)}render(e){const r=this.renderer,i=this.quad;let n=i.vertices;n[0]=n[6]=e._width*-e.anchor.x,n[1]=n[3]=e._height*-e.anchor.y,n[2]=n[4]=e._width*(1-e.anchor.x),n[5]=n[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;n=i.uvs,n[0]=n[6]=-s,n[1]=n[3]=-o,n[2]=n[4]=1-s,n[5]=n[7]=1-o,i.invalidate();const a=e._texture,l=a.baseTexture,u=l.alphaMode>0,c=e.tileTransform.localTransform,h=e.uvMatrix;let d=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;d&&(l._glTextures[r.CONTEXT_UID]?d=l.wrapMode!==_i.CLAMP:l.wrapMode===_i.CLAMP&&(l.wrapMode=_i.REPEAT));const f=d?this.simpleShader:this.shader,p=a.width,m=a.height,g=e._width,v=e._height;ha.set(c.a*p/g,c.b*p/v,c.c*m/g,c.d*m/v,c.tx/g,c.ty/v),ha.invert(),d?ha.prepend(h.mapCoord):(f.uniforms.uMapCoord=h.mapCoord.toArray(!0),f.uniforms.uClampFrame=h.uClampFrame,f.uniforms.uClampOffset=h.uClampOffset),f.uniforms.uTransform=ha.toArray(!0),f.uniforms.uColor=ke.shared.setValue(e.tint).premultiply(e.worldAlpha,u).toArray(f.uniforms.uColor),f.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),f.uniforms.uSampler=a,r.shader.bind(f),r.geometry.bind(i),this.state.blendMode=l_(e.blendMode,u),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}_b.extension={name:"tilingSprite",type:G.RendererPlugin};Z.add(_b);const bb=class Ls{constructor(e,r,i){this.linkedSheets=[],(e instanceof le||e instanceof K)&&(e={texture:e,data:r,resolutionFilename:i});const{texture:n,data:s,resolutionFilename:o=null,cachePrefix:a=""}=e;this.cachePrefix=a,this._texture=n instanceof K?n:null,this.baseTexture=n instanceof le?n:this._texture.baseTexture,this.textures={},this.animations={},this.data=s;const l=this.baseTexture.resource;this.resolution=this._updateResolution(o||(l?l.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let i=Jr(e,null);return i===null&&(i=typeof r=="number"?r:parseFloat(r??"1")),i!==1&&this.baseTexture.setResolution(i),i}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Ls.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const i=Ls.BATCH_SIZE;for(;r-e<i&&r<this._frameKeys.length;){const n=this._frameKeys[r],s=this._frames[n],o=s.frame;if(o){let a=null,l=null;const u=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,c=new ce(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);s.rotated?a=new ce(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new ce(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(l=new ce(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[n]=new K(this.baseTexture,a,c,l,s.rotated?2:0,s.anchor,s.borders),K.addToCache(this.textures[n],this.cachePrefix+n.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let i=0;i<e[r].length;i++){const n=e[r][i];this.animations[r].push(this.textures[n])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Ls.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Ls.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const i in this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};bb.BATCH_SIZE=1e3;let Um=bb;const EI=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function xb(t,e,r){const i={};if(t.forEach(n=>{i[n]=e}),Object.keys(e.textures).forEach(n=>{i[`${e.cachePrefix}${n}`]=e.textures[n]}),!r){const n=Je.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{Object.assign(i,xb([`${n}/${e.data.meta.related_multi_packs[o]}`],s,!0))})}return i}const CI={extension:G.Asset,cache:{test:t=>t instanceof Um,getCacheableAssets:(t,e)=>xb(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),i=e.pop();return r==="json"&&EI.includes(i)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=X.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:G.LoadParser,priority:sr.Normal},async testParse(t,e){return Je.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var c,h;const{texture:i,imageFilename:n,cachePrefix:s}=(e==null?void 0:e.data)??{};let o=Je.dirname(e.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let a;if(i&&i.baseTexture)a=i;else{const d=Mh(o+(n??t.meta.image),e.src);a=(await r.load([d]))[d]}const l=new Um({texture:a.baseTexture,data:t,resolutionFilename:e.src,cachePrefix:s});await l.parse();const u=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(u)){const d=[];for(const p of u){if(typeof p!="string")continue;let m=o+p;(h=e.data)!=null&&h.ignoreMultiPack||(m=Mh(m,e.src),d.push(r.load({src:m,data:{ignoreMultiPack:!0}})))}const f=await Promise.all(d);l.linkedSheets=f,f.forEach(p=>{p.linkedSheets=[l].concat(l.linkedSheets.filter(m=>m!==p))})}return l},unload(t){t.destroy(!0)}}};Z.add(CI);class ll{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class La{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const u in a){const c=a[u].split("="),h=c[0],d=c[1].replace(/"/gm,""),f=parseFloat(d),p=isNaN(f)?d:f;l[h]=p}i[o].push(l)}const n=new ll;return i.info.forEach(s=>n.info.push({face:s.face,size:parseInt(s.size,10)})),i.common.forEach(s=>n.common.push({lineHeight:parseInt(s.lineHeight,10)})),i.page.forEach(s=>n.page.push({id:parseInt(s.id,10),file:s.file})),i.char.forEach(s=>n.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),i.kerning.forEach(s=>n.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),i.distanceField.forEach(s=>n.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),n}}class Dh{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new ll,i=e.getElementsByTagName("info"),n=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let u=0;u<i.length;u++)r.info.push({face:i[u].getAttribute("face"),size:parseInt(i[u].getAttribute("size"),10)});for(let u=0;u<n.length;u++)r.common.push({lineHeight:parseInt(n[u].getAttribute("lineHeight"),10)});for(let u=0;u<s.length;u++)r.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(let u=0;u<o.length;u++){const c=o[u];r.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(let u=0;u<a.length;u++)r.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(let u=0;u<l.length;u++)r.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return r}}class Bh{static test(e){return typeof e=="string"&&e.includes("<font>")?Dh.test(X.ADAPTER.parseXML(e)):!1}static parse(e){return Dh.parse(X.ADAPTER.parseXML(e))}}const uc=[La,Dh,Bh];function PI(t){for(let e=0;e<uc.length;e++)if(uc[e].test(t))return uc[e];return null}function kI(t,e,r,i,n,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,c=t.width/i-l-u*2,h=t.height/i-l-u*2,d=o.slice(),f=r.fillGradientStops.slice();if(!f.length){const p=d.length+1;for(let m=1;m<p;++m)f.push(m/p)}if(d.unshift(o[0]),f.unshift(0),d.push(o[o.length-1]),f.push(1),r.fillGradientType===Xl.LINEAR_VERTICAL){a=e.createLinearGradient(c/2,u,c/2,h+u);let p=0;const m=(s.fontProperties.fontSize+r.strokeThickness)/h;for(let g=0;g<n.length;g++){const v=s.lineHeight*g;for(let _=0;_<d.length;_++){let y=0;typeof f[_]=="number"?y=f[_]:y=_/d.length;const w=v/h+y*m;let S=Math.max(p,w);S=Math.min(S,1),a.addColorStop(S,d[_]),p=S}}}else{a=e.createLinearGradient(u,h/2,c+u,h/2);const p=d.length+1;let m=1;for(let g=0;g<d.length;g++){let v;typeof f[g]=="number"?v=f[g]:v=m/p,a.addColorStop(v,d[g]),m++}}return a}function MI(t,e,r,i,n,s,o){const a=r.text,l=r.fontProperties;e.translate(i,n),e.scale(s,s);const u=o.strokeThickness/2,c=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=kI(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const h=o.dropShadowColor,d=o.dropShadowBlur*s,f=o.dropShadowDistance*s;e.shadowColor=ke.shared.setValue(h).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=d,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*f,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*f}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,u,c+r.lineHeight-l.descent),o.fill&&e.fillText(a,u,c+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Da(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function wb(t){return Array.from?Array.from(t):t.split("")}function $I(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,i=t.length;r<i;r++){const n=t[r];if(Array.isArray(n)){if(n.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${n.length}.`);const s=n[0].charCodeAt(0),o=n[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...wb(n))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const ni=class hr{constructor(e,r,i){var c;const[n]=e.info,[s]=e.common,[o]=e.page,[a]=e.distanceField,l=Jr(o.file),u={};this._ownsTextures=i,this.font=n.face,this.size=n.size,this.lineHeight=s.lineHeight/l,this.chars={},this.pageTextures=u;for(let h=0;h<e.page.length;h++){const{id:d,file:f}=e.page[h];u[d]=r instanceof Array?r[h]:r[f],a!=null&&a.fieldType&&a.fieldType!=="none"&&(u[d].baseTexture.alphaMode=mt.NO_PREMULTIPLIED_ALPHA,u[d].baseTexture.mipmap=Cr.OFF)}for(let h=0;h<e.char.length;h++){const{id:d,page:f}=e.char[h];let{x:p,y:m,width:g,height:v,xoffset:_,yoffset:y,xadvance:w}=e.char[h];p/=l,m/=l,g/=l,v/=l,_/=l,y/=l,w/=l;const S=new ce(p+u[f].frame.x/l,m+u[f].frame.y/l,g,v);this.chars[d]={xOffset:_,yOffset:y,xAdvance:w,kerning:{},texture:new K(u[f].baseTexture,S),page:f}}for(let h=0;h<e.kerning.length;h++){let{first:d,second:f,amount:p}=e.kerning[h];d/=l,f/=l,p/=l,this.chars[f]&&(this.chars[f].kerning[d]=p)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=((c=a==null?void 0:a.fieldType)==null?void 0:c.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,i){let n;if(e instanceof ll)n=e;else{const o=PI(e);if(!o)throw new Error("Unrecognized data format for font.");n=o.parse(e)}r instanceof K&&(r=[r]);const s=new hr(n,r,i);return hr.available[s.font]=s,s}static uninstall(e){const r=hr.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete hr.available[e]}static from(e,r,i){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:s,resolution:o,textureWidth:a,textureHeight:l,...u}=Object.assign({},hr.defaultOptions,i),c=$I(n),h=r instanceof Ci?r:new Ci(r),d=a,f=new ll;f.info[0]={face:h.fontFamily,size:h.fontSize},f.common[0]={lineHeight:h.fontSize};let p=0,m=0,g,v,_,y=0;const w=[];for(let x=0;x<c.length;x++){g||(g=X.ADAPTER.createCanvas(),g.width=a,g.height=l,v=g.getContext("2d"),_=new le(g,{resolution:o,...u}),w.push(new K(_)),f.page.push({id:w.length-1,file:""}));const T=c[x],A=ui.measureText(T,h,!1,g),P=A.width,E=Math.ceil(A.height),I=Math.ceil((h.fontStyle==="italic"?2:1)*P);if(m>=l-E*o){if(m===0)throw new Error(`[BitmapFont] textureHeight ${l}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${T}')`);--x,g=null,v=null,_=null,m=0,p=0,y=0;continue}if(y=Math.max(E+A.fontProperties.descent,y),I*o+p>=d){if(p===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${T}')`);--x,m+=y*o,m=Math.ceil(m),p=0,y=0;continue}MI(g,v,A,p,m,o,h);const k=Da(A.text);f.char.push({id:k,page:w.length-1,x:p/o,y:m/o,width:I,height:E,xoffset:0,yoffset:0,xadvance:P-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0)}),p+=(I+2*s)*o,p=Math.ceil(p)}if(!(i!=null&&i.skipKerning))for(let x=0,T=c.length;x<T;x++){const A=c[x];for(let P=0;P<T;P++){const E=c[P],I=v.measureText(A).width,k=v.measureText(E).width,C=v.measureText(A+E).width-(I+k);C&&f.kerning.push({first:Da(A),second:Da(E),amount:C})}}const S=new hr(f,w,!0);return hr.available[e]!==void 0&&hr.uninstall(e),hr.available[e]=S,S}};ni.ALPHA=[["a","z"],["A","Z"]," "],ni.NUMERIC=[["0","9"]],ni.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],ni.ASCII=[[" ","~"]],ni.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:ni.ALPHANUMERIC},ni.available={};let si=ni;var RI=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,II=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const Hm=[],zm=[],jm=[],OI=class Tb extends nr{constructor(e,r={}){super();const{align:i,tint:n,maxWidth:s,letterSpacing:o,fontName:a,fontSize:l}=Object.assign({},Tb.styleDefaults,r);if(!si.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=i,this._tintColor=new ke(n),this._font=void 0,this._fontName=a,this._fontSize=l,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new Hr(()=>{this.dirty=!0},this,0,0),this._roundPixels=X.ROUND_PIXELS,this.dirty=!0,this._resolution=X.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var I;const e=si.available[this._fontName],r=this.fontSize,i=r/e.size,n=new ye,s=[],o=[],a=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",u=wb(l),c=this._maxWidth*e.size/r,h=e.distanceFieldType==="none"?Hm:zm;let d=null,f=0,p=0,m=0,g=-1,v=0,_=0,y=0,w=0;for(let k=0;k<u.length;k++){const C=u[k],M=Da(C);if(/(?:\s)/.test(C)&&(g=k,v=f,w++),C==="\r"||C===`
`){o.push(f),a.push(-1),p=Math.max(p,f),++m,++_,n.x=0,n.y+=e.lineHeight,d=null,w=0;continue}const D=e.chars[M];if(!D)continue;d&&D.kerning[d]&&(n.x+=D.kerning[d]);const Y=jm.pop()||{texture:K.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ye};Y.texture=D.texture,Y.line=m,Y.charCode=M,Y.position.x=Math.round(n.x+D.xOffset+this._letterSpacing/2),Y.position.y=Math.round(n.y+D.yOffset),Y.prevSpaces=w,s.push(Y),f=Y.position.x+Math.max(D.xAdvance-D.xOffset,D.texture.orig.width),n.x+=D.xAdvance+this._letterSpacing,y=Math.max(y,D.yOffset+D.texture.height),d=M,g!==-1&&c>0&&n.x>c&&(++_,Xn(s,1+g-_,1+k-g),k=g,g=-1,o.push(v),a.push(s.length>0?s[s.length-1].prevSpaces:0),p=Math.max(p,v),m++,n.x=0,n.y+=e.lineHeight,d=null,w=0)}const S=u[u.length-1];S!=="\r"&&S!==`
`&&(/(?:\s)/.test(S)&&(f=v),o.push(f),p=Math.max(p,f),a.push(-1));const x=[];for(let k=0;k<=m;k++){let C=0;this._align==="right"?C=p-o[k]:this._align==="center"?C=(p-o[k])/2:this._align==="justify"&&(C=a[k]<0?0:(p-o[k])/a[k]),x.push(C)}const T=s.length,A={},P=[],E=this._activePagesMeshData;h.push(...E);for(let k=0;k<T;k++){const C=s[k].texture,M=C.baseTexture.uid;if(!A[M]){let D=h.pop();if(!D){const U=new nI;let V,se;e.distanceFieldType==="none"?(V=new Bm(K.EMPTY),se=re.NORMAL):(V=new Bm(K.EMPTY,{program:zr.from(II,RI),uniforms:{uFWidth:0}}),se=re.NORMAL_NPM);const L=new Dm(U,V);L.blendMode=se,D={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:L,vertices:null,uvs:null,indices:null}}D.index=0,D.indexCount=0,D.vertexCount=0,D.uvsCount=0,D.total=0;const{_textureCache:Y}=this;Y[M]=Y[M]||new K(C.baseTexture),D.mesh.texture=Y[M],D.mesh.tint=this._tintColor.value,P.push(D),A[M]=D}A[M].total++}for(let k=0;k<E.length;k++)P.includes(E[k])||this.removeChild(E[k].mesh);for(let k=0;k<P.length;k++)P[k].mesh.parent!==this&&this.addChild(P[k].mesh);this._activePagesMeshData=P;for(const k in A){const C=A[k],M=C.total;if(!(((I=C.indices)==null?void 0:I.length)>6*M)||C.vertices.length<Dm.BATCHABLE_SIZE*2)C.vertices=new Float32Array(4*2*M),C.uvs=new Float32Array(4*2*M),C.indices=new Uint16Array(6*M);else{const D=C.total,Y=C.vertices;for(let U=D*4*2;U<Y.length;U++)Y[U]=0}C.mesh.size=6*M}for(let k=0;k<T;k++){const C=s[k];let M=C.position.x+x[C.line]*(this._align==="justify"?C.prevSpaces:1);this._roundPixels&&(M=Math.round(M));const D=M*i,Y=C.position.y*i,U=C.texture,V=A[U.baseTexture.uid],se=U.frame,L=U._uvs,B=V.index++;V.indices[B*6+0]=0+B*4,V.indices[B*6+1]=1+B*4,V.indices[B*6+2]=2+B*4,V.indices[B*6+3]=0+B*4,V.indices[B*6+4]=2+B*4,V.indices[B*6+5]=3+B*4,V.vertices[B*8+0]=D,V.vertices[B*8+1]=Y,V.vertices[B*8+2]=D+se.width*i,V.vertices[B*8+3]=Y,V.vertices[B*8+4]=D+se.width*i,V.vertices[B*8+5]=Y+se.height*i,V.vertices[B*8+6]=D,V.vertices[B*8+7]=Y+se.height*i,V.uvs[B*8+0]=L.x0,V.uvs[B*8+1]=L.y0,V.uvs[B*8+2]=L.x1,V.uvs[B*8+3]=L.y1,V.uvs[B*8+4]=L.x2,V.uvs[B*8+5]=L.y2,V.uvs[B*8+6]=L.x3,V.uvs[B*8+7]=L.y3}this._textWidth=p*i,this._textHeight=(n.y+e.lineHeight)*i;for(const k in A){const C=A[k];if(this.anchor.x!==0||this.anchor.y!==0){let U=0;const V=this._textWidth*this.anchor.x,se=this._textHeight*this.anchor.y;for(let L=0;L<C.total;L++)C.vertices[U++]-=V,C.vertices[U++]-=se,C.vertices[U++]-=V,C.vertices[U++]-=se,C.vertices[U++]-=V,C.vertices[U++]-=se,C.vertices[U++]-=V,C.vertices[U++]-=se}this._maxLineHeight=y*i;const M=C.mesh.geometry.getBuffer("aVertexPosition"),D=C.mesh.geometry.getBuffer("aTextureCoord"),Y=C.mesh.geometry.getIndex();M.data=C.vertices,D.data=C.uvs,Y.data=C.indices,M.update(),D.update(),Y.update()}for(let k=0;k<s.length;k++)jm.push(s[k]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:i,size:n}=si.available[this._fontName];if(i!=="none"){const{a:s,b:o,c:a,d:l}=this.worldTransform,u=Math.sqrt(s*s+o*o),c=Math.sqrt(a*a+l*l),h=(Math.abs(u)+Math.abs(c))/2,d=this.fontSize/n,f=e._view.resolution;for(const p of this._activePagesMeshData)p.mesh.shader.uniforms.uFWidth=h*r*d*f}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=si.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!si.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??si.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,i=si.available[this._fontName].distanceFieldType==="none"?Hm:zm;i.push(...this._activePagesMeshData);for(const n of this._activePagesMeshData)this.removeChild(n.mesh);this._activePagesMeshData=[],i.filter(n=>r[n.mesh.texture.baseTexture.uid]).forEach(n=>{n.mesh.texture=K.EMPTY});for(const n in r)r[n].destroy(),delete r[n];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};OI.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const LI=[".xml",".fnt"],DI={extension:{type:G.LoadParser,priority:sr.Normal},name:"loadBitmapFont",test(t){return LI.includes(Je.extname(t).toLowerCase())},async testParse(t){return La.test(t)||Bh.test(t)},async parse(t,e,r){const i=La.test(t)?La.parse(t):Bh.parse(t),{src:n}=e,{page:s}=i,o=[];for(let u=0;u<s.length;++u){const c=s[u].file;let h=Je.join(Je.dirname(n),c);h=Mh(h,n),o.push(h)}const a=await r.load(o),l=o.map(u=>a[u]);return si.install(i,l,!0)},async load(t,e){return(await X.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};Z.add(DI);const Fh=class Ln extends Ci{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Ln(Object.keys(Ln.defaultOptions).reduce((r,i)=>({...r,[i]:e[i]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Ln.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:i}=Ln;if(i[e]){const n=i[e];return this._fonts.push(n),n.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return X.ADAPTER.fetch(e).then(n=>n.blob()).then(async n=>new Promise((s,o)=>{const a=URL.createObjectURL(n),l=new FileReader;l.onload=()=>s([a,l.result]),l.onerror=o,l.readAsDataURL(n)})).then(async([n,s])=>{const o=Object.assign({family:Je.basename(e,Je.extname(e)),weight:"normal",style:"normal",display:"auto",src:n,dataSrc:s,refs:1,originalUrl:e,fontFace:null},r);i[e]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(i=>!this._overrides.includes(i));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(i=>this._overrides.includes(i));r.length>0&&(this._overrides=this._overrides.filter(i=>!r.includes(i)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>`${e}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=Sk(e)),typeof e=="number"?Tk(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,i=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const s=`${i}px ${n}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,Ln.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=X.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};Fh.availableFonts={},Fh.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let cc=Fh;const da=class Dn extends fs{constructor(e="",r={}){super(K.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const i=new Image,n=K.from(i,{scaleMode:X.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new ce,n.trim=new ce,this.texture=n;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject"),u=document.createElementNS(o,"div"),c=document.createElementNS(o,"style");l.setAttribute("width","10000"),l.setAttribute("height","10000"),l.style.overflow="hidden",a.appendChild(l),this.maxWidth=Dn.defaultMaxWidth,this.maxHeight=Dn.defaultMaxHeight,this._domElement=u,this._styleElement=c,this._svgRoot=a,this._foreignObject=l,this._foreignObject.appendChild(c),this._foreignObject.appendChild(u),this._image=i,this._loadImage=new Image,this._autoResolution=Dn.defaultAutoResolution,this._resolution=Dn.defaultResolution??X.RESOLUTION,this.text=e,this.style=r}measureText(e){var c,h;const{text:r,style:i,resolution:n}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:i.toCSS(n)}),this._styleElement.textContent=i.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:a}=s;(o>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const l=Math.min(this.maxWidth,Math.ceil(o)),u=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",l.toString()),this._svgRoot.setAttribute("height",u.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),i!==this._style&&(Object.assign(this._domElement,{style:(c=this._style)==null?void 0:c.toCSS(n)}),this._styleElement.textContent=(h=this._style)==null?void 0:h.toGlobalCSS()),{width:l+i.padding*2,height:u+i.padding*2}}async updateText(e=!0){const{style:r,_image:i,_loadImage:n}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:s,height:o}=this.measureText();i.width=n.width=Math.ceil(Math.max(1,s)),i.height=n.height=Math.ceil(Math.max(1,o)),this._updateID++;const a=this._updateID;await new Promise(l=>{n.onload=async()=>{if(a<this._updateID){l();return}await r.onBeforeDraw(),i.src=n.src,n.onload=null,n.src="",this.updateTexture(),l()};const u=new XMLSerializer().serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(u)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:i,resolution:n}=this,{padding:s}=e,{baseTexture:o}=r;r.trim.width=r._frame.width=i.width/n,r.trim.height=r._frame.height=i.height/n,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(i.width,i.height,n),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var i,n,s,o,a;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Dn.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((i=this._style)==null||i.cleanFonts()),this._style=r,(n=this._svgRoot)==null||n.remove(),this._svgRoot=r,(s=this._domElement)==null||s.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(a=this._styleElement)==null||a.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=pi(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=pi(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof cc?(this.ownsStyle=!1,this._style=e):e instanceof Ci?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=cc.from(e)):(this.ownsStyle=!0,this._style=new cc(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};da.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},da.defaultMaxWidth=2024,da.defaultMaxHeight=2024,da.defaultAutoResolution=!0;const BI=H({__name:"App",setup(t){const{switchCharacter:e,switchSkin:r,captureFrame:i,toggleLive2DVisibility:n,isLive2DHide:s}=OE();return _e(s,o=>(o?DE:LE)()),(o,a)=>($(),N(Le,null,[a[4]||(a[4]=O("div",{id:"live2d"},[O("div",{id:"live2d-tips"}),O("canvas",{id:"live2d-canvas"})],-1)),O("div",{id:"live2d-tools",class:Te(R(s)?"hide":"show")},[O("span",{id:"live2d-tool-quit",class:"live2d-tool hide-live2d",onClick:a[0]||(a[0]=l=>R(n)())},me(R(s)?"Show":"Hide"),1),O("span",{id:"live2d-tool-switch-model",class:"live2d-tool",style:{"--live2d-tool-bg":"#c3a6cb"},onClick:a[1]||(a[1]=l=>R(e)())}," Tia "),O("span",{id:"live2d-tool-switch-texture",class:"live2d-tool",style:{"--live2d-tool-bg":"#16a"},onClick:a[2]||(a[2]=l=>R(r)())}," Switch "),O("span",{id:"live2d-tool-photo",class:"live2d-tool",style:{"--live2d-tool-bg":"orange"},onClick:a[3]||(a[3]=l=>R(i)())}," Save ")],2)],64))}}),FI=Mr(BI,[["__scopeId","data-v-09c8249c"]]),NI=[{component:EE,props:{}},{component:FI,props:{}}],UI=H({__name:"ValaxyAddons",setup(t){return(e,r)=>($(!0),N(Le,null,fn(R(NI),({component:i,props:n},s)=>($(),ue(_x(i),an({ref_for:!0},n,{key:s}),null,16))),128))}}),HI={class:"progress-circle-container",viewBox:"0 0 100 100"},zI=["stroke-dasharray","stroke-dashoffset"],Gm=48,jI=H({__name:"YunBackToTop",setup(t){const{show:e,percentage:r,backToTop:i}=K2({offset:100}),n=2*Gm*Math.PI,s=j(()=>{const o=(1-r.value)*n;return o<0?0:o});return(o,a)=>($(),N("a",{href:"#",class:Te(["back-to-top yun-icon-btn bg-$va-c-bg-soft shadow-md",R(e)&&"show"]),onClick:a[0]||(a[0]=(...l)=>R(i)&&R(i)(...l))},[a[1]||(a[1]=O("div",{class:"size-8","i-ri-arrow-up-s-line":""},null,-1)),($(),N("svg",HI,[O("circle",{"stroke-dasharray":`${n} ${n}`,"stroke-dashoffset":s.value,stroke:"currentColor","stroke-width":"2","stroke-linecap":"round",class:"progress-circle",cx:"50",cy:"50",r:Gm,fill:"none"},null,8,zI)]))],2))}}),GI={},VI={class:"yun-page-loading",absolute:"","left-0":"","right-0":"","bottom-0":"","top-0":"",flex:"",justify:"center","items-center":"","z-10":"",bg:"$va-c-bg"};function WI(t,e){return $(),N("div",VI,[...e[0]||(e[0]=[O("div",{class:"spinner"},null,-1)])])}const XI=Mr(GI,[["render",WI],["__scopeId","data-v-673bc094"]]),YI={class:"yun-bg"},qI=H({__name:"YunBg",setup(t){const e=Yr(),r=Ii();if(typeof r.value.bg_image.url<"u"){const i=Uc("--yun-bg-img-opacity");r.value.bg_image.opacity&&(i.value=r.value.bg_image.opacity.toString()||"1");const n=j(()=>e.isDark?r.value.bg_image.dark:r.value.bg_image.url),s=Uc("--yun-bg-img");_e(()=>n.value,()=>{s.value=`url('${n.value}')`},{immediate:!0})}return(i,n)=>($(),N("div",YI))}});var Sb={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},ef={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},KI=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],ul={CSS:{},springs:{}};function vr(t,e,r){return Math.min(Math.max(t,e),r)}function Vs(t,e){return t.indexOf(e)>-1}function hc(t,e){return t.apply(null,e)}var te={arr:function(t){return Array.isArray(t)},obj:function(t){return Vs(Object.prototype.toString.call(t),"Object")},pth:function(t){return te.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||te.svg(t)},str:function(t){return typeof t=="string"},fnc:function(t){return typeof t=="function"},und:function(t){return typeof t>"u"},nil:function(t){return te.und(t)||t===null},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return te.hex(t)||te.rgb(t)||te.hsl(t)},key:function(t){return!Sb.hasOwnProperty(t)&&!ef.hasOwnProperty(t)&&t!=="targets"&&t!=="keyframes"}};function Ab(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map(function(r){return parseFloat(r)}):[]}function Eb(t,e){var r=Ab(t),i=vr(te.und(r[0])?1:r[0],.1,100),n=vr(te.und(r[1])?100:r[1],.1,100),s=vr(te.und(r[2])?10:r[2],.1,100),o=vr(te.und(r[3])?0:r[3],.1,100),a=Math.sqrt(n/i),l=s/(2*Math.sqrt(n*i)),u=l<1?a*Math.sqrt(1-l*l):0,c=1,h=l<1?(l*a+-o)/u:-o+a;function d(p){var m=e?e*p/1e3:p;return l<1?m=Math.exp(-m*l*a)*(c*Math.cos(u*m)+h*Math.sin(u*m)):m=(c+h*m)*Math.exp(-m*a),p===0||p===1?p:1-m}function f(){var p=ul.springs[t];if(p)return p;for(var m=1/6,g=0,v=0;;)if(g+=m,d(g)===1){if(v++,v>=16)break}else v=0;var _=g*m*1e3;return ul.springs[t]=_,_}return e?d:f}function ZI(t){return t===void 0&&(t=10),function(e){return Math.ceil(vr(e,1e-6,1)*t)*(1/t)}}var JI=function(){var t=11,e=1/(t-1);function r(c,h){return 1-3*h+3*c}function i(c,h){return 3*h-6*c}function n(c){return 3*c}function s(c,h,d){return((r(h,d)*c+i(h,d))*c+n(h))*c}function o(c,h,d){return 3*r(h,d)*c*c+2*i(h,d)*c+n(h)}function a(c,h,d,f,p){var m,g,v=0;do g=h+(d-h)/2,m=s(g,f,p)-c,m>0?d=g:h=g;while(Math.abs(m)>1e-7&&++v<10);return g}function l(c,h,d,f){for(var p=0;p<4;++p){var m=o(h,d,f);if(m===0)return h;var g=s(h,d,f)-c;h-=g/m}return h}function u(c,h,d,f){if(!(0<=c&&c<=1&&0<=d&&d<=1))return;var p=new Float32Array(t);if(c!==h||d!==f)for(var m=0;m<t;++m)p[m]=s(m*e,c,d);function g(v){for(var _=0,y=1,w=t-1;y!==w&&p[y]<=v;++y)_+=e;--y;var S=(v-p[y])/(p[y+1]-p[y]),x=_+S*e,T=o(x,c,d);return T>=.001?l(v,x,c,d):T===0?x:a(v,_,_+e,c,d)}return function(v){return c===h&&d===f||v===0||v===1?v:s(g(v),h,f)}}return u}(),Cb=function(){var t={linear:function(){return function(i){return i}}},e={Sine:function(){return function(i){return 1-Math.cos(i*Math.PI/2)}},Expo:function(){return function(i){return i?Math.pow(2,10*i-10):0}},Circ:function(){return function(i){return 1-Math.sqrt(1-i*i)}},Back:function(){return function(i){return i*i*(3*i-2)}},Bounce:function(){return function(i){for(var n,s=4;i<((n=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((n*3-2)/22-i,2)}},Elastic:function(i,n){i===void 0&&(i=1),n===void 0&&(n=.5);var s=vr(i,1,10),o=vr(n,.1,2);return function(a){return a===0||a===1?a:-s*Math.pow(2,10*(a-1))*Math.sin((a-1-o/(Math.PI*2)*Math.asin(1/s))*(Math.PI*2)/o)}}},r=["Quad","Cubic","Quart","Quint"];return r.forEach(function(i,n){e[i]=function(){return function(s){return Math.pow(s,n+2)}}}),Object.keys(e).forEach(function(i){var n=e[i];t["easeIn"+i]=n,t["easeOut"+i]=function(s,o){return function(a){return 1-n(s,o)(1-a)}},t["easeInOut"+i]=function(s,o){return function(a){return a<.5?n(s,o)(a*2)/2:1-n(s,o)(a*-2+2)/2}},t["easeOutIn"+i]=function(s,o){return function(a){return a<.5?(1-n(s,o)(1-a*2))/2:(n(s,o)(a*2-1)+1)/2}}}),t}();function tf(t,e){if(te.fnc(t))return t;var r=t.split("(")[0],i=Cb[r],n=Ab(t);switch(r){case"spring":return Eb(t,e);case"cubicBezier":return hc(JI,n);case"steps":return hc(ZI,n);default:return hc(i,n)}}function Pb(t){try{var e=document.querySelectorAll(t);return e}catch{return}}function Yl(t,e){for(var r=t.length,i=arguments.length>=2?arguments[1]:void 0,n=[],s=0;s<r;s++)if(s in t){var o=t[s];e.call(i,o,s,t)&&n.push(o)}return n}function ql(t){return t.reduce(function(e,r){return e.concat(te.arr(r)?ql(r):r)},[])}function Vm(t){return te.arr(t)?t:(te.str(t)&&(t=Pb(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function rf(t,e){return t.some(function(r){return r===e})}function nf(t){var e={};for(var r in t)e[r]=t[r];return e}function Nh(t,e){var r=nf(t);for(var i in t)r[i]=e.hasOwnProperty(i)?e[i]:t[i];return r}function Kl(t,e){var r=nf(t);for(var i in e)r[i]=te.und(t[i])?e[i]:t[i];return r}function QI(t){var e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t);return e?"rgba("+e[1]+",1)":t}function eO(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=t.replace(e,function(a,l,u,c){return l+l+u+u+c+c}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),n=parseInt(i[1],16),s=parseInt(i[2],16),o=parseInt(i[3],16);return"rgba("+n+","+s+","+o+",1)"}function tO(t){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),r=parseInt(e[1],10)/360,i=parseInt(e[2],10)/100,n=parseInt(e[3],10)/100,s=e[4]||1;function o(d,f,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?d+(f-d)*6*p:p<1/2?f:p<2/3?d+(f-d)*(2/3-p)*6:d}var a,l,u;if(i==0)a=l=u=n;else{var c=n<.5?n*(1+i):n+i-n*i,h=2*n-c;a=o(h,c,r+1/3),l=o(h,c,r),u=o(h,c,r-1/3)}return"rgba("+a*255+","+l*255+","+u*255+","+s+")"}function rO(t){if(te.rgb(t))return QI(t);if(te.hex(t))return eO(t);if(te.hsl(t))return tO(t)}function Gr(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function iO(t){if(Vs(t,"translate")||t==="perspective")return"px";if(Vs(t,"rotate")||Vs(t,"skew"))return"deg"}function Uh(t,e){return te.fnc(t)?t(e.target,e.id,e.total):t}function _r(t,e){return t.getAttribute(e)}function sf(t,e,r){var i=Gr(e);if(rf([r,"deg","rad","turn"],i))return e;var n=ul.CSS[e+r];if(!te.und(n))return n;var s=100,o=document.createElement(t.tagName),a=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=s+r;var l=s/o.offsetWidth;a.removeChild(o);var u=l*parseFloat(e);return ul.CSS[e+r]=u,u}function kb(t,e,r){if(e in t.style){var i=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),n=t.style[e]||getComputedStyle(t).getPropertyValue(i)||"0";return r?sf(t,n,r):n}}function of(t,e){if(te.dom(t)&&!te.inp(t)&&(!te.nil(_r(t,e))||te.svg(t)&&t[e]))return"attribute";if(te.dom(t)&&rf(KI,e))return"transform";if(te.dom(t)&&e!=="transform"&&kb(t,e))return"css";if(t[e]!=null)return"object"}function Mb(t){if(te.dom(t)){for(var e=t.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map,n;n=r.exec(e);)i.set(n[1],n[2]);return i}}function nO(t,e,r,i){var n=Vs(e,"scale")?1:0+iO(e),s=Mb(t).get(e)||n;return r&&(r.transforms.list.set(e,s),r.transforms.last=e),i?sf(t,s,i):s}function af(t,e,r,i){switch(of(t,e)){case"transform":return nO(t,e,i,r);case"css":return kb(t,e,r);case"attribute":return _r(t,e);default:return t[e]||0}}function lf(t,e){var r=/^(\*=|\+=|-=)/.exec(t);if(!r)return t;var i=Gr(t)||0,n=parseFloat(e),s=parseFloat(t.replace(r[0],""));switch(r[0][0]){case"+":return n+s+i;case"-":return n-s+i;case"*":return n*s+i}}function $b(t,e){if(te.col(t))return rO(t);if(/\s/g.test(t))return t;var r=Gr(t),i=r?t.substr(0,t.length-r.length):t;return e?i+e:i}function uf(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function sO(t){return Math.PI*2*_r(t,"r")}function oO(t){return _r(t,"width")*2+_r(t,"height")*2}function aO(t){return uf({x:_r(t,"x1"),y:_r(t,"y1")},{x:_r(t,"x2"),y:_r(t,"y2")})}function Rb(t){for(var e=t.points,r=0,i,n=0;n<e.numberOfItems;n++){var s=e.getItem(n);n>0&&(r+=uf(i,s)),i=s}return r}function lO(t){var e=t.points;return Rb(t)+uf(e.getItem(e.numberOfItems-1),e.getItem(0))}function Ib(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return sO(t);case"rect":return oO(t);case"line":return aO(t);case"polyline":return Rb(t);case"polygon":return lO(t)}}function uO(t){var e=Ib(t);return t.setAttribute("stroke-dasharray",e),e}function cO(t){for(var e=t.parentNode;te.svg(e)&&te.svg(e.parentNode);)e=e.parentNode;return e}function Ob(t,e){var r=e||{},i=r.el||cO(t),n=i.getBoundingClientRect(),s=_r(i,"viewBox"),o=n.width,a=n.height,l=r.viewBox||(s?s.split(" "):[0,0,o,a]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:a,vW:l[2],vH:l[3]}}function hO(t,e){var r=te.str(t)?Pb(t)[0]:t,i=e||100;return function(n){return{property:n,el:r,svg:Ob(r),totalLength:Ib(r)*(i/100)}}}function dO(t,e,r){function i(c){c===void 0&&(c=0);var h=e+c>=1?e+c:0;return t.el.getPointAtLength(h)}var n=Ob(t.el,t.svg),s=i(),o=i(-1),a=i(1),l=r?1:n.w/n.vW,u=r?1:n.h/n.vH;switch(t.property){case"x":return(s.x-n.x)*l;case"y":return(s.y-n.y)*u;case"angle":return Math.atan2(a.y-o.y,a.x-o.x)*180/Math.PI}}function Wm(t,e){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=$b(te.pth(t)?t.totalLength:t,e)+"";return{original:i,numbers:i.match(r)?i.match(r).map(Number):[0],strings:te.str(t)||e?i.split(r):[]}}function cf(t){var e=t?ql(te.arr(t)?t.map(Vm):Vm(t)):[];return Yl(e,function(r,i,n){return n.indexOf(r)===i})}function Lb(t){var e=cf(t);return e.map(function(r,i){return{target:r,id:i,total:e.length,transforms:{list:Mb(r)}}})}function fO(t,e){var r=nf(e);if(/^spring/.test(r.easing)&&(r.duration=Eb(r.easing)),te.arr(t)){var i=t.length,n=i===2&&!te.obj(t[0]);n?t={value:t}:te.fnc(e.duration)||(r.duration=e.duration/i)}var s=te.arr(t)?t:[t];return s.map(function(o,a){var l=te.obj(o)&&!te.pth(o)?o:{value:o};return te.und(l.delay)&&(l.delay=a?0:e.delay),te.und(l.endDelay)&&(l.endDelay=a===s.length-1?e.endDelay:0),l}).map(function(o){return Kl(o,r)})}function pO(t){for(var e=Yl(ql(t.map(function(s){return Object.keys(s)})),function(s){return te.key(s)}).reduce(function(s,o){return s.indexOf(o)<0&&s.push(o),s},[]),r={},i=function(s){var o=e[s];r[o]=t.map(function(a){var l={};for(var u in a)te.key(u)?u==o&&(l.value=a[u]):l[u]=a[u];return l})},n=0;n<e.length;n++)i(n);return r}function mO(t,e){var r=[],i=e.keyframes;i&&(e=Kl(pO(i),e));for(var n in e)te.key(n)&&r.push({name:n,tweens:fO(e[n],t)});return r}function gO(t,e){var r={};for(var i in t){var n=Uh(t[i],e);te.arr(n)&&(n=n.map(function(s){return Uh(s,e)}),n.length===1&&(n=n[0])),r[i]=n}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}function yO(t,e){var r;return t.tweens.map(function(i){var n=gO(i,e),s=n.value,o=te.arr(s)?s[1]:s,a=Gr(o),l=af(e.target,t.name,a,e),u=r?r.to.original:l,c=te.arr(s)?s[0]:u,h=Gr(c)||Gr(l),d=a||h;return te.und(o)&&(o=u),n.from=Wm(c,d),n.to=Wm(lf(o,c),d),n.start=r?r.end:0,n.end=n.start+n.delay+n.duration+n.endDelay,n.easing=tf(n.easing,n.duration),n.isPath=te.pth(s),n.isPathTargetInsideSVG=n.isPath&&te.svg(e.target),n.isColor=te.col(n.from.original),n.isColor&&(n.round=1),r=n,n})}var Db={css:function(t,e,r){return t.style[e]=r},attribute:function(t,e,r){return t.setAttribute(e,r)},object:function(t,e,r){return t[e]=r},transform:function(t,e,r,i,n){if(i.list.set(e,r),e===i.last||n){var s="";i.list.forEach(function(o,a){s+=a+"("+o+") "}),t.style.transform=s}}};function Bb(t,e){var r=Lb(t);r.forEach(function(i){for(var n in e){var s=Uh(e[n],i),o=i.target,a=Gr(s),l=af(o,n,a,i),u=a||Gr(l),c=lf($b(s,u),l),h=of(o,n);Db[h](o,n,c,i.transforms,!0)}})}function vO(t,e){var r=of(t.target,e.name);if(r){var i=yO(e,t),n=i[i.length-1];return{type:r,property:e.name,animatable:t,tweens:i,duration:n.end,delay:i[0].delay,endDelay:n.endDelay}}}function _O(t,e){return Yl(ql(t.map(function(r){return e.map(function(i){return vO(r,i)})})),function(r){return!te.und(r)})}function Fb(t,e){var r=t.length,i=function(s){return s.timelineOffset?s.timelineOffset:0},n={};return n.duration=r?Math.max.apply(Math,t.map(function(s){return i(s)+s.duration})):e.duration,n.delay=r?Math.min.apply(Math,t.map(function(s){return i(s)+s.delay})):e.delay,n.endDelay=r?n.duration-Math.max.apply(Math,t.map(function(s){return i(s)+s.duration-s.endDelay})):e.endDelay,n}var Xm=0;function bO(t){var e=Nh(Sb,t),r=Nh(ef,t),i=mO(r,t),n=Lb(t.targets),s=_O(n,i),o=Fb(s,r),a=Xm;return Xm++,Kl(e,{id:a,children:[],animatables:n,animations:s,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}var qt=[],Nb=function(){var t;function e(){!t&&(!Ym()||!ve.suspendWhenDocumentHidden)&&qt.length>0&&(t=requestAnimationFrame(r))}function r(n){for(var s=qt.length,o=0;o<s;){var a=qt[o];a.paused?(qt.splice(o,1),s--):(a.tick(n),o++)}t=o>0?requestAnimationFrame(r):void 0}function i(){ve.suspendWhenDocumentHidden&&(Ym()?t=cancelAnimationFrame(t):(qt.forEach(function(n){return n._onDocumentVisibility()}),Nb()))}return typeof document<"u"&&document.addEventListener("visibilitychange",i),e}();function Ym(){return!!document&&document.hidden}function ve(t){t===void 0&&(t={});var e=0,r=0,i=0,n,s=0,o=null;function a(_){var y=window.Promise&&new Promise(function(w){return o=w});return _.finished=y,y}var l=bO(t);a(l);function u(){var _=l.direction;_!=="alternate"&&(l.direction=_!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,n.forEach(function(y){return y.reversed=l.reversed})}function c(_){return l.reversed?l.duration-_:_}function h(){e=0,r=c(l.currentTime)*(1/ve.speed)}function d(_,y){y&&y.seek(_-y.timelineOffset)}function f(_){if(l.reversePlayback)for(var w=s;w--;)d(_,n[w]);else for(var y=0;y<s;y++)d(_,n[y])}function p(_){for(var y=0,w=l.animations,S=w.length;y<S;){var x=w[y],T=x.animatable,A=x.tweens,P=A.length-1,E=A[P];P&&(E=Yl(A,function(Ce){return _<Ce.end})[0]||E);for(var I=vr(_-E.start-E.delay,0,E.duration)/E.duration,k=isNaN(I)?1:E.easing(I),C=E.to.strings,M=E.round,D=[],Y=E.to.numbers.length,U=void 0,V=0;V<Y;V++){var se=void 0,L=E.to.numbers[V],B=E.from.numbers[V]||0;E.isPath?se=dO(E.value,k*L,E.isPathTargetInsideSVG):se=B+k*(L-B),M&&(E.isColor&&V>2||(se=Math.round(se*M)/M)),D.push(se)}var oe=C.length;if(!oe)U=D[0];else{U=C[0];for(var he=0;he<oe;he++){C[he];var de=C[he+1],Ee=D[he];isNaN(Ee)||(de?U+=Ee+de:U+=Ee+" ")}}Db[x.type](T.target,x.property,U,T.transforms),x.currentValue=U,y++}}function m(_){l[_]&&!l.passThrough&&l[_](l)}function g(){l.remaining&&l.remaining!==!0&&l.remaining--}function v(_){var y=l.duration,w=l.delay,S=y-l.endDelay,x=c(_);l.progress=vr(x/y*100,0,100),l.reversePlayback=x<l.currentTime,n&&f(x),!l.began&&l.currentTime>0&&(l.began=!0,m("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,m("loopBegin")),x<=w&&l.currentTime!==0&&p(0),(x>=S&&l.currentTime!==y||!y)&&p(y),x>w&&x<S?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,m("changeBegin")),m("change"),p(x)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,m("changeComplete")),l.currentTime=vr(x,0,y),l.began&&m("update"),_>=y&&(r=0,g(),l.remaining?(e=i,m("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&u()):(l.paused=!0,l.completed||(l.completed=!0,m("loopComplete"),m("complete"),!l.passThrough&&"Promise"in window&&(o(),a(l)))))}return l.reset=function(){var _=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=_==="reverse",l.remaining=l.loop,n=l.children,s=n.length;for(var y=s;y--;)l.children[y].reset();(l.reversed&&l.loop!==!0||_==="alternate"&&l.loop===1)&&l.remaining++,p(l.reversed?l.duration:0)},l._onDocumentVisibility=h,l.set=function(_,y){return Bb(_,y),l},l.tick=function(_){i=_,e||(e=i),v((i+(r-e))*ve.speed)},l.seek=function(_){v(c(_))},l.pause=function(){l.paused=!0,h()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,qt.push(l),h(),Nb())},l.reverse=function(){u(),l.completed=!l.reversed,h()},l.restart=function(){l.reset(),l.play()},l.remove=function(_){var y=cf(_);Ub(y,l)},l.reset(),l.autoplay&&l.play(),l}function qm(t,e){for(var r=e.length;r--;)rf(t,e[r].animatable.target)&&e.splice(r,1)}function Ub(t,e){var r=e.animations,i=e.children;qm(t,r);for(var n=i.length;n--;){var s=i[n],o=s.animations;qm(t,o),!o.length&&!s.children.length&&i.splice(n,1)}!r.length&&!i.length&&e.pause()}function xO(t){for(var e=cf(t),r=qt.length;r--;){var i=qt[r];Ub(e,i)}}function wO(t,e){e===void 0&&(e={});var r=e.direction||"normal",i=e.easing?tf(e.easing):null,n=e.grid,s=e.axis,o=e.from||0,a=o==="first",l=o==="center",u=o==="last",c=te.arr(t),h=parseFloat(c?t[0]:t),d=c?parseFloat(t[1]):0,f=Gr(c?t[1]:t)||0,p=e.start||0+(c?h:0),m=[],g=0;return function(v,_,y){if(a&&(o=0),l&&(o=(y-1)/2),u&&(o=y-1),!m.length){for(var w=0;w<y;w++){if(!n)m.push(Math.abs(o-w));else{var S=l?(n[0]-1)/2:o%n[0],x=l?(n[1]-1)/2:Math.floor(o/n[0]),T=w%n[0],A=Math.floor(w/n[0]),P=S-T,E=x-A,I=Math.sqrt(P*P+E*E);s==="x"&&(I=-P),s==="y"&&(I=-E),m.push(I)}g=Math.max.apply(Math,m)}i&&(m=m.map(function(C){return i(C/g)*g})),r==="reverse"&&(m=m.map(function(C){return s?C<0?C*-1:-C:Math.abs(g-C)}))}var k=c?(d-h)/g:h;return p+k*(Math.round(m[_]*100)/100)+f}}function TO(t){t===void 0&&(t={});var e=ve(t);return e.duration=0,e.add=function(r,i){var n=qt.indexOf(e),s=e.children;n>-1&&qt.splice(n,1);function o(d){d.passThrough=!0}for(var a=0;a<s.length;a++)o(s[a]);var l=Kl(r,Nh(ef,t));l.targets=l.targets||t.targets;var u=e.duration;l.autoplay=!1,l.direction=e.direction,l.timelineOffset=te.und(i)?u:lf(i,u),o(e),e.seek(l.timelineOffset);var c=ve(l);o(c),s.push(c);var h=Fb(s,t);return e.delay=h.delay,e.endDelay=h.endDelay,e.duration=h.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e}ve.version="3.2.1";ve.speed=1;ve.suspendWhenDocumentHidden=!0;ve.running=qt;ve.remove=xO;ve.get=af;ve.set=Bb;ve.convertPx=sf;ve.path=hO;ve.setDashoffset=uO;ve.stagger=wO;ve.timeline=TO;ve.easing=tf;ve.penner=Cb;ve.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};function SO(t){const e="clientX"in t?t.clientX:t.touches[0]?t.touches[0].clientX:t.changedTouches[0].clientX,r="clientY"in t?t.clientY:t.touches[0]?t.touches[0].clientY:t.changedTouches[0].clientY;return{x:e,y:r}}function Km(t,e=window.innerWidth,r=window.innerHeight){t.width=e,t.height=r,t.style.width=`${e}px`,t.style.height=`${r}px`}function AO(t){const{selector:e="canvas.fireworks",numberOfParticles:r=20,circleRadius:i={min:10,max:20},diffuseRadius:n={min:50,max:100},orbitRadius:s={min:50,max:100},animeDuration:o={min:900,max:1500}}=t,a=t.colors&&t.colors.length>0?t.colors:["#66A7DD","#3E83E1","#214EC2"],l=document.querySelector(e),u=l.getContext("2d");if(!u)return;function c(g){const v=ve.random(0,360)*Math.PI/180,_=ve.random(n.min,n.max),y=[-1,1][ve.random(0,1)]*_;return{x:g.x+y*Math.cos(v),y:g.y+y*Math.sin(v)}}function h(g,v){const _=new Ue(a[ve.random(0,a.length-1)]);_.setAlpha(ve.random(.2,.8));const y={x:g,y:v,color:_.toRgbString(),radius:ve.random(i.min,i.max),endPos:c({x:g,y:v}),draw:()=>{}};return y.draw=function(){u&&(u.beginPath(),u.arc(y.x,y.y,y.radius,0,2*Math.PI,!0),u.fillStyle=y.color,u.fill())},y}function d(g,v){const _={x:g,y:v,color:"#000",radius:.1,alpha:.5,lineWidth:6,draw(){}};return _.draw=()=>{u&&(u.globalAlpha=_.alpha,u.beginPath(),u.arc(_.x,_.y,_.radius,0,2*Math.PI,!0),u.lineWidth=_.lineWidth,u.strokeStyle=_.color,u.stroke(),u.globalAlpha=1)},_}function f(g){for(let v=0;v<g.animatables.length;v++)g.animatables[v].target.draw()}function p(g){const{x:v,y:_}=g,y=d(v,_),w=[];for(let S=0;S<r;S++)w.push(h(v,_));ve.timeline().add({targets:w,x(S){return S.endPos.x},y(S){return S.endPos.y},radius:.1,duration:ve.random(o.min,o.max),easing:"easeOutExpo",update:f}).add({targets:y,radius:ve.random(s.min,s.max),lineWidth:0,alpha:{value:0,easing:"linear",duration:ve.random(600,800)},duration:ve.random(1200,1800),easing:"easeOutExpo",update:f},0)}const m=ve({duration:Number.POSITIVE_INFINITY,update:()=>{u.clearRect(0,0,l.width,l.height)}});document.addEventListener("mousedown",g=>{m.play();const v=SO(g),_=l.getBoundingClientRect();p({x:v.x-_.left,y:v.y-_.top})},!1),Km(l),window.addEventListener("resize",()=>{Km(l)},!1)}const EO={class:"fireworks"},CO=H({__name:"YunFireworks",setup(t){const e=Md();return Qe(()=>{AO({selector:"canvas.fireworks",colors:e.value.fireworks.colors})}),(r,i)=>($(),N("canvas",EO))}}),PO=["title"],hf=H({__name:"YunToggleLocale",setup(t){const{t:e,locale:r}=gt(),{toggleLocales:i}=XT();return(n,s)=>($(),N("button",{class:"yun-icon-btn",title:R(e)("button.toggle_langs"),style:{color:"var(--va-c-text)"},onClick:s[0]||(s[0]=(...o)=>R(i)&&R(i)(...o))},[O("div",{"i-ri-translate":"",class:Te(["transition transform",R(r)==="en"?"rotate-y-180":""])},null,2)],8,PO))}}),kO=["title"],df=H({__name:"YunToggleDark",props:{transition:{type:Boolean}},setup(t){const e=t,r=Yr(),{t:i}=gt(),n=j(()=>r.isDark?i("button.toggle_light"):i("button.toggle_dark")),s=j(()=>({color:r.isDark?"":"#f1cb64"}));function o(a){e.transition?r.toggleDarkWithTransition(a):r.toggleDark()}return(a,l)=>($(),N("button",{class:"yun-icon-btn",title:n.value,style:yi(s.value),onMousedown:bx(()=>{},["prevent"]),onClick:o},[...l[0]||(l[0]=[O("div",{i:"ri-sun-line dark:ri-moon-line"},null,-1)])],44,kO))}}),Hb=H({__name:"YunConfig",setup(t){const e=Yr();return(r,i)=>{const n=df,s=hf;return $(),N("div",null,[b(n),R(e).showToggleLocale?($(),ue(s,{key:0})):Q("v-if",!0)])}}}),MO={class:"site-nav","text-xl":"","mt-6":""},$O={class:"count"},RO={class:"count"},IO={class:"count"},OO=H({__name:"YunSidebarNav",setup(t){const{t:e}=gt(),r=Pl(),i=Ii(),n=q0(),s=cv();return(o,a)=>{const l=ft("RouterLink"),u=Eo;return $(),N("nav",MO,[b(l,{class:"site-link-item yun-icon-btn",to:"/",title:R(e)("menu.home")},{default:we(()=>[...a[0]||(a[0]=[O("div",{"i-ri-home-4-line":""},null,-1)])]),_:1},8,["title"]),b(l,{class:"site-link-item",to:"/archives/",title:R(e)("menu.archives")},{default:we(()=>[a[1]||(a[1]=O("div",{class:"icon","i-ri-archive-line":""},null,-1)),O("span",$O,me(R(r).postList.length),1)]),_:1},8,["title"]),b(l,{class:"site-link-item",to:"/categories/",title:R(e)("menu.categories")},{default:we(()=>[a[2]||(a[2]=O("div",{class:"icon","i-ri-folder-2-line":""},null,-1)),O("span",RO,me(Array.from(R(n).children).length),1)]),_:1},8,["title"]),b(l,{class:"site-link-item",to:"/tags/",title:R(e)("menu.tags")},{default:we(()=>[a[3]||(a[3]=O("div",{class:"icon","i-ri-price-tag-3-line":""},null,-1)),O("span",IO,me(Array.from(R(s)).length),1)]),_:1},8,["title"]),b(u,{class:"site-link-item yun-icon-btn",to:R(i).menu.custom.url,title:R(e)(R(i).menu.custom.title)},{default:we(()=>[O("div",{class:Te(R(i).menu.custom.icon)},null,2)]),_:1},8,["to","title"])])}}}),LO={class:"sidebar-panel",p:"2"},DO=H({__name:"YunOverview",setup(t){return(e,r)=>{const i=Bd,n=OO,s=Dd,o=Ld,a=Hb;return $(),N(Le,null,[O("div",LO,[b(i),b(n),r[0]||(r[0]=O("hr",{m:"t-4 b-2",op:"20"},null,-1)),b(s),r[1]||(r[1]=O("hr",{m:"y-2",op:"20"},null,-1)),b(o),r[2]||(r[2]=O("br",null,null,-1))]),b(a)],64)}}}),BO={key:0,class:"sidebar-nav",m:"t-6"},FO={key:2},NO=H({__name:"YunStratoSidebar",props:{showHamburger:{type:Boolean}},setup(t){const e=St(),r=z(!1);return(i,n)=>{const s=vv,o=DO;return $(),N(Le,null,[Q(' class="md:hidden"  '),b(s,{show:R(e).leftSidebar.isOpen,onClick:n[0]||(n[0]=a=>R(e).leftSidebar.toggle())},null,8,["show"]),Q(` <ValaxyHamburger
    :active="yunStore.leftSidebar.isOpen"
    class="menu-btn sidebar-toggle yun-icon-btn leading-4 fixed left-0.8rem top-0.6rem"
    inline-flex cursor="pointer" z="$yun-z-menu-btn"
    :class="showHamburger ? '' : 'md:hidden'"
    @click="yunStore.leftSidebar.toggle()"
  /> `),O("aside",{id:"yun-left-sidebar",class:Te(["va-card transition yun-sidebar fixed inset-y-0 left-0 overflow-y-auto",{open:R(e).leftSidebar.isOpen,"md:translate-x-0":!t.showHamburger}]),text:"center",bg:"$yun-sidebar-bg-color contain no-repeat",z:"$yun-z-left-sidebar"},[i.$slots.default?($(),N("div",BO,[O("button",{m:"x-4",class:Te(["sidebar-nav-item yun-icon-btn",r.value&&"active"]),onClick:n[1]||(n[1]=a=>r.value=!0)},[...n[3]||(n[3]=[O("div",{"i-ri-passport-line":""},null,-1)])],2),O("button",{m:"x-4",class:Te(["sidebar-nav-item yun-icon-btn",!r.value&&"active"]),onClick:n[2]||(n[2]=a=>r.value=!1)},[...n[4]||(n[4]=[O("div",{"i-ri-list-ordered":""},null,-1)])],2)])):Q("v-if",!0),r.value||!i.$slots.default?($(),N("div",{key:1,class:Te(i.$slots.default&&"-mt-4")},[b(o)],2)):($(),N("div",FO,[lt(i.$slots,"default")]))],2)],64)}}}),UO={class:"flex-center"},HO=H({__name:"YunFullscreenMenu",setup(t){const e=St(),r=z(),i=Yr();return(n,s)=>{const o=Bd,a=bv,l=_v,u=Dd,c=Ld,h=Hb;return $(),ue(pn,{name:R(i).isMobile?"slide-down":"slide-left"},{default:we(()=>[R(e).fullscreenMenu.isOpen?($(),N("div",{key:0,ref_key:"fullscreenMenuRef",ref:r,p:"t-12 md:t-20",class:"yun-fullscreen-menu fixed left-0 right-0 bottom-0 top-0 bg-$va-c-bg-soft z-$yun-z-fullscreen-menu overflow-auto max-w-md shadow-2xl"},[Q(` <div v-if="app.isMobile" class="flex-center gap-2">
        <YunToggleDark transition />
        <YunToggleLocale v-if="app.showToggleLocale" />
      </div> `),Q(" <YunFullscreenMenuList /> "),b(o,{class:"text-center"}),b(a,{class:"my-2 op-20"}),b(l),b(a,{class:"my-2 op-20"}),b(u),b(a,{class:"my-2 op-20"}),b(c),R(e).size.isLg?Q("v-if",!0):($(),ue(a,{key:0,class:"my-2 op-20"})),O("div",UO,[b(h)])],512)):Q("v-if",!0)]),_:1},8,["name"])}}}),zO={class:"yun-search-input-container flex-center",w:"full"},jO=["placeholder"],GO={key:0,class:"flex-center",w:"full",py:"4"},VO={key:1,overflow:"auto",flex:"~",w:"full",class:"justify-center"},WO={class:"yun-fuse-result-container max-w-3xl",flex:"~ col",w:"full"},XO={font:"medium"},YO={text:"sm",font:"light",opacity:"80"},qO={class:"flex justify-between op-50","text-xs":"",mt:"1",font:"light"},KO={flex:"~ gap-1"},ZO={class:"text-right w-4"},JO=H({__name:"YunFuseSearch",props:{open:{type:Boolean}},emits:["close"],setup(t,{emit:e}){const r=t,i=e,n=z(""),s=US(Ai?document.documentElement:null),{t:o}=gt(),{results:a,fetchFuseListData:l}=Y2(n),u=z(),c=z();return PS(u),_e(()=>r.open,()=>{r.open&&l()}),(h,d)=>{const f=Eo;return $(),ue(pn,{name:"fade",onEnter:d[2]||(d[2]=p=>s.value=!0),onAfterLeave:d[3]||(d[3]=p=>s.value=!1)},{default:we(()=>[t.open?($(),N("div",{key:0,ref_key:"searchContainer",ref:c,class:"yun-popup yun-search-popup yun-fuse-search flex-center pointer-events-auto",flex:"col",justify:"start","pt-12":""},[O("div",zO,[yo(O("input",{ref_key:"searchInputRef",ref:u,"onUpdate:modelValue":d[0]||(d[0]=p=>n.value=p),class:"yun-search-input",placeholder:R(o)("search.placeholder")},null,8,jO),[[xx,n.value]])]),n.value?($(),N("div",GO,me(R(o)("search.hits",R(a).length||0)),1)):Q("v-if",!0),R(a).length>0?($(),N("div",VO,[O("div",WO,[($(!0),N(Le,null,fn(R(a),p=>($(),ue(f,{key:p.item.title,to:p.item.link,class:"yun-fuse-result-item text-$va-c-text hover:text-$va-c-bg hover:bg-$va-c-text-dark hover:bg-opacity-100 text-left p-2",flex:"~ col",onClick:d[1]||(d[1]=m=>i("close"))},{default:we(()=>[O("h3",XO,me(p.item.title),1),O("span",YO,me(p.item.excerpt),1),O("div",qO,[O("span",null,me(p.item.link),1),O("span",KO,[d[4]||(d[4]=O("span",null,"Score Index:",-1)),O("div",ZO,me(p.refIndex),1)])])]),_:2},1032,["to"]))),128)),d[5]||(d[5]=O("div",{class:"flex op-30 justify-end text-xs p-4"}," Search by Local ",-1))])])):Q("v-if",!0)],512)):Q("v-if",!0)]),_:1})}}}),QO=["title"],eL={key:0,"i-ri-search-line":"","op-80":"",hover:"op-100"},tL={key:1,text:"!2xl","i-ri-close-line":""},rL=H({__name:"YunSearchBtn",props:{open:{type:Boolean,default:!1}},emits:["close","open"],setup(t,{emit:e}){const r=t,i=e,{t:n}=gt();function s(){r.open?i("close"):i("open")}return(o,a)=>($(),N("button",{class:"yun-search-btn yun-icon-btn popup-trigger rounded-none! size-12 inline-flex justify-center items-center",text:"xl $va-c-text",title:R(n)("menu.search"),onClick:s},[t.open?($(),N("div",tL)):($(),N("div",eL))],8,QO))}}),zb=H({__name:"YunSearchTrigger",setup(t){const e=nt(),r=j(()=>e.value.search.type==="algolia"),i=j(()=>e.value.search.type==="fuse"),n=z(!1);function s(){n.value=!n.value}const o=z();Qe(()=>{i.value&&zS("k",s)});function a(){n.value=!0,r.value&&(o.value.load(),o.value.dispatchEvent())}function l(){n.value=!1}const u=r.value?wx(()=>Fe(()=>import("./YunAlgoliaSearch.Yg8wST_B.js"),__vite__mapDeps([54,2,3,45,5,6,7,8,9]))):()=>null;return(c,h)=>{const d=rL,f=JO;return $(),N(Le,null,[b(d,{open:n.value&&!r.value,onOpen:a,onClose:l},null,8,["open"]),r.value?($(),ue(R(u),{key:0,ref_key:"algoliaRef",ref:o,open:n.value,onClose:l},null,8,["open"])):i.value?($(),ue(f,{key:1,open:n.value,onClose:l},null,8,["open"])):Q("v-if",!0)],64)}}}),iL={key:0,flex:"~ col",class:"nav-menu-post-title text-xs font-bold flex items-center gap-1 lt-sm:max-w-40"},nL={class:"gap-1",flex:"~"},sL={class:"truncate"},oL={key:0,class:"font-light op-80"},aL={key:1,class:"font-light truncate"},jb=H({__name:"YunNavMenuTitle",setup(t){const e=St(),r=$i(),i=nt(),n=$r(),s=z(!1),o=j(()=>n.path==="/"?!1:e.isStrato?e.scrollY<10:!s.value);_e(()=>e.scrollY,()=>{e.isNimbo&&(s.value=e.scrollY>200)});const a=ud();function l(){s.value||a.push("/")}return(u,c)=>{const h=Tx("motion");return yo(($(),N("div",{flex:"~ center col h-full",class:Te({"cursor-pointer":!s.value}),initial:{opacity:0,y:10},enter:{opacity:1,y:0,transition:{duration:400,delay:1200}},onClick:l},[R(r).title&&s.value?($(),N("div",iL,[O("div",nL,[O("div",{class:Te(["size-4",R(r).icon||"i-ri-article-line"])},null,2),O("span",sL,me(R(r).title),1)]),R(r).subtitle?($(),N("span",oL,me(R(r).subtitle),1)):Q("v-if",!0)])):Q("v-if",!0),o.value?($(),N("span",aL,me(R(i).title),1)):Q("v-if",!0)],2)),[[h]])}}}),Gb=H({__name:"YunNavMenuItem",props:{icon:{},to:{}},setup(t){return(e,r)=>{const i=Eo;return $(),ue(i,{class:"size-12 inline-flex-center cursor-pointer z-$yun-z-nav-menu text-$va-c-text",hover:"bg-white/80 dark:bg-black/80 op-100","op-80":"",to:t.to},{default:we(()=>[O("div",{class:Te(["size-6",t.icon])},null,2)]),_:1},8,["to"])}}}),lL=["aria-expanded"],Vb=H({__name:"ValaxyHamburger",props:{active:{type:Boolean}},setup(t){return(e,r)=>($(),N("button",{type:"button",class:Te(["vt-hamburger",{"is-active":t.active}]),"aria-label":"mobile navigation","aria-expanded":t.active},[...r[0]||(r[0]=[O("span",{class:"vt-hamburger-container"},[O("span",{class:"vt-hamburger-top"}),O("span",{class:"vt-hamburger-middle"}),O("span",{class:"vt-hamburger-bottom"})],-1)])],10,lL))}}),uL={class:"inline-flex justify-start items-center flex-1"},cL={class:"flex flex-1 flex-center"},hL={class:"inline-flex-center justify-end items-center flex-1"},dL=H({__name:"YunNimboNavMenu",setup(t){const e=St(),r=nt(),i=Ii(),n=z(!1),s=$r();Qe(()=>{s.meta.layout==="home"?setTimeout(()=>{n.value=!0},600):n.value=!0});const o=z(!1);_e(()=>e.scrollY,()=>{e.scrollY>10?o.value=!0:o.value=!1});const a=Yr();return(l,u)=>{const c=Vb,h=Gb,d=jb,f=hf,p=df,m=zb;return $(),ue(pn,{"enter-active-class":"animate-fade-in"},{default:we(()=>[n.value?($(),N("div",{key:0,class:Te(["yun-nav-menu z-$yun-z-nav-menu fixed bg-transparent",{play:o.value}])},[Q("  "),O("div",uL,[R(e).size.isLg?Q("v-if",!0):($(),ue(c,{key:0,active:R(e).fullscreenMenu.isOpen,class:"menu-btn sidebar-toggle leading-4 size-12","inline-flex":"",cursor:"pointer",hover:"bg-white/80 dark:bg-black/80",z:"$yun-z-menu-btn",onClick:u[0]||(u[0]=g=>R(e).fullscreenMenu.toggle())},null,8,["active"])),b(h,{icon:"i-ri-home-4-line",to:"/"}),R(e).size.isLg?($(),N(Le,{key:1},[b(h,{icon:"i-ri-article-line",to:"/posts/",title:""}),($(!0),N(Le,null,fn(R(i).pages,(g,v)=>($(),ue(h,{key:v,icon:g.icon,to:g.url,title:g.name},null,8,["icon","to","title"]))),128))],64)):Q("v-if",!0)]),O("div",cL,[b(d)]),O("div",hL,[Q(` <template v-if="!app.isMobile && themeConfig.nav">
          <template v-for="item in themeConfig.nav" :key="item.text">
            <AppLink
              v-if="'link' in item"
              :to="item.link"
              class="menu-btn inline-flex-center p-2 transition text-$va-c-text"
              inline-flex cursor="pointer"
              hover="bg-white/80 dark:bg-black/80"
              z="$yun-z-menu-btn"
            >
              {{ item.text }}
            </AppLink>
            <template v-else-if="'items' in item" />
          </template>
        </template> `),R(e).size.isSm&&R(a).showToggleLocale?($(),ue(f,{key:0,class:"rounded-none!"})):Q("v-if",!0),b(p,{class:"rounded-none!",transition:""}),R(r).search.enable?($(),ue(m,{key:1})):Q("v-if",!0)])],2)):Q("v-if",!0)]),_:1})}}}),fL=Mr(dL,[["__scopeId","data-v-e606fe10"]]),pL={class:"fixed left-0 top-0",z:"$yun-z-left-sidebar-menu"},mL={class:"flex flex-1 flex-center"},gL={class:"inline-flex flex-1 justify-end items-center"},yL=H({__name:"YunStratoNavMenu",setup(t){const e=St(),r=nt(),i=z(!1),n=$r();Qe(()=>{n.meta.layout==="home"?setTimeout(()=>{i.value=!0},600):i.value=!0});const s=z(!1);_e(()=>e.scrollY,()=>{e.scrollY>10?s.value=!0:s.value=!1});const o=Yr(),a=j(()=>o.isMobile?!0:n.meta.layout==="home");return(l,u)=>{const c=Vb,h=Gb,d=jb,f=hf,p=df,m=zb;return $(),N(Le,null,[O("div",pL,[a.value?($(),ue(c,{key:0,active:R(e).leftSidebar.isOpen,class:"menu-btn sidebar-toggle leading-4 size-12 fixed","inline-flex":"",cursor:"pointer",hover:"bg-white/80 dark:bg-black/80",onClick:u[0]||(u[0]=g=>R(e).leftSidebar.toggle())},null,8,["active"])):($(),ue(h,{key:1,icon:"i-ri-home-4-line",to:"/"}))]),b(pn,{"enter-active-class":"animate-fade-in"},{default:we(()=>[i.value?($(),N("div",{key:0,class:Te(["yun-nav-menu z-$yun-z-nav-menu fixed w-full flex justify-between items-center top-0",{play:s.value}])},[Q("  "),u[1]||(u[1]=O("div",{class:"inline-flex justify-start items-center flex-1"},null,-1)),O("div",mL,[b(d)]),O("div",gL,[R(e).size.isSm&&R(o).showToggleLocale?($(),ue(f,{key:0,class:"rounded-none!"})):Q("v-if",!0),b(p,{class:"rounded-none!",transition:""}),R(r).search.enable?($(),ue(m,{key:1})):Q("v-if",!0)])],2)):Q("v-if",!0)]),_:1})],64)}}}),vL=H({__name:"YunNavMenu",setup(t){const e=St();return(r,i)=>{const n=yL,s=fL;return R(e).isStrato?($(),ue(n,{key:0})):R(e).isNimbo?($(),ue(s,{key:1})):Q("v-if",!0)}}}),_L=H({__name:"YunPageHeaderGradient",setup(t){const{isDark:e}=Rd(),r=j(()=>e.value?{"--gradient-from":"0 0 0","--gradient-to":"0 0 0"}:{"--gradient-from":"161 196 253","--gradient-to":"194 233 251"});return(i,n)=>($(),N("div",{class:"yun-page-header-gradient",style:yi(r.value)},null,4))}}),bL={class:"w-6",font:"bold"},xL=H({__name:"YunDebug",setup(t){const e=St(),r=j(()=>[{label:"xs",value:e.size.isXs},{label:"sm",value:e.size.isSm},{label:"md",value:e.size.isMd},{label:"lg",value:e.size.isLg},{label:"xl",value:e.size.isXl},{label:"2xl",value:e.size.is2xl}]),i=z(!0);return(n,s)=>i.value?($(),N("div",{key:0,class:"bg-black/50 fixed bottom-20 left-2 p-2 gap-1 rounded z-9999",text:"xs white",flex:"~ col",onClick:s[0]||(s[0]=o=>i.value=!1)},[($(!0),N(Le,null,fn(r.value,o=>($(),N("div",{key:o.label,class:"gap-2 inline-flex"},[O("span",bL,me(o.label)+": ",1),O("span",null,me(o.value?"":""),1)]))),128))])):Q("v-if",!0)}}),wL=H({__name:"YunStratoApp",setup(t){const e=Uc("--yun-margin-top");return e.value="48px",(r,i)=>($(),N("div"))}}),TL=H({__name:"App",setup(t){const e=Yr();El({link:[{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&display=swap"}],meta:[{name:"theme-color",content:e.themeColor},{name:"msapplication-TileColor",content:e.themeColor}]});const r=Ii(),i=Yr(),n=St(),s=$r();_e(()=>s.meta.layout,()=>{s.meta.layout==="home"||i.isMobile,n.leftSidebar.isOpen=!1},{immediate:!0}),Qe(()=>{document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`),i.showLoading=!1});const o=!1;return(a,l)=>{const u=wL,c=xL,h=_L,d=vL,f=HO,p=NO,m=CO,g=qI,v=XI,_=jI;return $(),N(Le,null,[R(n).isStrato?($(),ue(u,{key:0})):Q("v-if",!0),R(o)?($(),ue(c,{key:1})):Q("v-if",!0),b(h),b(d),R(n).isNimbo&&!R(n).size.isLg?($(),ue(f,{key:2})):Q("v-if",!0),R(n).isStrato?($(),ue(p,{key:3})):Q("v-if",!0),R(r).fireworks.enable?($(),ue(m,{key:4})):Q("v-if",!0),lt(a.$slots,"bg",{},()=>[R(r).bg_image.enable?($(),ue(g,{key:0})):Q("v-if",!0)]),b(pn,{name:"fade"},{default:we(()=>[R(i).showLoading?($(),ue(v,{key:0})):Q("v-if",!0)]),_:1}),b(_),Q(" TODO "),Q(" <YunDock /> ")],64)}}}),SL=H({render:()=>null}),AL=H({__name:"ValaxyApp",setup(t){const e=ev();return e.value!=="empty"&&vT(),(r,i)=>{const n=ft("router-view");return $(),N(Le,null,[R(e)!=="empty"?($(),N(Le,{key:0},[b(R(TL)),b(UI),b(R(SL))],64)):Q("v-if",!0),b(n)],64)}}}),EL=H({__name:"App",setup(t){return(e,r)=>{const i=AL;return $(),ue(i)}}});var CL=Object.defineProperty,Zm=Object.getOwnPropertySymbols,PL=Object.prototype.hasOwnProperty,kL=Object.prototype.propertyIsEnumerable,Jm=(t,e,r)=>e in t?CL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ML=(t,e)=>{for(var r in e||(e={}))PL.call(e,r)&&Jm(t,r,e[r]);if(Zm)for(var r of Zm(e))kL.call(e,r)&&Jm(t,r,e[r]);return t};function ff(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!(t instanceof Date)&&typeof t=="object"&&Object.keys(t).length===0}function $L(t){return typeof t=="function"&&"call"in t&&"apply"in t}function He(t){return!ff(t)}function rn(t,e=!0){return t instanceof Object&&t.constructor===Object&&(e||Object.keys(t).length!==0)}function Wb(t={},e={}){let r=ML({},t);return Object.keys(e).forEach(i=>{let n=i;rn(e[n])&&n in t&&rn(t[n])?r[n]=Wb(t[n],e[n]):r[n]=e[n]}),r}function RL(...t){return t.reduce((e,r,i)=>i===0?r:Wb(e,r),{})}function gi(t,...e){return $L(t)?t(...e):t}function is(t,e=!0){return typeof t=="string"&&(e||t!=="")}function IL(t){return He(t)&&!isNaN(t)}function nn(t,e){if(e){let r=e.test(t);return e.lastIndex=0,r}return!1}function OL(...t){return RL(...t)}function Ws(t){return t&&t.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":").trim()}function Xb(t){return is(t)?t.replace(/(_)/g,"-").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():t}function pf(){let t=new Map;return{on(e,r){let i=t.get(e);return i?i.push(r):i=[r],t.set(e,i),this},off(e,r){let i=t.get(e);return i&&i.splice(i.indexOf(r)>>>0,1),this},emit(e,r){let i=t.get(e);i&&i.forEach(n=>{n(r)})},clear(){t.clear()}}}function LL(t){if(t){let e=t.parentNode;return e&&e instanceof ShadowRoot&&e.host&&(e=e.host),e}return null}function DL(t){return!!(t!==null&&typeof t<"u"&&t.nodeName&&LL(t))}function Yb(t){return typeof Element<"u"?t instanceof Element:t!==null&&typeof t=="object"&&t.nodeType===1&&typeof t.nodeName=="string"}function Hh(t,e={}){if(Yb(t)){let r=(i,n)=>{var s,o;let a=(s=t==null?void 0:t.$attrs)!=null&&s[i]?[(o=t==null?void 0:t.$attrs)==null?void 0:o[i]]:[];return[n].flat().reduce((l,u)=>{if(u!=null){let c=typeof u;if(c==="string"||c==="number")l.push(u);else if(c==="object"){let h=Array.isArray(u)?r(i,u):Object.entries(u).map(([d,f])=>i==="style"&&(f||f===0)?`${d.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${f}`:f?d:void 0);l=h.length?l.concat(h.filter(d=>!!d)):l}}return l},a)};Object.entries(e).forEach(([i,n])=>{if(n!=null){let s=i.match(/^on(.+)/);s?t.addEventListener(s[1].toLowerCase(),n):i==="p-bind"||i==="pBind"?Hh(t,n):(n=i==="class"?[...new Set(r("class",n))].join(" ").trim():i==="style"?r("style",n).join(";").trim():n,(t.$attrs=t.$attrs||{})&&(t.$attrs[i]=n),t.setAttribute(i,n))}})}}function BL(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function FL(t,e="",r){Yb(t)&&r!==null&&r!==void 0&&t.setAttribute(e,r)}var NL=Object.defineProperty,UL=Object.defineProperties,HL=Object.getOwnPropertyDescriptors,cl=Object.getOwnPropertySymbols,qb=Object.prototype.hasOwnProperty,Kb=Object.prototype.propertyIsEnumerable,Qm=(t,e,r)=>e in t?NL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Xt=(t,e)=>{for(var r in e||(e={}))qb.call(e,r)&&Qm(t,r,e[r]);if(cl)for(var r of cl(e))Kb.call(e,r)&&Qm(t,r,e[r]);return t},dc=(t,e)=>UL(t,HL(e)),Lr=(t,e)=>{var r={};for(var i in t)qb.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&cl)for(var i of cl(t))e.indexOf(i)<0&&Kb.call(t,i)&&(r[i]=t[i]);return r},zL=pf(),Br=zL,oo=/{([^}]*)}/g,Zb=/(\d+\s+[\+\-\*\/]\s+\d+)/g,Jb=/var\([^)]+\)/g;function eg(t){return is(t)?t.replace(/[A-Z]/g,(e,r)=>r===0?e:"."+e.toLowerCase()).toLowerCase():t}function jL(t){return rn(t)&&t.hasOwnProperty("$value")&&t.hasOwnProperty("$type")?t.$value:t}function GL(t){return t.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function zh(t="",e=""){return GL(`${is(t,!1)&&is(e,!1)?`${t}-`:t}${e}`)}function Qb(t="",e=""){return`--${zh(t,e)}`}function VL(t=""){let e=(t.match(/{/g)||[]).length,r=(t.match(/}/g)||[]).length;return(e+r)%2!==0}function e1(t,e="",r="",i=[],n){if(is(t)){let s=t.trim();if(VL(s))return;if(nn(s,oo)){let o=s.replaceAll(oo,a=>{let l=a.replace(/{|}/g,"").split(".").filter(u=>!i.some(c=>nn(u,c)));return`var(${Qb(r,Xb(l.join("-")))}${He(n)?`, ${n}`:""})`});return nn(o.replace(Jb,"0"),Zb)?`calc(${o})`:o}return s}else if(IL(t))return t}function WL(t,e,r){is(e,!1)&&t.push(`${e}:${r};`)}function Bn(t,e){return t?`${t}{${e}}`:""}function t1(t,e){if(t.indexOf("dt(")===-1)return t;function r(o,a){let l=[],u=0,c="",h=null,d=0;for(;u<=o.length;){let f=o[u];if((f==='"'||f==="'"||f==="`")&&o[u-1]!=="\\"&&(h=h===f?null:f),!h&&(f==="("&&d++,f===")"&&d--,(f===","||u===o.length)&&d===0)){let p=c.trim();p.startsWith("dt(")?l.push(t1(p,a)):l.push(i(p)),c="",u++;continue}f!==void 0&&(c+=f),u++}return l}function i(o){let a=o[0];if((a==='"'||a==="'"||a==="`")&&o[o.length-1]===a)return o.slice(1,-1);let l=Number(o);return isNaN(l)?o:l}let n=[],s=[];for(let o=0;o<t.length;o++)if(t[o]==="d"&&t.slice(o,o+3)==="dt(")s.push(o),o+=2;else if(t[o]===")"&&s.length>0){let a=s.pop();s.length===0&&n.push([a,o])}if(!n.length)return t;for(let o=n.length-1;o>=0;o--){let[a,l]=n[o],u=t.slice(a+3,l),c=r(u,e),h=e(...c);t=t.slice(0,a)+h+t.slice(l+1)}return t}var sn=(...t)=>XL(ot.getTheme(),...t),XL=(t={},e,r,i)=>{if(e){let{variable:n,options:s}=ot.defaults||{},{prefix:o,transform:a}=(t==null?void 0:t.options)||s||{},l=nn(e,oo)?e:`{${e}}`;return i==="value"||ff(i)&&a==="strict"?ot.getTokenValue(e):e1(l,void 0,o,[n.excludedKeyRegex],r)}return""};function fa(t,...e){if(t instanceof Array){let r=t.reduce((i,n,s)=>{var o;return i+n+((o=gi(e[s],{dt:sn}))!=null?o:"")},"");return t1(r,sn)}return gi(t,{dt:sn})}function YL(t,e={}){let r=ot.defaults.variable,{prefix:i=r.prefix,selector:n=r.selector,excludedKeyRegex:s=r.excludedKeyRegex}=e,o=[],a=[],l=[{node:t,path:i}];for(;l.length;){let{node:c,path:h}=l.pop();for(let d in c){let f=c[d],p=jL(f),m=nn(d,s)?zh(h):zh(h,Xb(d));if(rn(p))l.push({node:p,path:m});else{let g=Qb(m),v=e1(p,m,i,[s]);WL(a,g,v);let _=m;i&&_.startsWith(i+"-")&&(_=_.slice(i.length+1)),o.push(_.replace(/-/g,"."))}}}let u=a.join("");return{value:a,tokens:o,declarations:u,css:Bn(n,u)}}var Gt={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(t){return{type:"class",selector:t,matched:this.pattern.test(t.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(t){return{type:"attr",selector:`:root${t},:host${t}`,matched:this.pattern.test(t.trim())}}},media:{pattern:/^@media (.*)$/,resolve(t){return{type:"media",selector:t,matched:this.pattern.test(t.trim())}}},system:{pattern:/^system$/,resolve(t){return{type:"system",selector:"@media (prefers-color-scheme: dark)",matched:this.pattern.test(t.trim())}}},custom:{resolve(t){return{type:"custom",selector:t,matched:!0}}}},resolve(t){let e=Object.keys(this.rules).filter(r=>r!=="custom").map(r=>this.rules[r]);return[t].flat().map(r=>{var i;return(i=e.map(n=>n.resolve(r)).find(n=>n.matched))!=null?i:this.rules.custom.resolve(r)})}},_toVariables(t,e){return YL(t,{prefix:e==null?void 0:e.prefix})},getCommon({name:t="",theme:e={},params:r,set:i,defaults:n}){var s,o,a,l,u,c,h;let{preset:d,options:f}=e,p,m,g,v,_,y,w;if(He(d)&&f.transform!=="strict"){let{primitive:S,semantic:x,extend:T}=d,A=x||{},{colorScheme:P}=A,E=Lr(A,["colorScheme"]),I=T||{},{colorScheme:k}=I,C=Lr(I,["colorScheme"]),M=P||{},{dark:D}=M,Y=Lr(M,["dark"]),U=k||{},{dark:V}=U,se=Lr(U,["dark"]),L=He(S)?this._toVariables({primitive:S},f):{},B=He(E)?this._toVariables({semantic:E},f):{},oe=He(Y)?this._toVariables({light:Y},f):{},he=He(D)?this._toVariables({dark:D},f):{},de=He(C)?this._toVariables({semantic:C},f):{},Ee=He(se)?this._toVariables({light:se},f):{},Ce=He(V)?this._toVariables({dark:V},f):{},[ze,Ye]=[(s=L.declarations)!=null?s:"",L.tokens],[ut,Ge]=[(o=B.declarations)!=null?o:"",B.tokens||[]],[Se,Be]=[(a=oe.declarations)!=null?a:"",oe.tokens||[]],[Ne,kt]=[(l=he.declarations)!=null?l:"",he.tokens||[]],[Mt,Di]=[(u=de.declarations)!=null?u:"",de.tokens||[]],[su,wn]=[(c=Ee.declarations)!=null?c:"",Ee.tokens||[]],[ix,nx]=[(h=Ce.declarations)!=null?h:"",Ce.tokens||[]];p=this.transformCSS(t,ze,"light","variable",f,i,n),m=Ye;let sx=this.transformCSS(t,`${ut}${Se}`,"light","variable",f,i,n),ox=this.transformCSS(t,`${Ne}`,"dark","variable",f,i,n);g=`${sx}${ox}`,v=[...new Set([...Ge,...Be,...kt])];let ax=this.transformCSS(t,`${Mt}${su}color-scheme:light`,"light","variable",f,i,n),lx=this.transformCSS(t,`${ix}color-scheme:dark`,"dark","variable",f,i,n);_=`${ax}${lx}`,y=[...new Set([...Di,...wn,...nx])],w=gi(d.css,{dt:sn})}return{primitive:{css:p,tokens:m},semantic:{css:g,tokens:v},global:{css:_,tokens:y},style:w}},getPreset({name:t="",preset:e={},options:r,params:i,set:n,defaults:s,selector:o}){var a,l,u;let c,h,d;if(He(e)&&r.transform!=="strict"){let f=t.replace("-directive",""),p=e,{colorScheme:m,extend:g,css:v}=p,_=Lr(p,["colorScheme","extend","css"]),y=g||{},{colorScheme:w}=y,S=Lr(y,["colorScheme"]),x=m||{},{dark:T}=x,A=Lr(x,["dark"]),P=w||{},{dark:E}=P,I=Lr(P,["dark"]),k=He(_)?this._toVariables({[f]:Xt(Xt({},_),S)},r):{},C=He(A)?this._toVariables({[f]:Xt(Xt({},A),I)},r):{},M=He(T)?this._toVariables({[f]:Xt(Xt({},T),E)},r):{},[D,Y]=[(a=k.declarations)!=null?a:"",k.tokens||[]],[U,V]=[(l=C.declarations)!=null?l:"",C.tokens||[]],[se,L]=[(u=M.declarations)!=null?u:"",M.tokens||[]],B=this.transformCSS(f,`${D}${U}`,"light","variable",r,n,s,o),oe=this.transformCSS(f,se,"dark","variable",r,n,s,o);c=`${B}${oe}`,h=[...new Set([...Y,...V,...L])],d=gi(v,{dt:sn})}return{css:c,tokens:h,style:d}},getPresetC({name:t="",theme:e={},params:r,set:i,defaults:n}){var s;let{preset:o,options:a}=e,l=(s=o==null?void 0:o.components)==null?void 0:s[t];return this.getPreset({name:t,preset:l,options:a,params:r,set:i,defaults:n})},getPresetD({name:t="",theme:e={},params:r,set:i,defaults:n}){var s,o;let a=t.replace("-directive",""),{preset:l,options:u}=e,c=((s=l==null?void 0:l.components)==null?void 0:s[a])||((o=l==null?void 0:l.directives)==null?void 0:o[a]);return this.getPreset({name:a,preset:c,options:u,params:r,set:i,defaults:n})},applyDarkColorScheme(t){return!(t.darkModeSelector==="none"||t.darkModeSelector===!1)},getColorSchemeOption(t,e){var r;return this.applyDarkColorScheme(t)?this.regex.resolve(t.darkModeSelector===!0?e.options.darkModeSelector:(r=t.darkModeSelector)!=null?r:e.options.darkModeSelector):[]},getLayerOrder(t,e={},r,i){let{cssLayer:n}=e;return n?`@layer ${gi(n.order||n.name||"primeui",r)}`:""},getCommonStyleSheet({name:t="",theme:e={},params:r,props:i={},set:n,defaults:s}){let o=this.getCommon({name:t,theme:e,params:r,set:n,defaults:s}),a=Object.entries(i).reduce((l,[u,c])=>l.push(`${u}="${c}"`)&&l,[]).join(" ");return Object.entries(o||{}).reduce((l,[u,c])=>{if(rn(c)&&Object.hasOwn(c,"css")){let h=Ws(c.css),d=`${u}-variables`;l.push(`<style type="text/css" data-primevue-style-id="${d}" ${a}>${h}</style>`)}return l},[]).join("")},getStyleSheet({name:t="",theme:e={},params:r,props:i={},set:n,defaults:s}){var o;let a={name:t,theme:e,params:r,set:n,defaults:s},l=(o=t.includes("-directive")?this.getPresetD(a):this.getPresetC(a))==null?void 0:o.css,u=Object.entries(i).reduce((c,[h,d])=>c.push(`${h}="${d}"`)&&c,[]).join(" ");return l?`<style type="text/css" data-primevue-style-id="${t}-variables" ${u}>${Ws(l)}</style>`:""},createTokens(t={},e,r="",i="",n={}){let s=function(a,l={},u=[]){if(u.includes(this.path))return console.warn(`Circular reference detected at ${this.path}`),{colorScheme:a,path:this.path,paths:l,value:void 0};u.push(this.path),l.name=this.path,l.binding||(l.binding={});let c=this.value;if(typeof this.value=="string"&&oo.test(this.value)){let h=this.value.trim().replace(oo,d=>{var f;let p=d.slice(1,-1),m=this.tokens[p];if(!m)return console.warn(`Token not found for path: ${p}`),"__UNRESOLVED__";let g=m.computed(a,l,u);return Array.isArray(g)&&g.length===2?`light-dark(${g[0].value},${g[1].value})`:(f=g==null?void 0:g.value)!=null?f:"__UNRESOLVED__"});c=Zb.test(h.replace(Jb,"0"))?`calc(${h})`:h}return ff(l.binding)&&delete l.binding,u.pop(),{colorScheme:a,path:this.path,paths:l,value:c.includes("__UNRESOLVED__")?void 0:c}},o=(a,l,u)=>{Object.entries(a).forEach(([c,h])=>{let d=nn(c,e.variable.excludedKeyRegex)?l:l?`${l}.${eg(c)}`:eg(c),f=u?`${u}.${c}`:c;rn(h)?o(h,d,f):(n[d]||(n[d]={paths:[],computed:(p,m={},g=[])=>{if(n[d].paths.length===1)return n[d].paths[0].computed(n[d].paths[0].scheme,m.binding,g);if(p&&p!=="none")for(let v=0;v<n[d].paths.length;v++){let _=n[d].paths[v];if(_.scheme===p)return _.computed(p,m.binding,g)}return n[d].paths.map(v=>v.computed(v.scheme,m[v.scheme],g))}}),n[d].paths.push({path:f,value:h,scheme:f.includes("colorScheme.light")?"light":f.includes("colorScheme.dark")?"dark":"none",computed:s,tokens:n}))})};return o(t,r,i),n},getTokenValue(t,e,r){var i;let n=(a=>a.split(".").filter(l=>!nn(l.toLowerCase(),r.variable.excludedKeyRegex)).join("."))(e),s=e.includes("colorScheme.light")?"light":e.includes("colorScheme.dark")?"dark":void 0,o=[(i=t[n])==null?void 0:i.computed(s)].flat().filter(a=>a);return o.length===1?o[0].value:o.reduce((a={},l)=>{let u=l,{colorScheme:c}=u,h=Lr(u,["colorScheme"]);return a[c]=h,a},void 0)},getSelectorRule(t,e,r,i){return r==="class"||r==="attr"?Bn(He(e)?`${t}${e},${t} ${e}`:t,i):Bn(t,Bn(e??":root,:host",i))},transformCSS(t,e,r,i,n={},s,o,a){if(He(e)){let{cssLayer:l}=n;if(i!=="style"){let u=this.getColorSchemeOption(n,o);e=r==="dark"?u.reduce((c,{type:h,selector:d})=>(He(d)&&(c+=d.includes("[CSS]")?d.replace("[CSS]",e):this.getSelectorRule(d,a,h,e)),c),""):Bn(a??":root,:host",e)}if(l){let u={name:"primeui"};rn(l)&&(u.name=gi(l.name,{name:t,type:i})),He(u.name)&&(e=Bn(`@layer ${u.name}`,e),s==null||s.layerNames(u.name))}return e}return""}},ot={defaults:{variable:{prefix:"p",selector:":root,:host",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(t={}){let{theme:e}=t;e&&(this._theme=dc(Xt({},e),{options:Xt(Xt({},this.defaults.options),e.options)}),this._tokens=Gt.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var t;return((t=this.theme)==null?void 0:t.preset)||{}},get options(){var t;return((t=this.theme)==null?void 0:t.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(t){this.update({theme:t}),Br.emit("theme:change",t)},getPreset(){return this.preset},setPreset(t){this._theme=dc(Xt({},this.theme),{preset:t}),this._tokens=Gt.createTokens(t,this.defaults),this.clearLoadedStyleNames(),Br.emit("preset:change",t),Br.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(t){this._theme=dc(Xt({},this.theme),{options:t}),this.clearLoadedStyleNames(),Br.emit("options:change",t),Br.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(t){this._layerNames.add(t)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(t){return this._loadedStyleNames.has(t)},setLoadedStyleName(t){this._loadedStyleNames.add(t)},deleteLoadedStyleName(t){this._loadedStyleNames.delete(t)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(t){return Gt.getTokenValue(this.tokens,t,this.defaults)},getCommon(t="",e){return Gt.getCommon({name:t,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(t="",e){let r={name:t,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Gt.getPresetC(r)},getDirective(t="",e){let r={name:t,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Gt.getPresetD(r)},getCustomPreset(t="",e,r,i){let n={name:t,preset:e,options:this.options,selector:r,params:i,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Gt.getPreset(n)},getLayerOrderCSS(t=""){return Gt.getLayerOrder(t,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(t="",e,r="style",i){return Gt.transformCSS(t,e,i,r,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(t="",e,r={}){return Gt.getCommonStyleSheet({name:t,theme:this.theme,params:e,props:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(t,e,r={}){return Gt.getStyleSheet({name:t,theme:this.theme,params:e,props:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(t){this._loadingStyles.add(t)},onStyleUpdated(t){this._loadingStyles.add(t)},onStyleLoaded(t,{name:e}){this._loadingStyles.size&&(this._loadingStyles.delete(e),Br.emit(`theme:${e}:load`,t),!this._loadingStyles.size&&Br.emit("theme:load"))}},st={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"},qL=`
    *,
    ::before,
    ::after {
        box-sizing: border-box;
    }

    .p-collapsible-enter-active {
        animation: p-animate-collapsible-expand 0.2s ease-out;
        overflow: hidden;
    }

    .p-collapsible-leave-active {
        animation: p-animate-collapsible-collapse 0.2s ease-out;
        overflow: hidden;
    }

    @keyframes p-animate-collapsible-expand {
        from {
            grid-template-rows: 0fr;
        }
        to {
            grid-template-rows: 1fr;
        }
    }

    @keyframes p-animate-collapsible-collapse {
        from {
            grid-template-rows: 1fr;
        }
        to {
            grid-template-rows: 0fr;
        }
    }

    .p-disabled,
    .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-disabled,
    .p-component:disabled {
        opacity: dt('disabled.opacity');
    }

    .pi {
        font-size: dt('icon.size');
    }

    .p-icon {
        width: dt('icon.size');
        height: dt('icon.size');
    }

    .p-overlay-mask {
        background: var(--px-mask-background, dt('mask.background'));
        color: dt('mask.color');
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-overlay-mask-enter-active {
        animation: p-animate-overlay-mask-enter dt('mask.transition.duration') forwards;
    }

    .p-overlay-mask-leave-active {
        animation: p-animate-overlay-mask-leave dt('mask.transition.duration') forwards;
    }

    @keyframes p-animate-overlay-mask-enter {
        from {
            background: transparent;
        }
        to {
            background: var(--px-mask-background, dt('mask.background'));
        }
    }
    @keyframes p-animate-overlay-mask-leave {
        from {
            background: var(--px-mask-background, dt('mask.background'));
        }
        to {
            background: transparent;
        }
    }

    .p-anchored-overlay-enter-active {
        animation: p-animate-anchored-overlay-enter 300ms cubic-bezier(.19,1,.22,1);
    }

    .p-anchored-overlay-leave-active {
        animation: p-animate-anchored-overlay-leave 300ms cubic-bezier(.19,1,.22,1);
    }

    @keyframes p-animate-anchored-overlay-enter {
        from {
            opacity: 0;
            transform: scale(0.93);
        }
    }

    @keyframes p-animate-anchored-overlay-leave {
        to {
            opacity: 0;
            transform: scale(0.93);
        }
    }
`;function ao(t){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ao(t)}function tg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function rg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tg(Object(r),!0).forEach(function(i){KL(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tg(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function KL(t,e,r){return(e=ZL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZL(t){var e=JL(t,"string");return ao(e)=="symbol"?e:e+""}function JL(t,e){if(ao(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(ao(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;on()&&on().components?Qe(t):e?t():ki(t)}var eD=0;function tD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=z(!1),i=z(t),n=z(null),s=BL()?window.document:void 0,o=e.document,a=o===void 0?s:o,l=e.immediate,u=l===void 0?!0:l,c=e.manual,h=c===void 0?!1:c,d=e.name,f=d===void 0?"style_".concat(++eD):d,p=e.id,m=p===void 0?void 0:p,g=e.media,v=g===void 0?void 0:g,_=e.nonce,y=_===void 0?void 0:_,w=e.first,S=w===void 0?!1:w,x=e.onMounted,T=x===void 0?void 0:x,A=e.onUpdated,P=A===void 0?void 0:A,E=e.onLoad,I=E===void 0?void 0:E,k=e.props,C=k===void 0?{}:k,M=function(){},D=function(V){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var L=rg(rg({},C),se),B=L.name||f,oe=L.id||m,he=L.nonce||y;n.value=a.querySelector('style[data-primevue-style-id="'.concat(B,'"]'))||a.getElementById(oe)||a.createElement("style"),n.value.isConnected||(i.value=V||t,Hh(n.value,{type:"text/css",id:oe,media:v,nonce:he}),S?a.head.prepend(n.value):a.head.appendChild(n.value),FL(n.value,"data-primevue-style-id",B),Hh(n.value,L),n.value.onload=function(de){return I==null?void 0:I(de,{name:B})},T==null||T(B)),!r.value&&(M=_e(i,function(de){n.value.textContent=de,P==null||P(B)},{immediate:!0}),r.value=!0)}},Y=function(){!a||!r.value||(M(),DL(n.value)&&a.head.removeChild(n.value),r.value=!1,n.value=null)};return u&&!h&&QL(D),{id:m,name:f,el:n,css:i,unload:Y,load:D,isLoaded:Mi(r)}}function lo(t){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lo(t)}var ig,ng,sg,og;function ag(t,e){return sD(t)||nD(t,e)||iD(t,e)||rD()}function rD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iD(t,e){if(t){if(typeof t=="string")return lg(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lg(t,e):void 0}}function lg(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}function nD(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var i,n,s,o,a=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(i=s.call(r)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function sD(t){if(Array.isArray(t))return t}function ug(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function fc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ug(Object(r),!0).forEach(function(i){oD(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ug(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function oD(t,e,r){return(e=aD(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aD(t){var e=lD(t,"string");return lo(e)=="symbol"?e:e+""}function lD(t,e){if(lo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(lo(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pa(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var uD=function(e){var r=e.dt;return`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    opacity: 0;
    overflow: hidden;
    padding: 0;
    pointer-events: none;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: `.concat(r("scrollbar.width"),`;
}
`)},cD={},hD={},Pn={name:"base",css:uD,style:qL,classes:cD,inlineStyles:hD,load:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(s){return s},n=i(fa(ig||(ig=pa(["",""])),e));return He(n)?tD(Ws(n),fc({name:this.name},r)):{}},loadCSS:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.load(this.css,e)},loadStyle:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.load(this.style,r,function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return ot.transformCSS(r.name||e.name,"".concat(n).concat(fa(ng||(ng=pa(["",""])),i)))})},getCommonTheme:function(e){return ot.getCommon(this.name,e)},getComponentTheme:function(e){return ot.getComponent(this.name,e)},getDirectiveTheme:function(e){return ot.getDirective(this.name,e)},getPresetTheme:function(e,r,i){return ot.getCustomPreset(this.name,e,r,i)},getLayerOrderThemeCSS:function(){return ot.getLayerOrderCSS(this.name)},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var i=gi(this.css,{dt:sn})||"",n=Ws(fa(sg||(sg=pa(["","",""])),i,e)),s=Object.entries(r).reduce(function(o,a){var l=ag(a,2),u=l[0],c=l[1];return o.push("".concat(u,'="').concat(c,'"'))&&o},[]).join(" ");return He(n)?'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(s,">").concat(n,"</style>"):""}return""},getCommonThemeStyleSheet:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ot.getCommonStyleSheet(this.name,e,r)},getThemeStyleSheet:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=[ot.getStyleSheet(this.name,e,r)];if(this.style){var n=this.name==="base"?"global-style":"".concat(this.name,"-style"),s=fa(og||(og=pa(["",""])),gi(this.style,{dt:sn})),o=Ws(ot.transformCSS(n,s)),a=Object.entries(r).reduce(function(l,u){var c=ag(u,2),h=c[0],d=c[1];return l.push("".concat(h,'="').concat(d,'"'))&&l},[]).join(" ");He(o)&&i.push('<style type="text/css" data-primevue-style-id="'.concat(n,'" ').concat(a,">").concat(o,"</style>"))}return i.join("")},extend:function(e){return fc(fc({},this),{},{css:void 0,style:void 0},e)}},ma=pf();function uo(t){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uo(t)}function cg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function ga(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cg(Object(r),!0).forEach(function(i){dD(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cg(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function dD(t,e,r){return(e=fD(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fD(t){var e=pD(t,"string");return uo(e)=="symbol"?e:e+""}function pD(t,e){if(uo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(uo(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mD={ripple:!1,inputStyle:null,inputVariant:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",fileChosenMessage:"{0} files",noFileChosenMessage:"No file chosen",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[st.STARTS_WITH,st.CONTAINS,st.NOT_CONTAINS,st.ENDS_WITH,st.EQUALS,st.NOT_EQUALS],numeric:[st.EQUALS,st.NOT_EQUALS,st.LESS_THAN,st.LESS_THAN_OR_EQUAL_TO,st.GREATER_THAN,st.GREATER_THAN_OR_EQUAL_TO],date:[st.DATE_IS,st.DATE_IS_NOT,st.DATE_BEFORE,st.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},theme:void 0,unstyled:!1,pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},csp:{nonce:void 0}},gD=Symbol();function yD(t,e){var r={config:Js(e)};return t.config.globalProperties.$primevue=r,t.provide(gD,r),vD(),_D(t,r),r}var zn=[];function vD(){Br.clear(),zn.forEach(function(t){return t==null?void 0:t()}),zn=[]}function _D(t,e){var r=z(!1),i=function(){var u;if(((u=e.config)===null||u===void 0?void 0:u.theme)!=="none"&&!ot.isStyleNameLoaded("common")){var c,h,d=((c=Pn.getCommonTheme)===null||c===void 0?void 0:c.call(Pn))||{},f=d.primitive,p=d.semantic,m=d.global,g=d.style,v={nonce:(h=e.config)===null||h===void 0||(h=h.csp)===null||h===void 0?void 0:h.nonce};Pn.load(f==null?void 0:f.css,ga({name:"primitive-variables"},v)),Pn.load(p==null?void 0:p.css,ga({name:"semantic-variables"},v)),Pn.load(m==null?void 0:m.css,ga({name:"global-variables"},v)),Pn.loadStyle(ga({name:"global-style"},v),g),ot.setLoadedStyleName("common")}};Br.on("theme:change",function(l){r.value||(t.config.globalProperties.$primevue.config.theme=l,r.value=!0)});var n=_e(e.config,function(l,u){ma.emit("config:change",{newValue:l,oldValue:u})},{immediate:!0,deep:!0}),s=_e(function(){return e.config.ripple},function(l,u){ma.emit("config:ripple:change",{newValue:l,oldValue:u})},{immediate:!0,deep:!0}),o=_e(function(){return e.config.theme},function(l,u){r.value||ot.setTheme(l),e.config.unstyled||i(),r.value=!1,ma.emit("config:theme:change",{newValue:l,oldValue:u})},{immediate:!0,deep:!1}),a=_e(function(){return e.config.unstyled},function(l,u){!l&&e.config.theme&&i(),ma.emit("config:unstyled:change",{newValue:l,oldValue:u})},{immediate:!0,deep:!0});zn.push(n),zn.push(s),zn.push(o),zn.push(a)}var bD={install:function(e,r){var i=OL(mD,r);yD(e,i)}},ya=pf(),xD=Symbol(),wD={install:function(e){var r={add:function(n){ya.emit("add",n)},remove:function(n){ya.emit("remove",n)},removeGroup:function(n){ya.emit("remove-group",n)},removeAllGroups:function(){ya.emit("remove-all-groups")}};e.config.globalProperties.$toast=r,e.provide(xD,r)}};const TD={root:{class:["yun-tooltip","yun-tooltip-top"]},arrow:{class:"yun-tooltip-arrow"},text:{class:"yun-tooltip-text"}},SD={directives:{tooltip:TD}},AD=t=>{const{router:e,app:r}=t;r.use(zx),r.use(bD,{unstyled:!0,pt:{...SD,dock:{root:"yun-dock",list:"yun-dock-list",listContainer:"yun-dock-list-container",item:"yun-dock-item",itemLink:"yun-dock-item-link"}}}),r.use(wD),e.afterEach(()=>{const i=St();i.fullscreenMenu.isOpen&&i.fullscreenMenu.toggle()})};var r1=typeof global=="object"&&global&&global.Object===Object&&global,ED=typeof self=="object"&&self&&self.Object===Object&&self,vn=r1||ED||Function("return this")(),ns=vn.Symbol,i1=Object.prototype,CD=i1.hasOwnProperty,PD=i1.toString,Ts=ns?ns.toStringTag:void 0;function kD(t){var e=CD.call(t,Ts),r=t[Ts];try{t[Ts]=void 0;var i=!0}catch{}var n=PD.call(t);return i&&(e?t[Ts]=r:delete t[Ts]),n}var MD=Object.prototype,$D=MD.toString;function RD(t){return $D.call(t)}var ID="[object Null]",OD="[object Undefined]",hg=ns?ns.toStringTag:void 0;function Io(t){return t==null?t===void 0?OD:ID:hg&&hg in Object(t)?kD(t):RD(t)}function _n(t){return t!=null&&typeof t=="object"}var LD="[object Symbol]";function n1(t){return typeof t=="symbol"||_n(t)&&Io(t)==LD}function DD(t,e){for(var r=-1,i=t==null?0:t.length,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n}var hl=Array.isArray,dg=ns?ns.prototype:void 0,fg=dg?dg.toString:void 0;function s1(t){if(typeof t=="string")return t;if(hl(t))return DD(t,s1)+"";if(n1(t))return fg?fg.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var BD=/\s/;function FD(t){for(var e=t.length;e--&&BD.test(t.charAt(e)););return e}var ND=/^\s+/;function UD(t){return t&&t.slice(0,FD(t)+1).replace(ND,"")}function Pr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var pg=NaN,HD=/^[-+]0x[0-9a-f]+$/i,zD=/^0b[01]+$/i,jD=/^0o[0-7]+$/i,GD=parseInt;function jh(t){if(typeof t=="number")return t;if(n1(t))return pg;if(Pr(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Pr(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=UD(t);var r=zD.test(t);return r||jD.test(t)?GD(t.slice(2),r?2:8):HD.test(t)?pg:+t}var mg=1/0,VD=17976931348623157e292;function Gh(t){if(!t)return t===0?t:0;if(t=jh(t),t===mg||t===-mg){var e=t<0?-1:1;return e*VD}return t===t?t:0}function WD(t){var e=Gh(t),r=e%1;return e===e?r?e-r:e:0}function mf(t){return t}var XD="[object AsyncFunction]",YD="[object Function]",qD="[object GeneratorFunction]",KD="[object Proxy]";function gf(t){if(!Pr(t))return!1;var e=Io(t);return e==YD||e==qD||e==XD||e==KD}var pc=vn["__core-js_shared__"],gg=function(){var t=/[^.]+$/.exec(pc&&pc.keys&&pc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ZD(t){return!!gg&&gg in t}var JD=Function.prototype,QD=JD.toString;function eB(t){if(t!=null){try{return QD.call(t)}catch{}try{return t+""}catch{}}return""}var tB=/[\\^$.*+?()[\]{}|]/g,rB=/^\[object .+?Constructor\]$/,iB=Function.prototype,nB=Object.prototype,sB=iB.toString,oB=nB.hasOwnProperty,aB=RegExp("^"+sB.call(oB).replace(tB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lB(t){if(!Pr(t)||ZD(t))return!1;var e=gf(t)?aB:rB;return e.test(eB(t))}function uB(t,e){return t==null?void 0:t[e]}function yf(t,e){var r=uB(t,e);return lB(r)?r:void 0}var yg=Object.create,cB=function(){function t(){}return function(e){if(!Pr(e))return{};if(yg)return yg(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function hB(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function dB(t,e){var r=-1,i=t.length;for(e||(e=Array(i));++r<i;)e[r]=t[r];return e}var fB=800,pB=16,mB=Date.now;function gB(t){var e=0,r=0;return function(){var i=mB(),n=pB-(i-r);if(r=i,n>0){if(++e>=fB)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function yB(t){return function(){return t}}var dl=function(){try{var t=yf(Object,"defineProperty");return t({},"",{}),t}catch{}}(),vB=dl?function(t,e){return dl(t,"toString",{configurable:!0,enumerable:!1,value:yB(e),writable:!0})}:mf,_B=gB(vB),bB=9007199254740991,xB=/^(?:0|[1-9]\d*)$/;function o1(t,e){var r=typeof t;return e=e??bB,!!e&&(r=="number"||r!="symbol"&&xB.test(t))&&t>-1&&t%1==0&&t<e}function vf(t,e,r){e=="__proto__"&&dl?dl(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Zl(t,e){return t===e||t!==t&&e!==e}var wB=Object.prototype,TB=wB.hasOwnProperty;function SB(t,e,r){var i=t[e];(!(TB.call(t,e)&&Zl(i,r))||r===void 0&&!(e in t))&&vf(t,e,r)}function AB(t,e,r,i){var n=!r;r||(r={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=void 0;l===void 0&&(l=t[a]),n?vf(r,a,l):SB(r,a,l)}return r}var vg=Math.max;function EB(t,e,r){return e=vg(e===void 0?t.length-1:e,0),function(){for(var i=arguments,n=-1,s=vg(i.length-e,0),o=Array(s);++n<s;)o[n]=i[e+n];n=-1;for(var a=Array(e+1);++n<e;)a[n]=i[n];return a[e]=r(o),hB(t,this,a)}}function CB(t,e){return _B(EB(t,e,mf),t+"")}var PB=9007199254740991;function a1(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=PB}function _f(t){return t!=null&&a1(t.length)&&!gf(t)}function l1(t,e,r){if(!Pr(r))return!1;var i=typeof e;return(i=="number"?_f(r)&&o1(e,r.length):i=="string"&&e in r)?Zl(r[e],t):!1}function kB(t){return CB(function(e,r){var i=-1,n=r.length,s=n>1?r[n-1]:void 0,o=n>2?r[2]:void 0;for(s=t.length>3&&typeof s=="function"?(n--,s):void 0,o&&l1(r[0],r[1],o)&&(s=n<3?void 0:s,n=1),e=Object(e);++i<n;){var a=r[i];a&&t(e,a,i,s)}return e})}var MB=Object.prototype;function u1(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||MB;return t===r}function $B(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}var RB="[object Arguments]";function _g(t){return _n(t)&&Io(t)==RB}var c1=Object.prototype,IB=c1.hasOwnProperty,OB=c1.propertyIsEnumerable,Vh=_g(function(){return arguments}())?_g:function(t){return _n(t)&&IB.call(t,"callee")&&!OB.call(t,"callee")};function LB(){return!1}var h1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,bg=h1&&typeof module=="object"&&module&&!module.nodeType&&module,DB=bg&&bg.exports===h1,xg=DB?vn.Buffer:void 0,BB=xg?xg.isBuffer:void 0,d1=BB||LB,FB="[object Arguments]",NB="[object Array]",UB="[object Boolean]",HB="[object Date]",zB="[object Error]",jB="[object Function]",GB="[object Map]",VB="[object Number]",WB="[object Object]",XB="[object RegExp]",YB="[object Set]",qB="[object String]",KB="[object WeakMap]",ZB="[object ArrayBuffer]",JB="[object DataView]",QB="[object Float32Array]",e5="[object Float64Array]",t5="[object Int8Array]",r5="[object Int16Array]",i5="[object Int32Array]",n5="[object Uint8Array]",s5="[object Uint8ClampedArray]",o5="[object Uint16Array]",a5="[object Uint32Array]",Pe={};Pe[QB]=Pe[e5]=Pe[t5]=Pe[r5]=Pe[i5]=Pe[n5]=Pe[s5]=Pe[o5]=Pe[a5]=!0;Pe[FB]=Pe[NB]=Pe[ZB]=Pe[UB]=Pe[JB]=Pe[HB]=Pe[zB]=Pe[jB]=Pe[GB]=Pe[VB]=Pe[WB]=Pe[XB]=Pe[YB]=Pe[qB]=Pe[KB]=!1;function l5(t){return _n(t)&&a1(t.length)&&!!Pe[Io(t)]}function u5(t){return function(e){return t(e)}}var f1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Xs=f1&&typeof module=="object"&&module&&!module.nodeType&&module,c5=Xs&&Xs.exports===f1,mc=c5&&r1.process,wg=function(){try{var t=Xs&&Xs.require&&Xs.require("util").types;return t||mc&&mc.binding&&mc.binding("util")}catch{}}(),Tg=wg&&wg.isTypedArray,p1=Tg?u5(Tg):l5;function h5(t,e){var r=hl(t),i=!r&&Vh(t),n=!r&&!i&&d1(t),s=!r&&!i&&!n&&p1(t),o=r||i||n||s,a=o?$B(t.length,String):[],l=a.length;for(var u in t)o&&(u=="length"||n&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||o1(u,l))||a.push(u);return a}function d5(t,e){return function(r){return t(e(r))}}function f5(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var p5=Object.prototype,m5=p5.hasOwnProperty;function g5(t){if(!Pr(t))return f5(t);var e=u1(t),r=[];for(var i in t)i=="constructor"&&(e||!m5.call(t,i))||r.push(i);return r}function m1(t){return _f(t)?h5(t):g5(t)}var co=yf(Object,"create");function y5(){this.__data__=co?co(null):{},this.size=0}function v5(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _5="__lodash_hash_undefined__",b5=Object.prototype,x5=b5.hasOwnProperty;function w5(t){var e=this.__data__;if(co){var r=e[t];return r===_5?void 0:r}return x5.call(e,t)?e[t]:void 0}var T5=Object.prototype,S5=T5.hasOwnProperty;function A5(t){var e=this.__data__;return co?e[t]!==void 0:S5.call(e,t)}var E5="__lodash_hash_undefined__";function C5(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=co&&e===void 0?E5:e,this}function hn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}hn.prototype.clear=y5;hn.prototype.delete=v5;hn.prototype.get=w5;hn.prototype.has=A5;hn.prototype.set=C5;function P5(){this.__data__=[],this.size=0}function Jl(t,e){for(var r=t.length;r--;)if(Zl(t[r][0],e))return r;return-1}var k5=Array.prototype,M5=k5.splice;function $5(t){var e=this.__data__,r=Jl(e,t);if(r<0)return!1;var i=e.length-1;return r==i?e.pop():M5.call(e,r,1),--this.size,!0}function R5(t){var e=this.__data__,r=Jl(e,t);return r<0?void 0:e[r][1]}function I5(t){return Jl(this.__data__,t)>-1}function O5(t,e){var r=this.__data__,i=Jl(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}function ei(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}ei.prototype.clear=P5;ei.prototype.delete=$5;ei.prototype.get=R5;ei.prototype.has=I5;ei.prototype.set=O5;var g1=yf(vn,"Map");function L5(){this.size=0,this.__data__={hash:new hn,map:new(g1||ei),string:new hn}}function D5(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Ql(t,e){var r=t.__data__;return D5(e)?r[typeof e=="string"?"string":"hash"]:r.map}function B5(t){var e=Ql(this,t).delete(t);return this.size-=e?1:0,e}function F5(t){return Ql(this,t).get(t)}function N5(t){return Ql(this,t).has(t)}function U5(t,e){var r=Ql(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}function ms(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}ms.prototype.clear=L5;ms.prototype.delete=B5;ms.prototype.get=F5;ms.prototype.has=N5;ms.prototype.set=U5;function H5(t){return t==null?"":s1(t)}var y1=d5(Object.getPrototypeOf,Object),z5="[object Object]",j5=Function.prototype,G5=Object.prototype,v1=j5.toString,V5=G5.hasOwnProperty,W5=v1.call(Object);function _1(t){if(!_n(t)||Io(t)!=z5)return!1;var e=y1(t);if(e===null)return!0;var r=V5.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&v1.call(r)==W5}var X5="Expected a function";function Y5(t,e){var r;if(typeof e!="function")throw new TypeError(X5);return t=WD(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=void 0),r}}function q5(){this.__data__=new ei,this.size=0}function K5(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Z5(t){return this.__data__.get(t)}function J5(t){return this.__data__.has(t)}var Q5=200;function e4(t,e){var r=this.__data__;if(r instanceof ei){var i=r.__data__;if(!g1||i.length<Q5-1)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new ms(i)}return r.set(t,e),this.size=r.size,this}function gs(t){var e=this.__data__=new ei(t);this.size=e.size}gs.prototype.clear=q5;gs.prototype.delete=K5;gs.prototype.get=Z5;gs.prototype.has=J5;gs.prototype.set=e4;var b1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Sg=b1&&typeof module=="object"&&module&&!module.nodeType&&module,t4=Sg&&Sg.exports===b1,Ag=t4?vn.Buffer:void 0;Ag&&Ag.allocUnsafe;function r4(t,e){return t.slice()}var Eg=vn.Uint8Array;function i4(t){var e=new t.constructor(t.byteLength);return new Eg(e).set(new Eg(t)),e}function n4(t,e){var r=i4(t.buffer);return new t.constructor(r,t.byteOffset,t.length)}function s4(t){return typeof t.constructor=="function"&&!u1(t)?cB(y1(t)):{}}function o4(t){return function(e,r,i){for(var n=-1,s=Object(e),o=i(e),a=o.length;a--;){var l=o[++n];if(r(s[l],l,s)===!1)break}return e}}var a4=o4(),gc=function(){return vn.Date.now()},l4="Expected a function",u4=Math.max,c4=Math.min;function h4(t,e,r){var i,n,s,o,a,l,u=0,c=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(l4);e=jh(e)||0,Pr(r)&&(c=!!r.leading,h="maxWait"in r,s=h?u4(jh(r.maxWait)||0,e):s,d="trailing"in r?!!r.trailing:d);function f(x){var T=i,A=n;return i=n=void 0,u=x,o=t.apply(A,T),o}function p(x){return u=x,a=setTimeout(v,e),c?f(x):o}function m(x){var T=x-l,A=x-u,P=e-T;return h?c4(P,s-A):P}function g(x){var T=x-l,A=x-u;return l===void 0||T>=e||T<0||h&&A>=s}function v(){var x=gc();if(g(x))return _(x);a=setTimeout(v,m(x))}function _(x){return a=void 0,d&&i?f(x):(i=n=void 0,o)}function y(){a!==void 0&&clearTimeout(a),u=0,i=l=n=a=void 0}function w(){return a===void 0?o:_(gc())}function S(){var x=gc(),T=g(x);if(i=arguments,n=this,l=x,T){if(a===void 0)return p(l);if(h)return clearTimeout(a),a=setTimeout(v,e),f(l)}return a===void 0&&(a=setTimeout(v,e)),o}return S.cancel=y,S.flush=w,S}function Wh(t,e,r){(r!==void 0&&!Zl(t[e],r)||r===void 0&&!(e in t))&&vf(t,e,r)}function d4(t){return _n(t)&&_f(t)}function Xh(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function f4(t){return AB(t,m1(t))}function p4(t,e,r,i,n,s,o){var a=Xh(t,r),l=Xh(e,r),u=o.get(l);if(u){Wh(t,r,u);return}var c=s?s(a,l,r+"",t,e,o):void 0,h=c===void 0;if(h){var d=hl(l),f=!d&&d1(l),p=!d&&!f&&p1(l);c=l,d||f||p?hl(a)?c=a:d4(a)?c=dB(a):f?(h=!1,c=r4(l)):p?(h=!1,c=n4(l)):c=[]:_1(l)||Vh(l)?(c=a,Vh(a)?c=f4(a):(!Pr(a)||gf(a))&&(c=s4(l))):h=!1}h&&(o.set(l,c),n(c,l,i,s,o),o.delete(l)),Wh(t,r,c)}function x1(t,e,r,i,n){t!==e&&a4(e,function(s,o){if(n||(n=new gs),Pr(s))p4(t,e,o,r,x1,i,n);else{var a=i?i(Xh(t,o),s,o+"",t,e,n):void 0;a===void 0&&(a=s),Wh(t,o,a)}},m1)}function Cg(t){return _n(t)&&t.nodeType===1&&!_1(t)}function m4(t,e){for(var r,i=-1,n=t.length;++i<n;){var s=e(t[i]);s!==void 0&&(r=r===void 0?s:r+s)}return r}var w1=kB(function(t,e,r){x1(t,e,r)});function g4(t){return Y5(2,t)}var y4=Math.floor,v4=Math.random;function _4(t,e){return t+y4(v4()*(e-t+1))}var b4=parseFloat,x4=Math.min,w4=Math.random;function Pg(t,e,r){if(r&&typeof r!="boolean"&&l1(t,e,r)&&(e=r=void 0),r===void 0&&(typeof e=="boolean"?(r=e,e=void 0):typeof t=="boolean"&&(r=t,t=void 0)),t===void 0&&e===void 0?(t=0,e=1):(t=Gh(t),e===void 0?(e=t,t=0):e=Gh(e)),t>e){var i=t;t=e,e=i}if(r||t%1||e%1){var n=w4();return x4(t+n*(e-t+b4("1e-"+((n+"").length-1))),e)}return _4(t,e)}function kg(t){return t&&t.length?m4(t,mf):0}var T4=0;function T1(t){var e=++T4;return H5(t)+e}function S4(t){const e=`[DataV - ${t}]`;return{info(...r){console.log(`${e} ${r.join(" ")}`)},warn(...r){console.warn(`${e} ${r.join(" ")}`)},error(...r){console.error(`${e} ${r.join(" ")}`)}}}const Yh=S4("useResize");function A4(t,e){const r=new MutationObserver(e);return r.observe(t,{attributes:!0,attributeFilter:["class","style"],attributeOldValue:!0}),r}function E4(t,e){const{clientWidth:r=0,clientHeight:i=0}=t||{};t?(!r||!i)&&Yh.warn("Component width or height is 0px, rendering abnormality may occur!"):Yh.warn("Failed to get dom node, component rendering may be abnormal!"),e.width=r,e.height=i}function C4(t){return Cg(t)?t:Cg(t.$el)?t.$el:null}function $e(){const t=z(),e=[],r=Js({width:0,height:0}),i=()=>{E4(t.value,r)},n=h4(i,100),s=g4(o=>{const a=C4(o);if(!a){Yh.error("Bind Component Dom Ref Failed!");return}t.value=a});return Qe(()=>{i();const o=A4(t.value,n);window.addEventListener("resize",n),e.push(()=>{o.disconnect()},()=>{window.removeEventListener("resize",n)})}),dn(()=>{e.forEach(o=>o())}),{domSize:r,autoBindRef:s,refreshLayoutSize:i}}function Ae(t){const e=t;return e.install=function(r){r.component(e.displayName||e.name,t)},t}const S1=t=>t,P4=(t,e)=>{const r=Math.abs(t[0]-e[0]),i=Math.abs(t[1]-e[1]);return Math.sqrt(Math.pow(r,2)+Math.pow(i,2))};function Ut(t,e=[]){return w1(t,e)}function At(){return{color:{type:S1(Array),default:()=>[]},backgroundColor:{type:String,default:"transparent"}}}function Et(t,e=[]){return w1(t,e)}function k4(t){let e=t;const r={},i=h=>{var d;return(d=r[h])!=null?d:0},n=h=>{var d;r[h]=((d=r[h])!=null?d:0)+1},s=h=>{let d=r[h]-1;d<=0&&(d=0),r[h]=d},o=h=>{e=h},a=(h,d=!0)=>`${d?".":""}${e||""}${h}`,l=h=>a(h,!1),u=(h,d)=>{const f=a(d);return`.__STYLED__ {${h.toString()}}`.replaceAll(".__STYLED__",f)};function c(h){return d=>{const f=document.createElement("style"),p=g=>{f.innerHTML=u(d,g),document.querySelector("head").appendChild(f)},m=()=>document.querySelector("head").removeChild(f);return g=>{const v=h,_=T1("style");return H({setup(y,{slots:w}){Qe(()=>{i(_)===0&&p(g),n(_)}),dn(()=>{s(_),i(_)===0&&m()});const S=a(g,!1);return()=>b(v,an(y,{class:S}),{default:()=>{var x;return[(x=w==null?void 0:w.default)==null?void 0:x.call(w)]}})}})}}}return c.setClassNamePrefix=o,c.getClassNameForBind=l,c.span=c((h,{slots:d})=>b("span",h,[d==null?void 0:d.default()])),c.div=c((h,{slots:d})=>b("div",h,[d==null?void 0:d.default()])),c.img=c(h=>b("img",h,null)),c.svg=c((h,{slots:d})=>b("svg",h,[d==null?void 0:d.default()])),c}const M4="dv-",ae=k4(M4),$4=ae.setClassNamePrefix,Ct=ae.div`
  position: relative;
  width: 100%;
  height: 100%;
`("border-box"),Pt=ae.div`
  position: relative;
  width: 100%;
  height: 100%;
`("border-box-content"),R4=["#4fd2dd","#235fa7"],I4=["left-top","right-top","left-bottom","right-bottom"],Mg=ae.svg`
  position: absolute;
  display: block;
}
.__STYLED__.right-top {
  right: 0px;
  transform: rotateY(180deg);
}
.__STYLED__.left-bottom {
  bottom: 0px;
  transform: rotateX(180deg);
}
.__STYLED__.right-bottom {
  right: 0px;
  bottom: 0px;
  transform: rotateX(180deg) rotateY(180deg);
`("border"),O4=Ae(H({name:"BorderBox1",props:At(),setup(t,{slots:e,expose:r}){const{autoBindRef:i,refreshLayoutSize:n,domSize:s}=$e();return r({refreshLayoutSize:n}),()=>{const{color:o,backgroundColor:a}=t,{width:l,height:u}=s,c=Et(R4,o);return b(Ct,{class:ae.getClassNameForBind("border-box-1"),ref:i},{default:()=>[b(Mg,{width:l,height:u},{default:()=>[b("polygon",{fill:a,points:`10, 27 10, ${u-27} 13, ${u-24} 13, ${u-21} 24, ${u-11} 38, ${u-11}
                41, ${u-8} 73, ${u-8} 75, ${u-10} 81, ${u-10} 85, ${u-6}
                ${l-85}, ${u-6} ${l-81}, ${u-10} ${l-75}, ${u-10}
                ${l-73}, ${u-8} ${l-41}, ${u-8} ${l-38}, ${u-11}
                ${l-24}, ${u-11} ${l-13}, ${u-21} ${l-13}, ${u-24}
                ${l-10}, ${u-27} ${l-10}, 27 ${l-13}, 25 ${l-13}, 21
                ${l-24}, 11 ${l-38}, 11 ${l-41}, 8 ${l-73}, 8 ${l-75}, 10
                ${l-81}, 10 ${l-85}, 6 85, 6 81, 10 75, 10 73, 8 41, 8 38, 11 24, 11 13, 21 13, 24`},null)]}),I4.map(h=>b(Mg,{key:h,width:"150",height:"150",class:h},{default:()=>[b("polygon",{fill:c[0],points:"6,66 6,18 12,12 18,12 24,6 27,6 30,9 36,9 39,6 84,6 81,9 75,9 73.2,7 40.8,7 37.8,10.2 24,10.2 12,21 12,24 9,27 9,51 7.8,54 7.8,63"},[b("animate",{attributeName:"fill",values:`${c[0]};${c[1]};${c[0]}`,dur:"0.5s",begin:"0s",repeatCount:"indefinite"},null)]),b("polygon",{fill:c[1],points:"27.6,4.8 38.4,4.8 35.4,7.8 30.6,7.8"},[b("animate",{attributeName:"fill",values:`${c[1]};${c[0]};${c[1]}`,dur:"0.5s",begin:"0s",repeatCount:"indefinite"},null)]),b("polygon",{fill:c[0],points:"9,54 9,63 7.2,66 7.2,75 7.8,78 7.8,110 8.4,110 8.4,66 9.6,66 9.6,54"},[b("animate",{attributeName:"fill",values:`${c[0]};${c[1]};transparent`,dur:"1s",begin:"0s",repeatCount:"indefinite"},null)])]})),b(Pt,null,{default:()=>{var h;return[(h=e.default)==null?void 0:h.call(e)]}})]})}}})),L4=["#1d48c4","#d3e1f8"],D4=["left-top","right-top","left-bottom","right-bottom"],$g=ae.svg`
  position: absolute;
  display: block;
}
.__STYLED__.right-top {
  right: 0px;
  transform: rotateY(180deg);
}
.__STYLED__.left-bottom {
  bottom: 0px;
  transform: rotateX(180deg);
}
.__STYLED__.right-bottom {
  right: 0px;
  bottom: 0px;
  transform: rotateX(180deg) rotateY(180deg);
`("border-svg-container"),B4=Ae(H({name:"BorderBox10",props:At(),setup(t,{slots:e,expose:r}){const{autoBindRef:i,refreshLayoutSize:n,domSize:s}=$e();return r({refreshLayoutSize:n}),()=>{const{width:o,height:a}=s,{backgroundColor:l,color:u}=t,c=Et(L4,u);return b(Ct,{class:ae.getClassNameForBind("border-box-10"),ref:i,style:{boxShadow:`inset 0 0 25px 3px ${c[0]}`}},{default:()=>[b($g,{width:o,height:a},{default:()=>[b("polygon",{fill:l,points:`
                  4, 0 ${o-4}, 0 ${o}, 4 ${o}, ${a-4} ${o-4}, ${a}
                  4, ${a} 0, ${a-4} 0, 4
                `},null)]}),D4.map(h=>b($g,{width:"150px",height:"150px",key:h,class:h},{default:()=>[b("polygon",{fill:c[1],points:"40, 0 5, 0 0, 5 0, 16 3, 19 3, 7 7, 3 35, 3"},null)]})),b(Pt,null,{default:()=>{var h;return[(h=e.default)==null?void 0:h.call(e)]}})]})}}}));var A1=(t=>(t.transparent="rgba(0,0,0,0)",t.black="#000000",t.silver="#C0C0C0",t.gray="#808080",t.white="#FFFFFF",t.maroon="#800000",t.red="#FF0000",t.purple="#800080",t.fuchsia="#FF00FF",t.green="#008000",t.lime="#00FF00",t.olive="#808000",t.yellow="#FFFF00",t.navy="#000080",t.blue="#0000FF",t.teal="#008080",t.aqua="#00FFFF",t.aliceblue="#f0f8ff",t.antiquewhite="#faebd7",t.aquamarine="#7fffd4",t.azure="#f0ffff",t.beige="#f5f5dc",t.bisque="#ffe4c4",t.blanchedalmond="#ffebcd",t.blueviolet="#8a2be2",t.brown="#a52a2a",t.burlywood="#deb887",t.cadetblue="#5f9ea0",t.chartreuse="#7fff00",t.chocolate="#d2691e",t.coral="#ff7f50",t.cornflowerblue="#6495ed",t.cornsilk="#fff8dc",t.crimson="#dc143c",t.cyan="#00ffff",t.darkblue="#00008b",t.darkcyan="#008b8b",t.darkgoldenrod="#b8860b",t.darkgray="#a9a9a9",t.darkgreen="#006400",t.darkgrey="#a9a9a9",t.darkkhaki="#bdb76b",t.darkmagenta="#8b008b",t.darkolivegreen="#556b2f",t.darkorange="#ff8c00",t.darkorchid="#9932cc",t.darkred="#8b0000",t.darksalmon="#e9967a",t.darkseagreen="#8fbc8f",t.darkslateblue="#483d8b",t.darkslategray="#2f4f4f",t.darkslategrey="#2f4f4f",t.darkturquoise="#00ced1",t.darkviolet="#9400d3",t.deeppink="#ff1493",t.deepskyblue="#00bfff",t.dimgray="#696969",t.dimgrey="#696969",t.dodgerblue="#1e90ff",t.firebrick="#b22222",t.floralwhite="#fffaf0",t.forestgreen="#228b22",t.gainsboro="#dcdcdc",t.ghostwhite="#f8f8ff",t.gold="#ffd700",t.goldenrod="#daa520",t.greenyellow="#adff2f",t.grey="#808080",t.honeydew="#f0fff0",t.hotpink="#ff69b4",t.indianred="#cd5c5c",t.indigo="#4b0082",t.ivory="#fffff0",t.khaki="#f0e68c",t.lavender="#e6e6fa",t.lavenderblush="#fff0f5",t.lawngreen="#7cfc00",t.lemonchiffon="#fffacd",t.lightblue="#add8e6",t.lightcoral="#f08080",t.lightcyan="#e0ffff",t.lightgoldenrodyellow="#fafad2",t.lightgray="#d3d3d3",t.lightgreen="#90ee90",t.lightgrey="#d3d3d3",t.lightpink="#ffb6c1",t.lightsalmon="#ffa07a",t.lightseagreen="#20b2aa",t.lightskyblue="#87cefa",t.lightslategray="#778899",t.lightslategrey="#778899",t.lightsteelblue="#b0c4de",t.lightyellow="#ffffe0",t.limegreen="#32cd32",t.linen="#faf0e6",t.magenta="#ff00ff",t.mediumaquamarine="#66cdaa",t.mediumblue="#0000cd",t.mediumorchid="#ba55d3",t.mediumpurple="#9370db",t.mediumseagreen="#3cb371",t.mediumslateblue="#7b68ee",t.mediumspringgreen="#00fa9a",t.mediumturquoise="#48d1cc",t.mediumvioletred="#c71585",t.midnightblue="#191970",t.mintcream="#f5fffa",t.mistyrose="#ffe4e1",t.moccasin="#ffe4b5",t.navajowhite="#ffdead",t.oldlace="#fdf5e6",t.olivedrab="#6b8e23",t.orange="#ffa500",t.orangered="#ff4500",t.orchid="#da70d6",t.palegoldenrod="#eee8aa",t.palegreen="#98fb98",t.paleturquoise="#afeeee",t.palevioletred="#db7093",t.papayawhip="#ffefd5",t.peachpuff="#ffdab9",t.peru="#cd853f",t.pink="#ffc0cb",t.plum="#dda0dd",t.powderblue="#b0e0e6",t.rosybrown="#bc8f8f",t.royalblue="#4169e1",t.saddlebrown="#8b4513",t.salmon="#fa8072",t.sandybrown="#f4a460",t.seagreen="#2e8b57",t.seashell="#fff5ee",t.sienna="#a0522d",t.skyblue="#87ceeb",t.slateblue="#6a5acd",t.slategray="#708090",t.snow="#fffafa",t.springgreen="#00ff7f",t.steelblue="#4682b4",t.tan="#d2b48c",t.thistle="#d8bfd8",t.tomato="#ff6347",t.turquoise="#40e0d0",t.violet="#ee82ee",t.wheat="#f5deb3",t.whitesmoke="#f5f5f5",t.yellowgreen="#9acd32",t))(A1||{});function E1(t){return typeof t!="string"?!1:(t=t.toLowerCase(),/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t))}function F4(t){return/^(rgb|rgba|RGB|RGBA)/.test(t)}function N4(t){return A1[t]}function U4(t){if(E1(t)||F4(t))return t;const e=N4(t);if(!e)throw new Error(`Color: Invalid Input of ${t}`);return e}function H4(t){t=t.replace("#",""),t.length===3&&(t=Array.from(t).map(r=>r+r).join(""));const e=t.split("");return new Array(3).fill(0).map((r,i)=>parseInt(`0x${e[i*2]}${e[i*2+1]}`))}function z4(t){return t.replace(/rgb\(|rgba\(|\)/g,"").split(",").slice(0,3).map(e=>parseInt(e))}function j4(t){const e=U4(t).toLowerCase();return E1(e)?H4(e):z4(e)}function G4(t){if(!Array.isArray(t))throw new Error(`getColorFromRgbValue: ${t} is not an array`);const{length:e}=t;if(e!==3&&e!==4)throw new Error("getColorFromRgbValue: value length should be 3 or 4");return(e===3?"rgb(":"rgba(")+t.join(",")+")"}function at(t,e=100){const r=j4(t);return G4([...r,e/100])}function bn(){return Mi(Js({id:T1("datav_uuid")}))}var V4=Object.defineProperty,W4=Object.defineProperties,X4=Object.getOwnPropertyDescriptors,Rg=Object.getOwnPropertySymbols,Y4=Object.prototype.hasOwnProperty,q4=Object.prototype.propertyIsEnumerable,Ig=(t,e,r)=>e in t?V4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,K4=(t,e)=>{for(var r in e||(e={}))Y4.call(e,r)&&Ig(t,r,e[r]);if(Rg)for(var r of Rg(e))q4.call(e,r)&&Ig(t,r,e[r]);return t},Z4=(t,e)=>W4(t,X4(e));const Og=["#8aaafb","#1f33a2"],J4=ae.svg`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0px;
  left: 0px;
}
.__STYLED__ > polyline {
  fill: none;
  stroke-width: 1;
`("border-svg-container"),Q4=()=>Z4(K4({},At()),{titleWidth:{type:Number,default:250},title:{type:String,default:""}}),eF=Ae(H({name:"BorderBox11",props:Q4(),setup(t,{slots:e,expose:r}){const{autoBindRef:i,refreshLayoutSize:n,domSize:s}=$e();r({refreshLayoutSize:n});const o=bn();return()=>{const{color:a,backgroundColor:l,titleWidth:u,title:c}=t,{width:h,height:d}=s,f=Et(Og,a),p=`border-box-11-filterId-${o}`;return b(Ct,{class:ae.getClassNameForBind("border-box-11"),ref:i},{default:()=>[b(J4,{width:h,height:d},{default:()=>[b("defs",null,[b("filter",{id:p,height:"150%",width:"150%",x:"-25%",y:"-25%"},[b("feMorphology",{operator:"dilate",radius:"2",in:"SourceAlpha",result:"thicken"},null),b("feGaussianBlur",{in:"thicken",stdDeviation:"3",result:"blurred"},null),b("feFlood",{"flood-color":f[1],result:"glowColor"},null),b("feComposite",{in:"glowColor",in2:"blurred",operator:"in",result:"softGlowColored"},null),b("feMerge",null,[b("feMergeNode",{in:"softGlowColored"},null),b("feMergeNode",{in:"SourceGraphic"},null)])])]),b("polygon",{fill:l,points:`
                  20, 32 ${h*.5-u/2}, 32 ${h*.5-u/2+20}, 53
                  ${h*.5+u/2-20}, 53 ${h*.5+u/2}, 32
                  ${h-20}, 32 ${h-8}, 48 ${h-8}, ${d-25} ${h-20}, ${d-8}
                  20, ${d-8} 8, ${d-25} 8, 50
                `},null),b("polyline",{stroke:f[0],filter:`url(#${p})`,points:`
                  ${(h-u)/2}, 30
                  20, 30 7, 50 7, ${50+(d-167)/2}
                  13, ${55+(d-167)/2} 13, ${135+(d-167)/2}
                  7, ${140+(d-167)/2} 7, ${d-27}
                  20, ${d-7} ${h-20}, ${d-7} ${h-7}, ${d-27}
                  ${h-7}, ${140+(d-167)/2} ${h-13}, ${135+(d-167)/2}
                  ${h-13}, ${55+(d-167)/2} ${h-7}, ${50+(d-167)/2}
                  ${h-7}, 50 ${h-20}, 30 ${(h+u)/2}, 30
                  ${(h+u)/2-20}, 7 ${(h-u)/2+20}, 7
                  ${(h-u)/2}, 30 ${(h-u)/2+20}, 52
                  ${(h+u)/2-20}, 52 ${(h+u)/2}, 30
                `},null),b("polygon",{stroke:f[0],fill:"transparent",points:`
                  ${(h+u)/2-5}, 30 ${(h+u)/2-21}, 11
                  ${(h+u)/2-27}, 11 ${(h+u)/2-8}, 34
                `},null),b("polygon",{stroke:f[0],fill:"transparent",points:`
                  ${(h-u)/2+5}, 30 ${(h-u)/2+22}, 49
                  ${(h-u)/2+28}, 49 ${(h-u)/2+8}, 26
                `},null),b("polygon",{stroke:f[0],fill:at(f[1]||Og[1],30),filter:`url(#${p})`,points:`
                  ${(h+u)/2-11}, 37 ${(h+u)/2-32}, 11
                  ${(h-u)/2+23}, 11 ${(h-u)/2+11}, 23
                  ${(h-u)/2+33}, 49 ${(h+u)/2-22}, 49
                `},null),b("polygon",{filter:`url(#${p})`,fill:f[0],opacity:"1",points:`
                  ${(h-u)/2-10}, 37 ${(h-u)/2-31}, 37
                  ${(h-u)/2-25}, 46 ${(h-u)/2-4}, 46
                `},[b("animate",{attributeName:"opacity",values:"1;0.7;1",dur:"2s",begin:"0s",repeatCount:"indefinite"},null)]),b("polygon",{filter:`url(#${p})`,fill:f[0],opacity:"0.7",points:`
                  ${(h-u)/2-40}, 37 ${(h-u)/2-61}, 37
                  ${(h-u)/2-55}, 46 ${(h-u)/2-34}, 46
                `},[b("animate",{attributeName:"opacity",values:"0.7;0.4;0.7",dur:"2s",begin:"0s",repeatCount:"indefinite"},null)]),b("polygon",{filter:`url(#${p})`,fill:f[0],opacity:"0.5",points:`
                  ${(h-u)/2-70}, 37 ${(h-u)/2-91}, 37
                  ${(h-u)/2-85}, 46 ${(h-u)/2-64}, 46
                `},[b("animate",{attributeName:"opacity",values:"0.5;0.2;0.5",dur:"2s",begin:"0s",repeatCount:"indefinite"},null)]),b("polygon",{filter:`url(#${p})`,fill:f[0],opacity:"1",points:`
                  ${(h+u)/2+30}, 37 ${(h+u)/2+9}, 37
                  ${(h+u)/2+3}, 46 ${(h+u)/2+24}, 46
                `},[b("animate",{attributeName:"opacity",values:"1;0.7;1",dur:"2s",begin:"0s",repeatCount:"indefinite"},null)]),b("polygon",{filter:`url(#${p})`,fill:f[0],opacity:"0.7",points:`
                  ${(h+u)/2+60}, 37 ${(h+u)/2+39}, 37
                  ${(h+u)/2+33}, 46 ${(h+u)/2+54}, 46
                `},[b("animate",{attributeName:"opacity",values:"0.7;0.4;0.7",dur:"2s",begin:"0s",repeatCount:"indefinite"},null)]),b("polygon",{filter:`url(#${p})`,fill:f[0],opacity:"0.5",points:`
                  ${(h+u)/2+90}, 37 ${(h+u)/2+69}, 37
                  ${(h+u)/2+63}, 46 ${(h+u)/2+84}, 46
                `},[b("animate",{attributeName:"opacity",values:"0.5;0.2;0.5",dur:"2s",begin:"0s",repeatCount:"indefinite"},null)]),b("text",{class:"dv-border-box-11-title",x:`${h/2}`,y:"32",fill:"#fff","font-size":"18","text-anchor":"middle","dominant-baseline":"middle"},[c]),b("polygon",{fill:f[0],filter:`url(#${p})`,points:`
                  7, ${53+(d-167)/2} 11, ${57+(d-167)/2}
                  11, ${133+(d-167)/2} 7, ${137+(d-167)/2}
                `},null),b("polygon",{fill:f[0],filter:`url(#${p})`,points:`
                  ${h-7}, ${53+(d-167)/2} ${h-11}, ${57+(d-167)/2}
                  ${h-11}, ${133+(d-167)/2} ${h-7}, ${137+(d-167)/2}
                `},null)]}),b(Pt,null,{default:()=>{var m;return[(m=e.default)==null?void 0:m.call(e)]}})]})}}})),Ss=["#2e6099","#7ce7fd"],tF=ae.svg`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0px;
  left: 0px;
`("border-svg-container"),rF=Ae(H({name:"BorderBox12",props:At(),setup(t,{slots:e,expose:r}){const{autoBindRef:i,refreshLayoutSize:n,domSize:s}=$e();r({refreshLayoutSize:n});const o=bn();return()=>{const{color:a,backgroundColor:l}=t,{width:u,height:c}=s,h=Et(Ss,a),d=`border-box-12-filterId-${o}`;return b(Ct,{class:ae.getClassNameForBind("border-box-12"),ref:i},{default:()=>[b(tF,{width:u,height:c},{default:()=>[b("defs",null,[b("filter",{id:d,height:"150%",width:"150%",x:"-25%",y:"-25%"},[b("feMorphology",{operator:"dilate",radius:"1",in:"SourceAlpha",result:"thicken"},null),b("feGaussianBlur",{in:"thicken",stdDeviation:"2",result:"blurred"},null),b("feFlood",{"flood-color":at(h[1]||Ss[1],70),result:"glowColor"},[b("animate",{attributeName:"flood-color",values:`
                        ${at(h[1]||Ss[1],70)};
                        ${at(h[1]||Ss[1],30)};
                        ${at(h[1]||Ss[1],70)};
                      `,dur:"3s",begin:"0s",repeatCount:"indefinite"},null)]),b("feComposite",{in:"glowColor",in2:"blurred",operator:"in",result:"softGlowColored"},null),b("feMerge",null,[b("feMergeNode",{in:"softGlowColored"},null),b("feMergeNode",{in:"SourceGraphic"},null)])])]),u&&c&&b("path",{fill:l,"stroke-width":"2",stroke:h[0],d:`
                    M15 5 L ${u-15} 5 Q ${u-5} 5, ${u-5} 15
                    L ${u-5} ${c-15} Q ${u-5} ${c-5}, ${u-15} ${c-5}
                    L 15, ${c-5} Q 5 ${c-5} 5 ${c-15} L 5 15
                    Q 5 5 15 5
                  `},null),b("path",{"stroke-width":"2",fill:"transparent","stroke-linecap":"round",filter:`url(#${d})`,stroke:h[1],d:"M 20 5 L 15 5 Q 5 5 5 15 L 5 20"},null),b("path",{"stroke-width":"2",fill:"transparent","stroke-linecap":"round",filter:`url(#${d})`,stroke:h[1],d:`M ${u-20} 5 L ${u-15} 5 Q ${u-5} 5 ${u-5} 15 L ${u-5} 20`},null),b("path",{"stroke-width":"2",fill:"transparent","stroke-linecap":"round",filter:`url(#${d})`,stroke:h[1],d:`
                  M ${u-20} ${c-5} L ${u-15} ${c-5}
                  Q ${u-5} ${c-5} ${u-5} ${c-15}
                  L ${u-5} ${c-20}
                `},null),b("path",{"stroke-width":"2",fill:"transparent","stroke-linecap":"round",filter:`url(#${d})`,stroke:h[1],d:`
                  M 20 ${c-5} L 15 ${c-5}
                  Q 5 ${c-5} 5 ${c-15}
                  L 5 ${c-20}
                `},null)]}),b(Pt,null,{default:()=>{var f;return[(f=e.default)==null?void 0:f.call(e)]}})]})}}})),iF=["#6586ec","#2cf7fe"],nF=ae.svg`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0px;
  left: 0px;
`("border-svg-container"),sF=Ae(H({name:"BorderBox13",props:At(),setup(t,{slots:e,expose:r}){const{autoBindRef:i,refreshLayoutSize:n,domSize:s}=$e();return r({refreshLayoutSize:n}),()=>{const{color:o,backgroundColor:a}=t,{width:l,height:u}=s,c=Et(iF,o);return b(Ct,{class:ae.getClassNameForBind("border-box-13"),ref:i},{default:()=>[b(nF,{width:l,height:u},{default:()=>[b("path",{fill:a,stroke:c[0],d:`
                  M 5 20 L 5 10 L 12 3  L 60 3 L 68 10
                  L ${l-20} 10 L ${l-5} 25
                  L ${l-5} ${u-5} L 20 ${u-5}
                  L 5 ${u-20} L 5 20
                `},null),b("path",{fill:"transparent","stroke-width":"3","stroke-linecap":"round","stroke-dasharray":"10, 5",stroke:c[0],d:"M 16 9 L 61 9"},null),b("path",{fill:"transparent",stroke:c[1],d:"M 5 20 L 5 10 L 12 3  L 60 3 L 68 10"},null),b("path",{fill:"transparent",stroke:c[1],d:`M ${l-5} ${u-30} L ${l-5} ${u-5} L ${l-30} ${u-5}`},null)]}),b(Pt,null,{default:()=>{var h;return[(h=e.default)==null?void 0:h.call(e)]}})]})}}})),oF=["#fff","rgba(255, 255, 255, 0.6)"],aF=ae.svg`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0px;
  left: 0px;
}
.__STYLED__ > polyline {
  fill: none;
  stroke-width: 1;
`("border-svg-container"),lF=Ae(H({name:"BorderBox2",props:At(),setup(t,{slots:e,expose:r}){const{autoBindRef:i,refreshLayoutSize:n,domSize:s}=$e();return r({refreshLayoutSize:n}),()=>{const{color:o,backgroundColor:a}=t,{width:l,height:u}=s,c=Et(oF,o);return b(Ct,{class:ae.getClassNameForBind("border-box-2"),ref:i},{default:()=>[b(aF,{width:l,height:u},{default:()=>[b("polygon",{fill:a,points:`7, 7 ${l-7}, 7 ${l-7}, ${u-7} 7, ${u-7}`},null),b("polyline",{stroke:c[0],points:`2, 2 ${l-2} ,2 ${l-2}, ${u-2} 2, ${u-2} 2, 2`},null),b("polyline",{stroke:c[1],points:`6, 6 ${l-6}, 6 ${l-6}, ${u-6} 6, ${u-6} 6, 6`},null),b("circle",{fill:c[0],cx:"11",cy:"11",r:"1"},null),b("circle",{fill:c[0],cx:l-11,cy:"11",r:"1"},null),b("circle",{fill:c[0],cx:l-11,cy:u-11,r:"1"},null),b("circle",{fill:c[0],cx:"11",cy:u-11,r:"1"},null)]}),b(Pt,null,{default:()=>{var h;return[(h=e.default)==null?void 0:h.call(e)]}})]})}}})),uF=["#2862b7","#2862b7"],cF=ae.svg`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0px;
  left: 0px;
}
.__STYLED__ > polyline {
  fill: none;
}
.__STYLED__ .stroke-width-1 {
  stroke-width: 1;
}
.__STYLED__ .stroke-width-3 {
  stroke-width: 3;
`("border-svg-container"),hF=Ae(H({name:"BorderBox3",props:At(),setup(t,{slots:e,expose:r}){const{autoBindRef:i,refreshLayoutSize:n,domSize:s}=$e();return r({refreshLayoutSize:n}),()=>{const{color:o,backgroundColor:a}=t,{width:l,height:u}=s,c=Et(uF,o);return b(Ct,{class:ae.getClassNameForBind("border-box-3"),ref:i},{default:()=>[b(cF,{width:l,height:u},{default:()=>[b("polygon",{fill:a,points:`23, 23 ${l-24}, 23 ${l-24}, ${u-24} 23, ${u-24}`},null),b("polyline",{class:"stroke-width-3",stroke:c[0],points:`4, 4 ${l-22} ,4 ${l-22}, ${u-22} 4, ${u-22} 4, 4`},null),b("polyline",{class:"stroke-width-1",stroke:c[1],points:`10, 10 ${l-16}, 10 ${l-16}, ${u-16} 10, ${u-16} 10, 10`},null),b("polyline",{class:"stroke-width-1",stroke:c[1],points:`16, 16 ${l-10}, 16 ${l-10}, ${u-10} 16, ${u-10} 16, 16`},null),b("polyline",{class:"stroke-width-1",stroke:c[1],points:`22, 22 ${l-4}, 22 ${l-4}, ${u-4} 22, ${u-4} 22, 22`},null)]}),b(Pt,null,{default:()=>{var h;return[(h=e.default)==null?void 0:h.call(e)]}})]})}}}));var C1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=n(s,i(a)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=n(o,a));return o}function n(s,o){return o?s?s+" "+o:s+o:s}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(C1);var dF=C1.exports;const bf=_l(dF);var fF=Object.defineProperty,pF=Object.defineProperties,mF=Object.getOwnPropertyDescriptors,Lg=Object.getOwnPropertySymbols,gF=Object.prototype.hasOwnProperty,yF=Object.prototype.propertyIsEnumerable,Dg=(t,e,r)=>e in t?fF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vF=(t,e)=>{for(var r in e||(e={}))gF.call(e,r)&&Dg(t,r,e[r]);if(Lg)for(var r of Lg(e))yF.call(e,r)&&Dg(t,r,e[r]);return t},_F=(t,e)=>pF(t,mF(e));const bF=["red","rgba(0,0,255,0.8)"],xF=ae.svg`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0px;
  left: 0px;
}
.__STYLED__ > polyline {
  fill: none;
}
.__STYLED__.reverse {
  transform: rotate(180deg);
}
.__STYLED__ .stroke-width1 {
  stroke-width: 1;
}
.__STYLED__ .stroke-width3 {
  stroke-width: 3px;
  stroke-linecap: round;
`("border-svg-container"),wF=()=>_F(vF({},At()),{reverse:{type:Boolean,default:!1}}),TF=Ae(H({name:"BorderBox4",props:wF(),setup(t,{slots:e,expose:r}){const{autoBindRef:i,refreshLayoutSize:n,domSize:s}=$e();return r({refreshLayoutSize:n}),()=>{const{color:o,backgroundColor:a,reverse:l}=t,{width:u,height:c}=s,h=Et(bF,o);return b(Ct,{class:ae.getClassNameForBind("border-box-4"),ref:i},{default:()=>[b(xF,{class:bf({reverse:l}),width:u,height:c},{default:()=>[b("polygon",{fill:a,points:`${u-15}, 22 170, 22 150, 7 40, 7 28, 21 32, 24
                16, 42 16, ${c-32} 41, ${c-7} ${u-15}, ${c-7}`},null),b("polyline",{class:"stroke-width1",stroke:h[0],points:`145, ${c-5} 40, ${c-5} 10, ${c-35} 10, 40 40, 5 150, 5 170, 20 ${u-15}, 20`},null),b("polyline",{stroke:h[1],class:"stroke-width1",points:`245, ${c-1} 36, ${c-1} 14, ${c-23} 14, ${c-100}`},null),b("polyline",{class:"stroke-width3",stroke:h[0],points:`7, ${c-40} 7, ${c-75}`},null),b("polyline",{class:"stroke-width3",stroke:h[0],points:"28, 24 13, 41 13, 64"},null),b("polyline",{class:"stroke-width1",stroke:h[0],points:"5, 45 5, 140"},null),b("polyline",{class:"stroke-width1",stroke:h[1],points:"14, 75 14, 180"},null),b("polyline",{class:"stroke-width1",stroke:h[1],points:"55, 11 147, 11 167, 26 250, 26"},null),b("polyline",{class:"stroke-width3",stroke:h[1],points:"158, 5 173, 16"},null),b("polyline",{class:"stroke-width3",style:{strokeDasharray:"100 250"},stroke:h[0],points:`200, 17 ${u-10}, 17`},null),b("polyline",{class:"stroke-width1",style:{strokeDasharray:"80 270"},stroke:h[1],points:`385, 17 ${u-10}, 17`},null)]}),b(Pt,null,{default:()=>{var d;return[(d=e.default)==null?void 0:d.call(e)]}})]})}}}));var SF=Object.defineProperty,AF=Object.defineProperties,EF=Object.getOwnPropertyDescriptors,Bg=Object.getOwnPropertySymbols,CF=Object.prototype.hasOwnProperty,PF=Object.prototype.propertyIsEnumerable,Fg=(t,e,r)=>e in t?SF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kF=(t,e)=>{for(var r in e||(e={}))CF.call(e,r)&&Fg(t,r,e[r]);if(Bg)for(var r of Bg(e))PF.call(e,r)&&Fg(t,r,e[r]);return t},MF=(t,e)=>AF(t,EF(e));const $F=["rgba(255, 255, 255, 0.35)","rgba(255, 255, 255, 0.20)"],RF=ae.svg`
  position: absolute;
  top: 0px;
  left: 0px;
  width: 100%;
  height: 100%;
}
.__STYLED__ > polyline {
  fill: none;
}
.__STYLED__.reverse {
  transform: rotate(180deg);
}
.__STYLED__ .stroke-width1 {
  stroke-width: 1;
}
.__STYLED__ .stroke-width2 {
  stroke-width: 2px;
}
.__STYLED__ .stroke-width5 {
  stroke-width: 5px;
`("border-svg-container"),IF=()=>MF(kF({},At()),{reverse:{type:Boolean,default:!1}}),OF=Ae(H({name:"BorderBox5",props:IF(),setup(t,{slots:e,expose:r}){const{autoBindRef:i,refreshLayoutSize:n,domSize:s}=$e();return r({refreshLayoutSize:n}),()=>{const{color:o,backgroundColor:a,reverse:l}=t,{width:u,height:c}=s,h=Et($F,o);return b(Ct,{class:ae.getClassNameForBind("border-box-5"),ref:i},{default:()=>[b(RF,{class:bf({reverse:l}),width:u,height:c},{default:()=>[b("polygon",{fill:a,points:`
                  10, 22 ${u-22}, 22 ${u-22}, ${c-86} ${u-84}, ${c-24} 10, ${c-24}`},null),b("polyline",{class:"stroke-width1",stroke:h[0],points:`8, 5 ${u-5}, 5 ${u-5}, ${c-100}
                  ${u-100}, ${c-5} 8, ${c-5} 8, 5`},null),b("polyline",{class:"stroke-width1",stroke:h[1],points:`3, 5 ${u-20}, 5 ${u-20}, ${c-60}
                  ${u-74}, ${c-5} 3, ${c-5} 3, 5`},null),b("polyline",{class:"stroke-width5",stroke:h[1],points:`50, 13 ${u-35}, 13`},null),b("polyline",{class:"stroke-width2",stroke:h[1],points:`15, 20 ${u-35}, 20`},null),b("polyline",{class:"stroke-width2",stroke:h[1],points:`15, ${c-20} ${u-110}, ${c-20}`},null),b("polyline",{class:"stroke-width5",stroke:h[1],points:`15, ${c-13} ${u-110}, ${c-13}`},null)]}),b(Pt,null,{default:()=>{var d;return[(d=e.default)==null?void 0:d.call(e)]}})]})}}})),LF=["rgba(255, 255, 255, 0.35)","gray"],DF=ae.svg`
  position: absolute;
  top: 0px;
  left: 0px;
  width: 100%;
  height: 100%;
}
.__STYLED__ > polyline {
  fill: none;
  stroke-width: 1;
`("border-svg-container"),BF=Ae(H({name:"BorderBox6",props:At(),setup(t,{slots:e,expose:r}){const{autoBindRef:i,refreshLayoutSize:n,domSize:s}=$e();return r({refreshLayoutSize:n}),()=>{const{color:o,backgroundColor:a}=t,{width:l,height:u}=s,c=Et(LF,o);return b(Ct,{class:ae.getClassNameForBind("border-box-6"),ref:i},{default:()=>[b(DF,{width:l,height:u},{default:()=>[b("polygon",{fill:a,points:`
              9, 7 ${l-9}, 7 ${l-9}, ${u-7} 9, ${u-7}`},null),b("circle",{fill:c[1],cx:"5",cy:"5",r:"2"},null),b("circle",{fill:c[1],cx:l-5,cy:"5",r:"2"},null),b("circle",{fill:c[1],cx:l-5,cy:u-5,r:"2"},null),b("circle",{fill:c[1],cx:"5",cy:u-5,r:"2"},null),b("polyline",{stroke:c[0],points:`10, 4 ${l-10}, 4`},null),b("polyline",{stroke:c[0],points:`10, ${u-4} ${l-10}, ${u-4}`},null),b("polyline",{stroke:c[0],points:`5, 70 5, ${u-70}`},null),b("polyline",{stroke:c[0],points:`${l-5}, 70 ${l-5}, ${u-70}`},null),b("polyline",{stroke:c[0],points:"3, 10, 3, 50"},null),b("polyline",{stroke:c[0],points:"7, 30 7, 80"},null),b("polyline",{stroke:c[0],points:`${l-3}, 10 ${l-3}, 50`},null),b("polyline",{stroke:c[0],points:`${l-7}, 30 ${l-7}, 80`},null),b("polyline",{stroke:c[0],points:`3, ${u-10} 3, ${u-50}`},null),b("polyline",{stroke:c[0],points:`7, ${u-30} 7, ${u-80}`},null),b("polyline",{stroke:c[0],points:`${l-3}, ${u-10} ${l-3}, ${u-50}`},null),b("polyline",{stroke:c[0],points:`${l-7}, ${u-30} ${l-7}, ${u-80}`},null)]}),b(Pt,null,{default:()=>{var h;return[(h=e.default)==null?void 0:h.call(e)]}})]})}}})),FF=["rgba(128,128,128,0.3)","rgba(128,128,128,0.5)"],NF=ae.svg`
  position: absolute;
  top: 0px;
  left: 0px;
  width: 100%;
  height: 100%;
}
.__STYLED__ > polyline {
  fill: none;
  stroke-linecap: round;
}
.__STYLED__ .stroke-width2 {
  stroke-width: 2px;
}
.__STYLED__ .stroke-width5 {
  stroke-width: 5px;
`("border-svg-container"),UF=Ae(H({name:"BorderBox7",props:At(),setup(t,{slots:e,expose:r}){const{autoBindRef:i,refreshLayoutSize:n,domSize:s}=$e();return r({refreshLayoutSize:n}),()=>{const{color:o,backgroundColor:a}=t,{width:l,height:u}=s,c=Et(FF,o);return b(Ct,{class:ae.getClassNameForBind("border-box-7"),ref:i,style:{boxShadow:`inset 0 0 40px ${c[0]}`,border:`1px solid ${c[0]}`,backgroundColor:a}},{default:()=>[b(NF,{width:l,height:u},{default:()=>[b("polyline",{class:"stroke-width2",stroke:c[0],points:"0, 25 0, 0 25, 0"},null),b("polyline",{class:"stroke-width2",stroke:c[0],points:`${l-25}, 0 ${l}, 0 ${l}, 25`},null),b("polyline",{class:"stroke-width2",stroke:c[0],points:`${l-25}, ${u} ${l}, ${u} ${l}, ${u-25}`},null),b("polyline",{class:"stroke-width2",stroke:c[0],points:`0, ${u-25} 0, ${u} 25, ${u}`},null),b("polyline",{class:"stroke-width5",stroke:c[1],points:"0, 10 0, 0 10, 0"},null),b("polyline",{class:"stroke-width5",stroke:c[1],points:`${l-10}, 0 ${l}, 0 ${l}, 10`},null),b("polyline",{class:"stroke-width5",stroke:c[1],points:`${l-10}, ${u} ${l}, ${u} ${l}, ${u-10}`},null),b("polyline",{class:"stroke-width5",stroke:c[1],points:`0, ${u-10} 0, ${u} 10, ${u}`},null)]}),b(Pt,null,{default:()=>{var h;return[(h=e.default)==null?void 0:h.call(e)]}})]})}}}));var HF=Object.defineProperty,zF=Object.defineProperties,jF=Object.getOwnPropertyDescriptors,Ng=Object.getOwnPropertySymbols,GF=Object.prototype.hasOwnProperty,VF=Object.prototype.propertyIsEnumerable,Ug=(t,e,r)=>e in t?HF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,WF=(t,e)=>{for(var r in e||(e={}))GF.call(e,r)&&Ug(t,r,e[r]);if(Ng)for(var r of Ng(e))VF.call(e,r)&&Ug(t,r,e[r]);return t},XF=(t,e)=>zF(t,jF(e));const YF=["#235fa7","#4fd2dd"],qF=ae.svg`
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0px;
  top: 0px;
`("border-svg-container"),KF=()=>XF(WF({},At()),{duration:{type:Number,default:3},reverse:{type:Boolean,default:!1}}),ZF=Ae(H({name:"BorderBox8",props:KF(),setup(t,{slots:e,expose:r}){const{autoBindRef:i,refreshLayoutSize:n,domSize:s}=$e();r({refreshLayoutSize:n});const o=bn();return()=>{const{color:a,backgroundColor:l,duration:u,reverse:c}=t,{width:h,height:d}=s,f=Et(YF,a),p=`border-box-8-path-${o.id}`,m=`border-box-8-gradient-${o.id}`,g=`border-box-8-mask-${o.id}`,v=c?`M 2.5, 2.5 L 2.5, ${d-2.5} L ${h-2.5}, ${d-2.5} L ${h-2.5}, 2.5 L 2.5, 2.5`:`M2.5, 2.5 L${h-2.5}, 2.5 L${h-2.5}, ${d-2.5} L2.5, ${d-2.5} L2.5, 2.5`;return b(Ct,{class:ae.getClassNameForBind("border-box-8"),ref:i},{default:()=>[b(qF,{width:h,height:d},{default:()=>[b("defs",null,[b("path",{id:p,d:v,fill:"transparent"},null),b("radialGradient",{id:m,cx:"50%",cy:"50%",r:"50%"},[b("stop",{offset:"0%","stop-color":"#fff","stop-opacity":"1"},null),b("stop",{offset:"100%","stop-color":"#fff","stop-opacity":"0"},null)]),b("mask",{id:g},[b("circle",{cx:"0",cy:"0",r:"150",fill:`url(#${m})`},[b("animateMotion",{dur:`${u}s`,path:v,rotate:"auto",repeatCount:"indefinite"},null)])])]),b("polygon",{fill:l,points:`5, 5 ${h-5}, 5 ${h-5} ${d-5} 5, ${d-5}`},null),b("use",{stroke:f[0],"stroke-width":"1","xlink:href":`#${p}`},null),b("use",{stroke:f[1],"stroke-width":"3","xlink:href":`#${p}`,mask:`url(#${g})`},[b("animate",{attributeName:"stroke-dasharray",from:`0, ${length}`,to:`${length}, 0`,dur:`${u}s`,repeatCount:"indefinite"},null)])]}),b(Pt,null,{default:()=>{var _;return[(_=e.default)==null?void 0:_.call(e)]}})]})}}})),JF=["#11eefd","#0078d2"],QF=ae.svg`
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0px;
  top: 0px;
`("border-svg-container"),eN=Ae(H({name:"BorderBox9",props:At(),setup(t,{slots:e,expose:r}){const{autoBindRef:i,refreshLayoutSize:n,domSize:s}=$e();r({refreshLayoutSize:n});const o=bn();return()=>{const{color:a,backgroundColor:l}=t,{width:u,height:c}=s,h=Et(JF,a),d=`border-box-9-gradient-${o.id}`,f=`border-box-9-mask-${o.id}`;return b(Ct,{class:ae.getClassNameForBind("border-box-9"),ref:i},{default:()=>[b(QF,{width:u,height:c},{default:()=>[b("defs",null,[b("linearGradient",{id:d,x1:"0%",y1:"0%",x2:"100%",y2:"100%"},[b("animate",{attributeName:"x1",values:"0%;100%;0%",dur:"10s",begin:"0s",repeatCount:"indefinite"},null),b("animate",{attributeName:"x2",values:"100%;0%;100%",dur:"10s",begin:"0s",repeatCount:"indefinite"},null),b("stop",{offset:"0%","stop-color":h[0]},[b("animate",{attributeName:"stop-color",values:`${h[0]};${h[1]};${h[0]}`,dur:"10s",begin:"0s",repeatCount:"indefinite"},null)]),b("stop",{offset:"100%","stop-color":h[1]},[b("animate",{attributeName:"stop-color",values:`${h[1]};${h[0]};${h[1]}`,dur:"10s",begin:"0s",repeatCount:"indefinite"},null)])]),b("mask",{id:f},[b("polyline",{stroke:"#fff","stroke-width":"3",fill:"transparent",points:`8, ${c*.4} 8, 3, ${u*.4+7}, 3`},null),b("polyline",{fill:"#fff",points:`
                      8, ${c*.15} 8, 3, ${u*.1+7}, 3
                      ${u*.1}, 8 14, 8 14, ${c*.15-7}
                    `},null),b("polyline",{stroke:"#fff","stroke-width":"3",fill:"transparent",points:`${u*.5}, 3 ${u-3}, 3, ${u-3}, ${c*.25}`},null),b("polyline",{fill:"#fff",points:`
                      ${u*.52}, 3 ${u*.58}, 3
                      ${u*.58-7}, 9 ${u*.52+7}, 9
                    `},null),b("polyline",{fill:"#fff",points:`
                      ${u*.9}, 3 ${u-3}, 3 ${u-3}, ${c*.1}
                      ${u-9}, ${c*.1-7} ${u-9}, 9 ${u*.9+7}, 9
                    `},null),b("polyline",{stroke:"#fff","stroke-width":"3",fill:"transparent",points:`8, ${c*.5} 8, ${c-3} ${u*.3+7}, ${c-3}`},null),b("polyline",{fill:"#fff",points:`
                      8, ${c*.55} 8, ${c*.7}
                      2, ${c*.7-7} 2, ${c*.55+7}
                    `},null),b("polyline",{stroke:"#fff","stroke-width":"3",fill:"transparent",points:`${u*.35}, ${c-3} ${u-3}, ${c-3} ${u-3}, ${c*.35}`},null),b("polyline",{fill:"#fff",points:`
                      ${u*.92}, ${c-3} ${u-3}, ${c-3} ${u-3}, ${c*.8} ${u-9}, ${c*.8+7} ${u-9}, ${c-9} ${u*.92+7}, ${c-9}`},null)])]),b("polygon",{fill:l,points:`
                  15, 9 ${u*.1+1}, 9 ${u*.1+4}, 6 ${u*.52+2}, 6
                  ${u*.52+6}, 10 ${u*.58-7}, 10 ${u*.58-2}, 6
                  ${u*.9+2}, 6 ${u*.9+6}, 10 ${u-10}, 10 ${u-10}, ${c*.1-6}
                  ${u-6}, ${c*.1-1} ${u-6}, ${c*.8+1} ${u-10}, ${c*.8+6}
                  ${u-10}, ${c-10} ${u*.92+7}, ${c-10}  ${u*.92+2}, ${c-6}
                  11, ${c-6} 11, ${c*.15-2} 15, ${c*.15-7}
                `},null),b("rect",{x:"0",y:"0",width:u,height:c,fill:`url(#${d})`,mask:`url(#${f})`},null)]}),b(Pt,null,{default:()=>{var p;return[(p=e.default)==null?void 0:p.call(e)]}})]})}}}));function Ht(){return{color:{type:S1(Array),default:()=>[]}}}function xf(){return{reverse:{type:Boolean,default:!1}}}function eu(t){return{duration:{type:Number,default:t}}}function tN({width:t,height:e,rowPoints:r,rowCount:i}){const n=t/(r+1),s=e/(i+1);return new Array(i).fill(0).map((o,a)=>new Array(r).fill(0).map((l,u)=>[n*(u+1),s*(a+1)])).reduce((o,a)=>[...o,...a],[])}const rN=["#fff","#0de7c2"],qh=200,Kh=50,wf=20,iN=4,ht=2.5,Hg=ht/2,Tf=tN({width:qh,height:Kh,rowPoints:wf,rowCount:iN}),kn=Tf[wf*2-1],As=Tf[wf*2-3],nN=ae.div`
  width: 100%;
  height: 100%;
}
.__STYLED__ svg {
  transform-origin: left top;
`("decoration-1"),sN=Ae(H({name:"Decoration1",props:Ht(),setup(t,{expose:e}){const{autoBindRef:r,refreshLayoutSize:i,domSize:n}=$e();return e({refreshLayoutSize:i}),()=>{const{color:s}=t,{width:o,height:a}=n,l=Ut(rN,s),u={transform:`scale(${o/qh},${a/Kh})`};return b(nN,{ref:r},{default:()=>[b("svg",{width:qh,height:Kh,style:u},[Tf.map(([c,h],d)=>{const f=c-Hg,p=h-Hg;return Math.random()>.6?b("rect",{key:d,x:f,y:p,width:ht,height:ht,fill:l[0]},[Math.random()>.6&&b("animate",{attributeName:"fill",values:`${l[0]};transparent`,dur:"1s",begin:Math.random()*2,repeatCount:"indefinite"},null)]):null}),b("rect",{fill:l[1],x:kn[0]-ht,y:kn[1]-ht,width:ht*2,height:ht*2},[b("animate",{attributeName:"width",values:`0;${ht*2}`,dur:"2s",repeatCount:"indefinite"},null),b("animate",{attributeName:"height",values:`0;${ht*2}`,dur:"2s",repeatCount:"indefinite"},null),b("animate",{attributeName:"x",values:`${kn[0]};${kn[0]-ht}`,dur:"2s",repeatCount:"indefinite"},null),b("animate",{attributeName:"y",values:`${kn[1]};${kn[1]-ht}`,dur:"2s",repeatCount:"indefinite"},null)]),b("rect",{fill:l[1],x:As[0]-ht,y:As[1]-ht,width:ht*2,height:ht*2},[b("animate",{attributeName:"width",values:"0;40;0",dur:"2s",repeatCount:"indefinite"},null),b("animate",{attributeName:"x",values:`${As[0]};${As[0]-40};${As[0]}`,dur:"2s",repeatCount:"indefinite"},null)])])]})}}})),oN=ae.div`
  width: 100%;
  height: 100%;
  display: flex;
`("decoration-10"),aN=["#00c2ff","rgba(0, 194, 255, 0.3)"],lN=Ae(H({name:"Decoration10",props:Ht(),setup(t,{expose:e}){const{autoBindRef:r,refreshLayoutSize:i,domSize:n}=$e();e({refreshLayoutSize:i});const s=bn(),o=`d10ani${s.id}1`,a=`d10ani${s.id}2`,l=`d10ani${s.id}3`,u=`d10ani${s.id}4`,c=`d10ani${s.id}5`,h=`d10ani${s.id}6`,d=`d10ani${s.id}7`;return()=>{const{width:f,height:p}=n,{color:m}=t,g=Ut(aN,m);return b(oN,{ref:r},{default:()=>[b("svg",{width:f,height:p},[b("polyline",{stroke:g[1],"stroke-width":"2",points:`0, ${p/2} ${f}, ${p/2}`},null),b("polyline",{stroke:g[0],"stroke-width":"2",points:`5, ${p/2} ${f*.2-3}, ${p/2}`,"stroke-dasharray":`0, ${f*.2}`,fill:"freeze"},[b("animate",{id:a,attributeName:"stroke-dasharray",values:`0, ${f*.2};${f*.2}, 0;`,dur:"3s",begin:`${o}.end`,fill:"freeze"},null),b("animate",{attributeName:"stroke-dasharray",values:`${f*.2}, 0;0, ${f*.2}`,dur:"0.01s",begin:`${d}.end`,fill:"freeze"},null)]),b("polyline",{stroke:g[0],"stroke-width":"2",points:`${f*.2+3}, ${p/2} ${f*.8-3}, ${p/2}`,"stroke-dasharray":`0, ${f*.6}`},[b("animate",{id:u,attributeName:"stroke-dasharray",values:`0, ${f*.6};${f*.6}, 0`,dur:"3s",begin:`${l}.end + 1s`,fill:"freeze"},null),b("animate",{attributeName:"stroke-dasharray",values:`${f*.6}, 0;0, ${f*.6}`,dur:"0.01s",begin:`${d}.end`,fill:"freeze"},null)]),b("polyline",{stroke:g[0],"stroke-width":"2",points:`${f*.8+3}, ${p/2} ${f-5}, ${p/2}`,"stroke-dasharray":`0, ${f*.2}`},[b("animate",{id:h,attributeName:"stroke-dasharray",values:`0, ${f*.2};${f*.2}, 0`,dur:"3s",begin:`${c}.end + 1s`,fill:"freeze"},null),b("animate",{attributeName:"stroke-dasharray",values:`${f*.2}, 0;0, ${f*.3}`,dur:"0.01s",begin:`${d}.end`,fill:"freeze"},null)]),b("circle",{cx:"2",cy:p/2,r:"2",fill:g[1]},[b("animate",{id:o,attributeName:"fill",values:`${g[1]};${g[0]}`,begin:`0s;${d}.end`,dur:"0.3s",fill:"freeze"},null)]),b("circle",{cx:f*.2,cy:p/2,r:"2",fill:g[1]},[b("animate",{id:l,attributeName:"fill",values:`${g[1]};${g[0]}`,begin:`${a}.end`,dur:"0.3s",fill:"freeze"},null),b("animate",{attributeName:"fill",values:`${g[1]};${g[1]}`,dur:"0.01s",begin:`${d}.end`,fill:"freeze"},null)]),b("circle",{cx:f*.8,cy:p/2,r:"2",fill:g[1]},[b("animate",{id:c,attributeName:"fill",values:`${g[1]};${g[0]}`,begin:`${u}.end`,dur:"0.3s",fill:"freeze"},null),b("animate",{attributeName:"fill",values:`${g[1]};${g[1]}`,dur:"0.01s",begin:`${d}.end`,fill:"freeze"},null)]),b("circle",{cx:f-2,cy:p/2,r:"2",fill:g[1]},[b("animate",{id:d,attributeName:"fill",values:`${g[1]};${g[0]}`,begin:`${h}.end`,dur:"0.3s",fill:"freeze"},null),b("animate",{attributeName:"fill",values:`${g[1]};${g[1]}`,dur:"0.01s",begin:`${d}.end`,fill:"freeze"},null)])])]})}}})),uN=ae.div`
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
`("decoration-11"),cN=ae.div`
  position: absolute;
  top: 0px;
  left: 0px;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
`("decoration-content"),ii=["#1a98fc","#2cf7fe"],hN=Ae(H({name:"Decoration11",props:Ht(),setup(t,{slots:e,expose:r}){const{autoBindRef:i,refreshLayoutSize:n,domSize:s}=$e();return r({refreshLayoutSize:n}),()=>{const{width:o,height:a}=s,{color:l}=t,u=Ut(ii,l);return b(uN,{ref:i},{default:()=>[b("svg",{width:o,height:a},[b("polygon",{fill:at(u[1]||ii[1],10),stroke:u[1],points:"20 10, 25 4, 55 4 60 10"},null),b("polygon",{fill:at(u[1]||ii[1],10),stroke:u[1],points:`20 ${a-10}, 25 ${a-4}, 55 ${a-4} 60 ${a-10}`},null),b("polygon",{fill:at(u[1]||ii[1],10),stroke:u[1],points:`${o-20} 10, ${o-25} 4, ${o-55} 4 ${o-60} 10`},null),b("polygon",{fill:at(u[1]||ii[1],10),stroke:u[1],points:`${o-20} ${a-10}, ${o-25} ${a-4}, ${o-55} ${a-4} ${o-60} ${a-10}`},null),b("polygon",{fill:at(u[0]||ii[0],20),stroke:u[0],points:`
        20 10, 5 ${a/2} 20 ${a-10}
        ${o-20} ${a-10} ${o-5} ${a/2} ${o-20} 10
      `},null),b("polyline",{fill:"transparent",stroke:at(u[0]||ii[0],70),points:`25 18, 15 ${a/2} 25 ${a-18}`},null),b("polyline",{fill:"transparent",stroke:at(u[0]||ii[0],70),points:`${o-25} 18, ${o-15} ${a/2} ${o-25} ${a-18}`},null)]),b(cN,null,{default:()=>{var c;return[(c=e.default)==null?void 0:c.call(e)]}})]})}}}));var dN=Object.defineProperty,fN=Object.defineProperties,pN=Object.getOwnPropertyDescriptors,zg=Object.getOwnPropertySymbols,mN=Object.prototype.hasOwnProperty,gN=Object.prototype.propertyIsEnumerable,jg=(t,e,r)=>e in t?dN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yN=(t,e)=>{for(var r in e||(e={}))mN.call(e,r)&&jg(t,r,e[r]);if(zg)for(var r of zg(e))gN.call(e,r)&&jg(t,r,e[r]);return t},vN=(t,e)=>fN(t,pN(e));const _N=ae.div`
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
`("decoration-12"),bN=ae.div`
  position: absolute;
  top: 0px;
  left: 0px;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
`("decoration-content"),Gg=["#2783ce","#2cf7fe"],Vg=30,xN=Math.PI/3,wN=3,TN=1,SN=(t,e)=>{const r=100/(e-1);return new Array(e).fill(t).map((i,n)=>at(t,100-n*r))};function AN(){return vN(yN({},Ht()),{scanDuration:{type:Number,default:3},haloDuration:{type:Number,default:2}})}const ss=(t,e,r,i)=>[t+Math.cos(i)*r,e+Math.sin(i)*r],EN=({x:t,y:e,width:r,segment:i,sectorAngle:n})=>{const s=-Math.PI/2,o=n/i,a=r/4;let l=ss(t,e,a,s);return new Array(i).fill("").map((u,c)=>{const h=ss(t,e,a,s-(c+1)*o).map(f=>f.toFixed(5)),d=`M${l.join(",")} A${a}, ${a} 0 0 0 ${h.join(",")}`;return l=h,d})},CN=({ringNum:t,width:e,ringWidth:r})=>{const i=(e/2-r/2)/t;return new Array(t).fill(0).map((n,s)=>i*(s+1))},PN=({x:t,y:e,width:r})=>{const i=Math.PI/6,n=r/2;return new Array(6).fill("").map((s,o)=>{const a=i*(o+1),l=a+Math.PI,u=ss(t,e,n,a),c=ss(t,e,n,l);return`${u.join(",")} ${c.join(",")}`})},kN=({x:t,y:e,width:r})=>{const i=Math.PI/6,n=r/2-1;return new Array(4).fill("").map((s,o)=>{const a=i*(3*o+1),l=a+i,u=ss(t,e,n,a),c=ss(t,e,n,l);return`M${u.join(",")} A${t}, ${e} 0 0 1 ${c.join(",")}`})},MN=Ae(H({name:"Decoration12",props:AN(),setup(t,{slots:e,expose:r}){const{autoBindRef:i,refreshLayoutSize:n,domSize:s}=$e();r({refreshLayoutSize:n});const o=bn();return()=>{const{width:a,height:l}=s,u=a/2,c=l/2,{color:h,scanDuration:d,haloDuration:f}=t,p=`decoration-12-g-${o.id}`,m=`decoration-12-gradient-${o.id}`,g=Ut(Gg,h),v=SN(g[0],Vg),_=EN({x:u,y:c,width:a,segment:Vg,sectorAngle:xN}),y=CN({ringNum:wN,ringWidth:TN,width:a}),w=PN({x:u,y:c,width:a}),S=kN({x:u,y:c,width:a});return b(_N,{ref:i},{default:()=>[b("svg",{width:a,height:l},[b("defs",null,[b("g",{id:p},[_.map((x,T)=>b("path",{stroke:v[T],"stroke-width":a/2,fill:"transparent",key:x,d:x},null))]),b("radialGradient",{id:m,cx:"50%",cy:"50%",r:"50%"},[b("stop",{offset:"0%","stop-color":"transparent","stop-opacity":"1"},null),b("stop",{offset:"100%","stop-color":at(g[1]||Gg[1],30),"stop-opacity":"1"},null)])]),y.map(x=>b("circle",{r:x,cx:u,cy:c,stroke:g[1],"stroke-width":"0.5",fill:"transparent"},null)),b("circle",{r:"1",cx:u,cy:c,stroke:"transparent",fill:`url(#${m})`},[b("animate",{attributeName:"r",values:`1;${a/2}`,dur:`${f}s`,repeatCount:"indefinite"},null),b("animate",{attributeName:"opacity",values:"1;0",dur:`${f}s`,repeatCount:"indefinite"},null)]),b("circle",{r:"2",cx:u,cy:c,fill:g[1]},null),b("g",null,[w.map(x=>b("polyline",{key:x,points:x,stroke:g[1],"stroke-width":"0.5",opacity:"0.5"},null))]),S.map(x=>b("path",{key:x,d:x,stroke:g[1],"stroke-width":"2",fill:"transparent"},null)),b("use",{"xlink:href":`#${p}`},[b("animateTransform",{attributeName:"transform",type:"rotate",values:`0, ${u} ${c};360, ${u} ${c}`,dur:`${d}s`,repeatCount:"indefinite"},null)])]),b(bN,null,{default:()=>{var x;return[(x=e.default)==null?void 0:x.call(e)]}})]})}}}));var $N=Object.defineProperty,Wg=Object.getOwnPropertySymbols,RN=Object.prototype.hasOwnProperty,IN=Object.prototype.propertyIsEnumerable,Xg=(t,e,r)=>e in t?$N(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yc=(t,e)=>{for(var r in e||(e={}))RN.call(e,r)&&Xg(t,r,e[r]);if(Wg)for(var r of Wg(e))IN.call(e,r)&&Xg(t,r,e[r]);return t};const ON=["#3faacb","#fff"];function LN(){return yc(yc(yc({},Ht()),xf()),eu(6))}function DN(t,e,r){return t?{width:1,height:r,x:e/2,y:0}:{width:e,height:1,x:0,y:r/2}}const BN=ae.div`
  display: flex;
  width: 100%;
  height: 100%;
  justify-content: center;
  align-items: center;
`("decoration-2"),FN=Ae(H({name:"Decoration2",props:LN(),setup(t,{expose:e}){const{autoBindRef:r,refreshLayoutSize:i,domSize:n}=$e();return e({refreshLayoutSize:i}),()=>{const{width:s,height:o}=n,{color:a,reverse:l,duration:u}=t,c=Ut(ON,a),{x:h,y:d,width:f,height:p}=DN(l,s,o);return b(BN,{ref:r},{default:()=>[b("svg",{width:s,height:o},[b("rect",{x:h,y:d,width:f,height:p,fill:c[0]},[b("animate",{attributeName:l?"height":"width",from:"0",to:l?o:s,dur:`${u}s`,calcMode:"spline",keyTimes:"0;1",keySplines:".42,0,.58,1",repeatCount:"indefinite"},null)]),b("rect",{x:h,y:d,width:"1",height:"1",fill:c[1]},[b("animate",{attributeName:l?"y":"x",from:"0",to:l?o:s,dur:`${u}s`,calcMode:"spline",keyTimes:"0;1",keySplines:"0.42,0,0.58,1",repeatCount:"indefinite"},null)])])]})}}}));function NN({width:t,height:e,rowPoints:r,rowCount:i}){const n=t/(r+1),s=e/(i+1);return new Array(i).fill(0).map((o,a)=>new Array(r).fill(0).map((l,u)=>[n*(u+1),s*(a+1)])).reduce((o,a)=>[...o,...a],[])}const UN=["#7acaec","transparent"],Zh=300,Jh=35,HN=25,zN=2,Qh=7,Yg=Qh/2,jN=NN({width:Zh,height:Jh,rowPoints:HN,rowCount:zN}),GN=ae.div`
  width: 100%;
  height: 100%;
}
.__STYLED__ svg {
  transform-origin: left top;
`("decoration-3"),VN=Ae(H({name:"Decoration3",props:Ht(),setup(t,{expose:e}){const{autoBindRef:r,refreshLayoutSize:i,domSize:n}=$e();return e({refreshLayoutSize:i}),()=>{const{width:s,height:o}=n,{color:a}=t,l=Ut(UN,a);return b(GN,{ref:r},{default:()=>[b("svg",{width:Zh,height:Jh,style:{transform:`scale(${s/Zh},${o/Jh})`}},[jN.map(([u,c],h)=>{const d=u-Yg,f=c-Yg;return Math.random()>.6?b("rect",{key:h,x:d,y:f,width:Qh,height:Qh,fill:l[0]},[Math.random()>.6&&b("animate",{attributeName:"fill",values:l.join(";"),dur:`${Math.random()+1}s`,begin:Math.random()*2,repeatCount:"indefinite"},null)]):null})])]})}}}));var WN=Object.defineProperty,qg=Object.getOwnPropertySymbols,XN=Object.prototype.hasOwnProperty,YN=Object.prototype.propertyIsEnumerable,Kg=(t,e,r)=>e in t?WN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vc=(t,e)=>{for(var r in e||(e={}))XN.call(e,r)&&Kg(t,r,e[r]);if(qg)for(var r of qg(e))YN.call(e,r)&&Kg(t,r,e[r]);return t};function qN(){return vc(vc(vc({},Ht()),xf()),eu(3))}const KN=["rgba(255, 255, 255, 0.3)","rgba(255, 255, 255, 0.3)"],ZN=ae.div`
  position: relative;
  width: 100%;
  height: 100%;
`("decoration-4"),JN=ae.div`
  display: flex;
  overflow: hidden;
  position: absolute;
  flex: 1;
}
.__STYLED__.normal {
  animation: ani-height ease-in-out infinite;
  left: 50%;
  margin-left: -2px;
}
.__STYLED__.reverse {
  animation: ani-width ease-in-out infinite;
  top: 50%;
  margin-top: -2px;
}
@keyframes ani-height {
  0% {
    height: 0%;
  }
  70% {
    height: 100%;
  }
  100% {
    height: 100%;
  }
}
@keyframes ani-width {
  0% {
    width: 0%;
  }
  70% {
    width: 100%;
  }
  100% {
    width: 100%;
  }
`("decoration-content"),QN=Ae(H({name:"Decoration4",props:qN(),setup(t,{expose:e}){const{autoBindRef:r,refreshLayoutSize:i,domSize:n}=$e();return e({refreshLayoutSize:i}),()=>{const{width:s,height:o}=n,{color:a,reverse:l,duration:u}=t,c=Ut(KN,a),h=l?s:5,d=l?5:o,f={width:`${h}px`,height:`${d}px`,animationDuration:`${u}s`},p=l?`0, 2.5 ${s}, 2.5`:`2.5, 0 2.5, ${o}`;return b(ZN,{ref:r},{default:()=>[b(JN,{class:bf(l?"reverse":"normal"),style:f},{default:()=>[b("svg",{width:h,height:d},[b("polyline",{stroke:c[0],points:p},null),b("polyline",{class:"bold-line",stroke:c[1],"stroke-width":"3","stroke-dasharray":"20, 80","stroke-dashoffset":"-30",points:p},null)])]})]})}}}));var e8=Object.defineProperty,Zg=Object.getOwnPropertySymbols,t8=Object.prototype.hasOwnProperty,r8=Object.prototype.propertyIsEnumerable,Jg=(t,e,r)=>e in t?e8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qg=(t,e)=>{for(var r in e||(e={}))t8.call(e,r)&&Jg(t,r,e[r]);if(Zg)for(var r of Zg(e))r8.call(e,r)&&Jg(t,r,e[r]);return t};const i8=["#3f96a5","#3f96a5"];function n8(){return Qg(Qg({},Ht()),eu(1.2))}function ey(t){return new Array(t.length-1).fill(0).map((e,r)=>P4(t[r],t[r+1]))}function s8(t,e){const r=[[0,e*.2],[t*.18,e*.2],[t*.2,e*.4],[t*.25,e*.4],[t*.27,e*.6],[t*.72,e*.6],[t*.75,e*.4],[t*.8,e*.4],[t*.82,e*.2],[t,e*.2]],i=[[t*.3,e*.8],[t*.7,e*.8]];return{line1Sum:kg(ey(r)),line2Sum:kg(ey(i)),line1Point:r.map(n=>n.join(",")).join(" "),line2Point:i.map(n=>n.join(",")).join(" ")}}const o8=ae.div`
  width: 100%;
  height: 100%;
`("decoration-5"),a8=Ae(H({name:"Decoration5",props:n8(),setup(t,{expose:e}){const{autoBindRef:r,refreshLayoutSize:i,domSize:n}=$e();return e({refreshLayoutSize:i}),()=>{const{width:s,height:o}=n,{color:a,duration:l}=t,u=Ut(i8,a),{line1Sum:c,line2Sum:h,line1Point:d,line2Point:f}=s8(s,o);return b(o8,{ref:r},{default:()=>[b("svg",{width:s,height:o},[b("polyline",{fill:"transparent",stroke:u[0],"stroke-width":"3",points:d},[b("animate",{attributeName:"stroke-dasharray",attributeType:"XML",from:`0, ${c/2}, 0, ${c/2}`,to:`0, 0, ${c}, 0`,dur:`${l}s`,begin:"0s",calcMode:"spline",keyTimes:"0;1",keySplines:"0.4,1,0.49,0.98",repeatCount:"indefinite"},null)]),b("polyline",{fill:"transparent",stroke:u[1],"stroke-width":"2",points:f},[b("animate",{attributeName:"stroke-dasharray",attributeType:"XML",from:`0, ${h/2}, 0, ${h/2}`,to:`0, 0, ${h}, 0`,dur:`${l}s`,begin:"0s",calcMode:"spline",keyTimes:"0;1",keySplines:".4,1,.49,.98",repeatCount:"indefinite"},null)])])]})}}})),l8=["#7acaec","#7acaec"],P1=300,k1=35,u8=1,c8=40,M1=7,h8=M1/2,d8=ae.div`
  width: 100%;
  height: 100%;
}
.__STYLED__ .svg-origin {
  transform-origin: left top;
`("decoration-6");function f8({width:t,height:e,rowPoints:r,rowCount:i}){const n=t/(r+1),s=e/(i+1),o=new Array(i).fill(0).map((c,h)=>new Array(r).fill(0).map((d,f)=>[n*(f+1),s*(h+1)])).reduce((c,h)=>[...c,...h],[]),a=new Array(i*r).fill(0).map(()=>Math.random()>.8?Pg(.7*e,e):Pg(.2*e,.5*e)),l=new Array(i*r).fill(0).map((c,h)=>a[h]*Math.random()),u=new Array(i*r).fill(0).map(()=>Math.random()+1.5);return{points:o,heights:a,minHeights:l,randoms:u}}const{points:p8,heights:va,minHeights:_a,randoms:ty}=f8({width:P1,height:k1,rowPoints:c8,rowCount:u8}),m8=Ae(H({name:"Decoration6",props:Ht(),setup(t,{expose:e}){const{autoBindRef:r,refreshLayoutSize:i,domSize:n}=$e();return e({refreshLayoutSize:i}),()=>{const{width:s,height:o}=n,{color:a}=t,l=Ut(l8,a),u={transform:`scale(${s/P1},${o/k1})`},c=()=>l[Math.random()>.5?0:1];return b(d8,{ref:r},{default:()=>[b("svg",{class:"svg-origin",width:s,height:o,style:u},[p8.map(([h,d],f)=>b("rect",{key:`rect${f}`,fill:c(),x:h-h8,y:d-va[f],width:M1,height:va[f]},[b("animate",{attributeName:"y",values:`${d-_a[f]/2};${d-va[f]/2};${d-_a[f]/2}`,dur:ty[f],keyTimes:"0;0.5;1",calcMode:"spline",keySplines:"0.42,0,0.58,1;0.42,0,0.58,1",begin:"0s",repeatCount:"indefinite"},null),b("animate",{attributeName:"height",values:`${_a[f]};${va[f]};${_a[f]}`,dur:ty[f],keyTimes:"0;0.5;1",calcMode:"spline",keySplines:"0.42,0,0.58,1;0.42,0,0.58,1",begin:"0s",repeatCount:"indefinite"},null)]))])]})}}})),g8=ae.div`
  display: flex;
  width: 100%;
  height: 100%;
  justify-content: center;
  align-items: center;
`("decoration-7"),y8=["#1dc1f5","#1dc1f5"],v8=Ae(H({name:"Decoration7",props:Ht(),setup(t,{slots:e,expose:r}){const{autoBindRef:i,refreshLayoutSize:n}=$e();return r({refreshLayoutSize:n}),()=>{const{color:s}=t,o=Ut(y8,s);return b(g8,{ref:i},{default:()=>{var a;return[b("svg",{width:"21px",height:"20px"},[b("polyline",{"stroke-width":"4",fill:"transparent",stroke:o[0],points:"10, 0 19, 10 10, 20"},null),b("polyline",{"stroke-width":"2",fill:"transparent",stroke:o[1],points:"2, 0 11, 10 2, 20"},null)]),(a=e.default)==null?void 0:a.call(e),b("svg",{width:"21px",height:"20px"},[b("polyline",{"stroke-width":"4",fill:"transparent",stroke:o[0],points:"11, 0 2, 10 11, 20"},null),b("polyline",{"stroke-width":"2",fill:"transparent",stroke:o[1],points:"19, 0 10, 10 19, 20"},null)])]}})}}}));var _8=Object.defineProperty,ry=Object.getOwnPropertySymbols,b8=Object.prototype.hasOwnProperty,x8=Object.prototype.propertyIsEnumerable,iy=(t,e,r)=>e in t?_8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ny=(t,e)=>{for(var r in e||(e={}))b8.call(e,r)&&iy(t,r,e[r]);if(ry)for(var r of ry(e))x8.call(e,r)&&iy(t,r,e[r]);return t};const w8=["#3f96a5","#3f96a5"];function T8(){return ny(ny({},Ht()),xf())}const S8=ae.div`
  display: flex;
  width: 100%;
  height: 100%;
`("decoration-8"),A8=Ae(H({name:"Decoration8",props:T8(),setup(t,{expose:e}){const{autoBindRef:r,refreshLayoutSize:i,domSize:n}=$e();return e({refreshLayoutSize:i}),()=>{const{color:s,reverse:o}=t,{width:a,height:l}=n,u=h=>o?a-h:h,c=Ut(w8,s);return b(S8,{ref:r},{default:()=>[b("svg",{width:a,height:l},[b("polyline",{stroke:c[0],"stroke-width":"2",fill:"transparent",points:`${u(0)}, 0 ${u(30)}, ${l/2}`},null),b("polyline",{stroke:c[0],"stroke-width":"2",fill:"transparent",points:`${u(20)}, 0 ${u(50)}, ${l/2} ${u(a)}, ${l/2}`},null),b("polyline",{stroke:c[1],fill:"transparent","stroke-width":"3",points:`${u(0)}, ${l-3}, ${u(200)}, ${l-3}`},null)])]})}}}));var E8=Object.defineProperty,sy=Object.getOwnPropertySymbols,C8=Object.prototype.hasOwnProperty,P8=Object.prototype.propertyIsEnumerable,oy=(t,e,r)=>e in t?E8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ay=(t,e)=>{for(var r in e||(e={}))C8.call(e,r)&&oy(t,r,e[r]);if(sy)for(var r of sy(e))P8.call(e,r)&&oy(t,r,e[r]);return t};function k8(){return ay(ay({},Ht()),eu(3))}const _c=["rgba(3, 166, 224, 0.8)","rgba(3, 166, 224, 0.5)"],ly=100,uy=100,M8=ae.div`
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}
.__STYLED__ svg.svg-origin {
  position: absolute;
  left: 0px;
  top: 0px;
  transform-origin: left top;
`("decoration-9"),$8=Ae(H({name:"Decoration9",props:k8(),setup(t,{slots:e,expose:r}){const{autoBindRef:i,refreshLayoutSize:n,domSize:s}=$e();r({refreshLayoutSize:n});const o=`decoration-9-polygon-${bn().id}`;return()=>{const{width:a,height:l}=s,{color:u,duration:c}=t,h=Ut(_c,u),d={transform:`scale(${a/ly},${l/uy})`};return b(M8,{ref:i},{default:()=>{var f;return[b("svg",{class:"svg-origin",width:ly,height:uy,style:d},[b("defs",null,[b("polygon",{id:o,points:"15, 46.5, 21, 47.5, 21, 52.5, 15, 53.5"},null)]),b("circle",{cx:"50",cy:"50",r:"45",fill:"transparent",stroke:h[1],"stroke-width":"10","stroke-dasharray":"80, 100, 30, 100"},[b("animateTransform",{attributeName:"transform",type:"rotate",values:"0 50 50;360 50 50",dur:`${c}s`,repeatCount:"indefinite"},null)]),b("circle",{cx:"50",cy:"50",r:"45",fill:"transparent",stroke:h[0],"stroke-width":"6","stroke-dasharray":"50, 66, 100, 66"},[b("animateTransform",{attributeName:"transform",type:"rotate",values:"0 50 50;-360 50 50",dur:`${c}s`,repeatCount:"indefinite"},null)]),b("circle",{cx:"50",cy:"50",r:"38",fill:"transparent",stroke:at(h[1]||_c[1],30),"stroke-width":"1","stroke-dasharray":"5, 1"},null),new Array(20).fill(0).map((p,m)=>b("use",{key:m,"xlink:href":`#${o}`,stroke:h[1],fill:Math.random()>.4?"transparent":h[0]},[b("animateTransform",{attributeName:"transform",type:"rotate",values:"0 50 50;360 50 50",dur:`${c}s`,begin:`${m*c/20}s`,repeatCount:"indefinite"},null)])),b("circle",{cx:"50",cy:"50",r:"26",fill:"transparent",stroke:at(h[1]||_c[1],30),"stroke-width":"1","stroke-dasharray":"5, 1"},null)]),(f=e.default)==null?void 0:f.call(e)]}})}}})),R8=ae.div`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}
.__STYLED__ .loading-tip {
  font-size: 15px;
`("loading"),I8=Ae(H({name:"Loading",setup(t,{slots:e}){return()=>b(R8,null,{default:()=>{var r;return[b("svg",{width:"50px",height:"50px"},[b("circle",{cx:"25",cy:"25",r:"20",fill:"transparent","stroke-width":"3","stroke-dasharray":"31.415, 31.415",stroke:"#02bcfe","stroke-linecap":"round"},[b("animateTransform",{attributeName:"transform",type:"rotate",values:"0, 25 25;360, 25 25",dur:"1.5s",repeatCount:"indefinite"},null),b("animate",{attributeName:"stroke",values:"#02bcfe;#3be6cb;#02bcfe",dur:"3s",repeatCount:"indefinite"},null)]),b("circle",{cx:"25",cy:"25",r:"10",fill:"transparent","stroke-width":"3","stroke-dasharray":"15.7, 15.7",stroke:"#3be6cb","stroke-linecap":"round"},[b("animateTransform",{attributeName:"transform",type:"rotate",values:"360, 25 25;0, 25 25",dur:"1.5s",repeatCount:"indefinite"},null),b("animate",{attributeName:"stroke",values:"#3be6cb;#02bcfe;#3be6cb",dur:"3s",repeatCount:"indefinite"},null)])]),b("div",{class:"loading-tip"},[(r=e.default)==null?void 0:r.call(e)])]}})}}));function O8(t,{classNamePrefix:e}={}){[O4,B4,eF,rF,sF,lF,hF,TF,OF,BF,UF,ZF,eN,sN,FN,VN,QN,a8,m8,v8,A8,$8,lN,hN,MN,I8].forEach(r=>t.component(r.name,r)),e&&$4(e)}const L8=({app:t})=>{t.use(O8)};let D8="",cy;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="~",clearTimeout(cy)):(document.title="",cy=setTimeout(function(){document.title=D8},2e3))});const vt={fatal:0,error:0,warn:1,log:2,info:3,success:3,fail:3,debug:4,trace:5,verbose:Number.POSITIVE_INFINITY},hy={silent:{level:-1},fatal:{level:vt.fatal},error:{level:vt.error},warn:{level:vt.warn},log:{level:vt.log},info:{level:vt.info},success:{level:vt.success},fail:{level:vt.fail},ready:{level:vt.info},start:{level:vt.info},box:{level:vt.info},debug:{level:vt.debug},trace:{level:vt.trace},verbose:{level:vt.verbose}};function bc(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function ed(t,e,r=".",i){if(!bc(e))return ed(t,{},r);const n=Object.assign({},e);for(const s in t){if(s==="__proto__"||s==="constructor")continue;const o=t[s];o!=null&&(Array.isArray(o)&&Array.isArray(n[s])?n[s]=[...o,...n[s]]:bc(o)&&bc(n[s])?n[s]=ed(o,n[s],(r?`${r}.`:"")+s.toString()):n[s]=o)}return n}function B8(t){return(...e)=>e.reduce((r,i)=>ed(r,i,""),{})}const F8=B8();function N8(t){return Object.prototype.toString.call(t)==="[object Object]"}function U8(t){return!(!N8(t)||!t.message&&!t.args||t.stack)}let xc=!1;const dy=[];class it{constructor(e={}){qe(this,"options");qe(this,"_lastLog");qe(this,"_mockFn");const r=e.types||hy;this.options=F8({...e,defaults:{...e.defaults},level:wc(e.level,r),reporters:[...e.reporters||[]]},{types:hy,throttle:1e3,throttleMin:5,formatOptions:{date:!0,colors:!1,compact:!0}});for(const i in r){const n={type:i,...this.options.defaults,...r[i]};this[i]=this._wrapLogFn(n),this[i].raw=this._wrapLogFn(n,!0)}this.options.mockFn&&this.mockTypes(),this._lastLog={}}get level(){return this.options.level}set level(e){this.options.level=wc(e,this.options.types,this.options.level)}prompt(e,r){if(!this.options.prompt)throw new Error("prompt is not supported!");return this.options.prompt(e,r)}create(e){const r=new it({...this.options,...e});return this._mockFn&&r.mockTypes(this._mockFn),r}withDefaults(e){return this.create({...this.options,defaults:{...this.options.defaults,...e}})}withTag(e){return this.withDefaults({tag:this.options.defaults.tag?this.options.defaults.tag+":"+e:e})}addReporter(e){return this.options.reporters.push(e),this}removeReporter(e){if(e){const r=this.options.reporters.indexOf(e);if(r!==-1)return this.options.reporters.splice(r,1)}else this.options.reporters.splice(0);return this}setReporters(e){return this.options.reporters=Array.isArray(e)?e:[e],this}wrapAll(){this.wrapConsole(),this.wrapStd()}restoreAll(){this.restoreConsole(),this.restoreStd()}wrapConsole(){for(const e in this.options.types)console["__"+e]||(console["__"+e]=console[e]),console[e]=this[e].raw}restoreConsole(){for(const e in this.options.types)console["__"+e]&&(console[e]=console["__"+e],delete console["__"+e])}wrapStd(){this._wrapStream(this.options.stdout,"log"),this._wrapStream(this.options.stderr,"log")}_wrapStream(e,r){e&&(e.__write||(e.__write=e.write),e.write=i=>{this[r].raw(String(i).trim())})}restoreStd(){this._restoreStream(this.options.stdout),this._restoreStream(this.options.stderr)}_restoreStream(e){e&&e.__write&&(e.write=e.__write,delete e.__write)}pauseLogs(){xc=!0}resumeLogs(){xc=!1;const e=dy.splice(0);for(const r of e)r[0]._logFn(r[1],r[2])}mockTypes(e){const r=e||this.options.mockFn;if(this._mockFn=r,typeof r=="function")for(const i in this.options.types)this[i]=r(i,this.options.types[i])||this[i],this[i].raw=this[i]}_wrapLogFn(e,r){return(...i)=>{if(xc){dy.push([this,e,i,r]);return}return this._logFn(e,i,r)}}_logFn(e,r,i){if((e.level||0)>this.level)return!1;const n={date:new Date,args:[],...e,level:wc(e.level,this.options.types)};!i&&r.length===1&&U8(r[0])?Object.assign(n,r[0]):n.args=[...r],n.message&&(n.args.unshift(n.message),delete n.message),n.additional&&(Array.isArray(n.additional)||(n.additional=n.additional.split(`
`)),n.args.push(`
`+n.additional.join(`
`)),delete n.additional),n.type=typeof n.type=="string"?n.type.toLowerCase():"log",n.tag=typeof n.tag=="string"?n.tag:"";const s=(a=!1)=>{const l=(this._lastLog.count||0)-this.options.throttleMin;if(this._lastLog.object&&l>0){const u=[...this._lastLog.object.args];l>1&&u.push(`(repeated ${l} times)`),this._log({...this._lastLog.object,args:u}),this._lastLog.count=1}a&&(this._lastLog.object=n,this._log(n))};clearTimeout(this._lastLog.timeout);const o=this._lastLog.time&&n.date?n.date.getTime()-this._lastLog.time.getTime():0;if(this._lastLog.time=n.date,o<this.options.throttle)try{const a=JSON.stringify([n.type,n.tag,n.args]),l=this._lastLog.serialized===a;if(this._lastLog.serialized=a,l&&(this._lastLog.count=(this._lastLog.count||0)+1,this._lastLog.count>this.options.throttleMin)){this._lastLog.timeout=setTimeout(s,this.options.throttle);return}}catch{}s(!0)}_log(e){for(const r of this.options.reporters)r.log(e,{options:this.options})}}function wc(t,e={},r=3){return t===void 0?r:typeof t=="number"?t:e[t]&&e[t].level!==void 0?e[t].level:r}it.prototype.add=it.prototype.addReporter;it.prototype.remove=it.prototype.removeReporter;it.prototype.clear=it.prototype.removeReporter;it.prototype.withScope=it.prototype.withTag;it.prototype.mock=it.prototype.mockTypes;it.prototype.pause=it.prototype.pauseLogs;it.prototype.resume=it.prototype.resumeLogs;function H8(t={}){return new it(t)}class z8{constructor(e){qe(this,"options");qe(this,"defaultColor");qe(this,"levelColorMap");qe(this,"typeColorMap");this.options={...e},this.defaultColor="#7f8c8d",this.levelColorMap={0:"#c0392b",1:"#f39c12",3:"#00BCD4"},this.typeColorMap={success:"#2ecc71"}}_getLogFn(e){return e<1?console.__error||console.error:e===1?console.__warn||console.warn:console.__log||console.log}log(e){const r=this._getLogFn(e.level),i=e.type==="log"?"":e.type,n=e.tag||"",o=`
      background: ${this.typeColorMap[e.type]||this.levelColorMap[e.level]||this.defaultColor};
      border-radius: 0.5em;
      color: white;
      font-weight: bold;
      padding: 2px 0.5em;
    `,a=`%c${[n,i].filter(Boolean).join(":")}`;typeof e.args[0]=="string"?r(`${a}%c ${e.args[0]}`,o,"",...e.args.slice(1)):r(a,o,...e.args)}}function j8(t={}){return H8({reporters:t.reporters||[new z8({})],prompt(r,i={}){return i.type==="confirm"?Promise.resolve(confirm(r)):Promise.resolve(prompt(r))},...t})}j8();const G8=["top","right","bottom","left"],fy=["start","end"],py=G8.reduce((t,e)=>t.concat(e,e+"-"+fy[0],e+"-"+fy[1]),[]),ho=Math.min,Xi=Math.max,V8={left:"right",right:"left",bottom:"top",top:"bottom"},W8={start:"end",end:"start"};function td(t,e,r){return Xi(t,ho(e,r))}function xn(t,e){return typeof t=="function"?t(e):t}function kr(t){return t.split("-")[0]}function tr(t){return t.split("-")[1]}function $1(t){return t==="x"?"y":"x"}function Sf(t){return t==="y"?"height":"width"}const X8=new Set(["top","bottom"]);function jr(t){return X8.has(kr(t))?"y":"x"}function Af(t){return $1(jr(t))}function R1(t,e,r){r===void 0&&(r=!1);const i=tr(t),n=Af(t),s=Sf(n);let o=n==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=pl(o)),[o,pl(o)]}function Y8(t){const e=pl(t);return[fl(t),e,fl(e)]}function fl(t){return t.replace(/start|end/g,e=>W8[e])}const my=["left","right"],gy=["right","left"],q8=["top","bottom"],K8=["bottom","top"];function Z8(t,e,r){switch(t){case"top":case"bottom":return r?e?gy:my:e?my:gy;case"left":case"right":return e?q8:K8;default:return[]}}function J8(t,e,r,i){const n=tr(t);let s=Z8(kr(t),r==="start",i);return n&&(s=s.map(o=>o+"-"+n),e&&(s=s.concat(s.map(fl)))),s}function pl(t){return t.replace(/left|right|bottom|top/g,e=>V8[e])}function Q8(t){return{top:0,right:0,bottom:0,left:0,...t}}function I1(t){return typeof t!="number"?Q8(t):{top:t,right:t,bottom:t,left:t}}function Ys(t){const{x:e,y:r,width:i,height:n}=t;return{width:i,height:n,top:r,left:e,right:e+i,bottom:r+n,x:e,y:r}}function yy(t,e,r){let{reference:i,floating:n}=t;const s=jr(e),o=Af(e),a=Sf(o),l=kr(e),u=s==="y",c=i.x+i.width/2-n.width/2,h=i.y+i.height/2-n.height/2,d=i[a]/2-n[a]/2;let f;switch(l){case"top":f={x:c,y:i.y-n.height};break;case"bottom":f={x:c,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:h};break;case"left":f={x:i.x-n.width,y:h};break;default:f={x:i.x,y:i.y}}switch(tr(e)){case"start":f[o]-=d*(r&&u?-1:1);break;case"end":f[o]+=d*(r&&u?-1:1);break}return f}async function e6(t,e){var r;e===void 0&&(e={});const{x:i,y:n,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=xn(e,t),p=I1(f),g=a[d?h==="floating"?"reference":"floating":h],v=Ys(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(g)))==null||r?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),_=h==="floating"?{x:i,y:n,width:o.floating.width,height:o.floating.height}:o.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),w=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},S=Ys(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:y,strategy:l}):_);return{top:(v.top-S.top+p.top)/w.y,bottom:(S.bottom-v.bottom+p.bottom)/w.y,left:(v.left-S.left+p.left)/w.x,right:(S.right-v.right+p.right)/w.x}}const t6=async(t,e,r)=>{const{placement:i="bottom",strategy:n="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:n}),{x:c,y:h}=yy(u,i,l),d=i,f={},p=0;for(let g=0;g<a.length;g++){var m;const{name:v,fn:_}=a[g],{x:y,y:w,data:S,reset:x}=await _({x:c,y:h,initialPlacement:i,placement:d,strategy:n,middlewareData:f,rects:u,platform:{...o,detectOverflow:(m=o.detectOverflow)!=null?m:e6},elements:{reference:t,floating:e}});c=y??c,h=w??h,f={...f,[v]:{...f[v],...S}},x&&p<=50&&(p++,typeof x=="object"&&(x.placement&&(d=x.placement),x.rects&&(u=x.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:n}):x.rects),{x:c,y:h}=yy(u,d,l)),g=-1)}return{x:c,y:h,placement:d,strategy:n,middlewareData:f}},r6=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:i,placement:n,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:c=0}=xn(t,e)||{};if(u==null)return{};const h=I1(c),d={x:r,y:i},f=Af(n),p=Sf(f),m=await o.getDimensions(u),g=f==="y",v=g?"top":"left",_=g?"bottom":"right",y=g?"clientHeight":"clientWidth",w=s.reference[p]+s.reference[f]-d[f]-s.floating[p],S=d[f]-s.reference[f],x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=x?x[y]:0;(!T||!await(o.isElement==null?void 0:o.isElement(x)))&&(T=a.floating[y]||s.floating[p]);const A=w/2-S/2,P=T/2-m[p]/2-1,E=ho(h[v],P),I=ho(h[_],P),k=E,C=T-m[p]-I,M=T/2-m[p]/2+A,D=td(k,M,C),Y=!l.arrow&&tr(n)!=null&&M!==D&&s.reference[p]/2-(M<k?E:I)-m[p]/2<0,U=Y?M<k?M-k:M-C:0;return{[f]:d[f]+U,data:{[f]:D,centerOffset:M-D-U,...Y&&{alignmentOffset:U}},reset:Y}}});function i6(t,e,r){return(t?[...r.filter(n=>tr(n)===t),...r.filter(n=>tr(n)!==t)]:r.filter(n=>kr(n)===n)).filter(n=>t?tr(n)===t||(e?fl(n)!==n:!1):!0)}const n6=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var r,i,n;const{rects:s,middlewareData:o,placement:a,platform:l,elements:u}=e,{crossAxis:c=!1,alignment:h,allowedPlacements:d=py,autoAlignment:f=!0,...p}=xn(t,e),m=h!==void 0||d===py?i6(h||null,f,d):d,g=await l.detectOverflow(e,p),v=((r=o.autoPlacement)==null?void 0:r.index)||0,_=m[v];if(_==null)return{};const y=R1(_,s,await(l.isRTL==null?void 0:l.isRTL(u.floating)));if(a!==_)return{reset:{placement:m[0]}};const w=[g[kr(_)],g[y[0]],g[y[1]]],S=[...((i=o.autoPlacement)==null?void 0:i.overflows)||[],{placement:_,overflows:w}],x=m[v+1];if(x)return{data:{index:v+1,overflows:S},reset:{placement:x}};const T=S.map(E=>{const I=tr(E.placement);return[E.placement,I&&c?E.overflows.slice(0,2).reduce((k,C)=>k+C,0):E.overflows[0],E.overflows]}).sort((E,I)=>E[1]-I[1]),P=((n=T.filter(E=>E[2].slice(0,tr(E[0])?2:3).every(I=>I<=0))[0])==null?void 0:n[0])||T[0][0];return P!==a?{data:{index:v+1,overflows:S},reset:{placement:P}}:{}}}},s6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,i;const{placement:n,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=xn(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const v=kr(n),_=jr(a),y=kr(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=d||(y||!m?[pl(a)]:Y8(a)),x=p!=="none";!d&&x&&S.push(...J8(a,m,p,w));const T=[a,...S],A=await l.detectOverflow(e,g),P=[];let E=((i=s.flip)==null?void 0:i.overflows)||[];if(c&&P.push(A[v]),h){const M=R1(n,o,w);P.push(A[M[0]],A[M[1]])}if(E=[...E,{placement:n,overflows:P}],!P.every(M=>M<=0)){var I,k;const M=(((I=s.flip)==null?void 0:I.index)||0)+1,D=T[M];if(D&&(!(h==="alignment"?_!==jr(D):!1)||E.every(V=>jr(V.placement)===_?V.overflows[0]>0:!0)))return{data:{index:M,overflows:E},reset:{placement:D}};let Y=(k=E.filter(U=>U.overflows[0]<=0).sort((U,V)=>U.overflows[1]-V.overflows[1])[0])==null?void 0:k.placement;if(!Y)switch(f){case"bestFit":{var C;const U=(C=E.filter(V=>{if(x){const se=jr(V.placement);return se===_||se==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(se=>se>0).reduce((se,L)=>se+L,0)]).sort((V,se)=>V[1]-se[1])[0])==null?void 0:C[0];U&&(Y=U);break}case"initialPlacement":Y=a;break}if(n!==Y)return{reset:{placement:Y}}}return{}}}},o6=new Set(["left","top"]);async function a6(t,e){const{placement:r,platform:i,elements:n}=t,s=await(i.isRTL==null?void 0:i.isRTL(n.floating)),o=kr(r),a=tr(r),l=jr(r)==="y",u=o6.has(o)?-1:1,c=s&&l?-1:1,h=xn(e,t);let{mainAxis:d,crossAxis:f,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*c,y:d*u}:{x:d*u,y:f*c}}const l6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,i;const{x:n,y:s,placement:o,middlewareData:a}=e,l=await a6(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:n+l.x,y:s+l.y,data:{...l,placement:o}}}}},u6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:i,placement:n,platform:s}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:v=>{let{x:_,y}=v;return{x:_,y}}},...u}=xn(t,e),c={x:r,y:i},h=await s.detectOverflow(e,u),d=jr(kr(n)),f=$1(d);let p=c[f],m=c[d];if(o){const v=f==="y"?"top":"left",_=f==="y"?"bottom":"right",y=p+h[v],w=p-h[_];p=td(y,p,w)}if(a){const v=d==="y"?"top":"left",_=d==="y"?"bottom":"right",y=m+h[v],w=m-h[_];m=td(y,m,w)}const g=l.fn({...e,[f]:p,[d]:m});return{...g,data:{x:g.x-r,y:g.y-i,enabled:{[f]:o,[d]:a}}}}}},c6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,i;const{placement:n,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=xn(t,e),c=await o.detectOverflow(e,u),h=kr(n),d=tr(n),f=jr(n)==="y",{width:p,height:m}=s.floating;let g,v;h==="top"||h==="bottom"?(g=h,v=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,g=d==="end"?"top":"bottom");const _=m-c.top-c.bottom,y=p-c.left-c.right,w=ho(m-c[g],_),S=ho(p-c[v],y),x=!e.middlewareData.shift;let T=w,A=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(A=y),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(T=_),x&&!d){const E=Xi(c.left,0),I=Xi(c.right,0),k=Xi(c.top,0),C=Xi(c.bottom,0);f?A=p-2*(E!==0||I!==0?E+I:Xi(c.left,c.right)):T=m-2*(k!==0||C!==0?k+C:Xi(c.top,c.bottom))}await l({...e,availableWidth:A,availableHeight:T});const P=await o.getDimensions(a.floating);return p!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function Lt(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Sr(t){return Lt(t).getComputedStyle(t)}const vy=Math.min,qs=Math.max,ml=Math.round;function O1(t){const e=Sr(t);let r=parseFloat(e.width),i=parseFloat(e.height);const n=t.offsetWidth,s=t.offsetHeight,o=ml(r)!==n||ml(i)!==s;return o&&(r=n,i=s),{width:r,height:i,fallback:o}}function Pi(t){return D1(t)?(t.nodeName||"").toLowerCase():""}let ba;function L1(){if(ba)return ba;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(ba=t.brands.map(e=>e.brand+"/"+e.version).join(" "),ba):navigator.userAgent}function Ar(t){return t instanceof Lt(t).HTMLElement}function bi(t){return t instanceof Lt(t).Element}function D1(t){return t instanceof Lt(t).Node}function _y(t){return typeof ShadowRoot>"u"?!1:t instanceof Lt(t).ShadowRoot||t instanceof ShadowRoot}function tu(t){const{overflow:e,overflowX:r,overflowY:i,display:n}=Sr(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+r)&&!["inline","contents"].includes(n)}function h6(t){return["table","td","th"].includes(Pi(t))}function rd(t){const e=/firefox/i.test(L1()),r=Sr(t),i=r.backdropFilter||r.WebkitBackdropFilter;return r.transform!=="none"||r.perspective!=="none"||!!i&&i!=="none"||e&&r.willChange==="filter"||e&&!!r.filter&&r.filter!=="none"||["transform","perspective"].some(n=>r.willChange.includes(n))||["paint","layout","strict","content"].some(n=>{const s=r.contain;return s!=null&&s.includes(n)})}function B1(){return!/^((?!chrome|android).)*safari/i.test(L1())}function Ef(t){return["html","body","#document"].includes(Pi(t))}function F1(t){return bi(t)?t:t.contextElement}const N1={x:1,y:1};function Jn(t){const e=F1(t);if(!Ar(e))return N1;const r=e.getBoundingClientRect(),{width:i,height:n,fallback:s}=O1(e);let o=(s?ml(r.width):r.width)/i,a=(s?ml(r.height):r.height)/n;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}function fo(t,e,r,i){var n,s;e===void 0&&(e=!1),r===void 0&&(r=!1);const o=t.getBoundingClientRect(),a=F1(t);let l=N1;e&&(i?bi(i)&&(l=Jn(i)):l=Jn(t));const u=a?Lt(a):window,c=!B1()&&r;let h=(o.left+(c&&((n=u.visualViewport)==null?void 0:n.offsetLeft)||0))/l.x,d=(o.top+(c&&((s=u.visualViewport)==null?void 0:s.offsetTop)||0))/l.y,f=o.width/l.x,p=o.height/l.y;if(a){const m=Lt(a),g=i&&bi(i)?Lt(i):i;let v=m.frameElement;for(;v&&i&&g!==m;){const _=Jn(v),y=v.getBoundingClientRect(),w=getComputedStyle(v);y.x+=(v.clientLeft+parseFloat(w.paddingLeft))*_.x,y.y+=(v.clientTop+parseFloat(w.paddingTop))*_.y,h*=_.x,d*=_.y,f*=_.x,p*=_.y,h+=y.x,d+=y.y,v=Lt(v).frameElement}}return{width:f,height:p,top:d,right:h+f,bottom:d+p,left:h,x:h,y:d}}function xi(t){return((D1(t)?t.ownerDocument:t.document)||window.document).documentElement}function ru(t){return bi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function U1(t){return fo(xi(t)).left+ru(t).scrollLeft}function po(t){if(Pi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_y(t)&&t.host||xi(t);return _y(e)?e.host:e}function H1(t){const e=po(t);return Ef(e)?e.ownerDocument.body:Ar(e)&&tu(e)?e:H1(e)}function gl(t,e){var r;e===void 0&&(e=[]);const i=H1(t),n=i===((r=t.ownerDocument)==null?void 0:r.body),s=Lt(i);return n?e.concat(s,s.visualViewport||[],tu(i)?i:[]):e.concat(i,gl(i))}function by(t,e,r){return e==="viewport"?Ys(function(i,n){const s=Lt(i),o=xi(i),a=s.visualViewport;let l=o.clientWidth,u=o.clientHeight,c=0,h=0;if(a){l=a.width,u=a.height;const d=B1();(d||!d&&n==="fixed")&&(c=a.offsetLeft,h=a.offsetTop)}return{width:l,height:u,x:c,y:h}}(t,r)):bi(e)?Ys(function(i,n){const s=fo(i,!0,n==="fixed"),o=s.top+i.clientTop,a=s.left+i.clientLeft,l=Ar(i)?Jn(i):{x:1,y:1};return{width:i.clientWidth*l.x,height:i.clientHeight*l.y,x:a*l.x,y:o*l.y}}(e,r)):Ys(function(i){const n=xi(i),s=ru(i),o=i.ownerDocument.body,a=qs(n.scrollWidth,n.clientWidth,o.scrollWidth,o.clientWidth),l=qs(n.scrollHeight,n.clientHeight,o.scrollHeight,o.clientHeight);let u=-s.scrollLeft+U1(i);const c=-s.scrollTop;return Sr(o).direction==="rtl"&&(u+=qs(n.clientWidth,o.clientWidth)-a),{width:a,height:l,x:u,y:c}}(xi(t)))}function xy(t){return Ar(t)&&Sr(t).position!=="fixed"?t.offsetParent:null}function wy(t){const e=Lt(t);let r=xy(t);for(;r&&h6(r)&&Sr(r).position==="static";)r=xy(r);return r&&(Pi(r)==="html"||Pi(r)==="body"&&Sr(r).position==="static"&&!rd(r))?e:r||function(i){let n=po(i);for(;Ar(n)&&!Ef(n);){if(rd(n))return n;n=po(n)}return null}(t)||e}function d6(t,e,r){const i=Ar(e),n=xi(e),s=fo(t,!0,r==="fixed",e);let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(i||!i&&r!=="fixed")if((Pi(e)!=="body"||tu(n))&&(o=ru(e)),Ar(e)){const l=fo(e,!0);a.x=l.x+e.clientLeft,a.y=l.y+e.clientTop}else n&&(a.x=U1(n));return{x:s.left+o.scrollLeft-a.x,y:s.top+o.scrollTop-a.y,width:s.width,height:s.height}}const f6={getClippingRect:function(t){let{element:e,boundary:r,rootBoundary:i,strategy:n}=t;const s=r==="clippingAncestors"?function(u,c){const h=c.get(u);if(h)return h;let d=gl(u).filter(g=>bi(g)&&Pi(g)!=="body"),f=null;const p=Sr(u).position==="fixed";let m=p?po(u):u;for(;bi(m)&&!Ef(m);){const g=Sr(m),v=rd(m);(p?v||f:v||g.position!=="static"||!f||!["absolute","fixed"].includes(f.position))?f=g:d=d.filter(_=>_!==m),m=po(m)}return c.set(u,d),d}(e,this._c):[].concat(r),o=[...s,i],a=o[0],l=o.reduce((u,c)=>{const h=by(e,c,n);return u.top=qs(h.top,u.top),u.right=vy(h.right,u.right),u.bottom=vy(h.bottom,u.bottom),u.left=qs(h.left,u.left),u},by(e,a,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:r,strategy:i}=t;const n=Ar(r),s=xi(r);if(r===s)return e;let o={scrollLeft:0,scrollTop:0},a={x:1,y:1};const l={x:0,y:0};if((n||!n&&i!=="fixed")&&((Pi(r)!=="body"||tu(s))&&(o=ru(r)),Ar(r))){const u=fo(r);a=Jn(r),l.x=u.x+r.clientLeft,l.y=u.y+r.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+l.x,y:e.y*a.y-o.scrollTop*a.y+l.y}},isElement:bi,getDimensions:function(t){return Ar(t)?O1(t):t.getBoundingClientRect()},getOffsetParent:wy,getDocumentElement:xi,getScale:Jn,async getElementRects(t){let{reference:e,floating:r,strategy:i}=t;const n=this.getOffsetParent||wy,s=this.getDimensions;return{reference:d6(e,await n(r),i),floating:{x:0,y:0,...await s(r)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>Sr(t).direction==="rtl"},p6=(t,e,r)=>{const i=new Map,n={platform:f6,...r},s={...n.platform,_c:i};return t6(t,e,{...n,platform:s})};function z1(t,e){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(typeof e[r]=="object"&&t[r]?z1(t[r],e[r]):t[r]=e[r])}const rr={disabled:!1,distance:5,skidding:0,container:"body",boundary:void 0,instantMove:!1,disposeTimeout:150,popperTriggers:[],strategy:"absolute",preventOverflow:!0,flip:!0,shift:!0,overflowPadding:0,arrowPadding:0,arrowOverflow:!0,autoHideOnMousedown:!1,themes:{tooltip:{placement:"top",triggers:["hover","focus","touch"],hideTriggers:t=>[...t,"click"],delay:{show:200,hide:0},handleResize:!1,html:!1,loadingContent:"..."},dropdown:{placement:"bottom",triggers:["click"],delay:0,handleResize:!0,autoHide:!0},menu:{$extend:"dropdown",triggers:["hover","focus"],popperTriggers:["hover"],delay:{show:0,hide:400}}}};function mo(t,e){let r=rr.themes[t]||{},i;do i=r[e],typeof i>"u"?r.$extend?r=rr.themes[r.$extend]||{}:(r=null,i=rr[e]):r=null;while(r);return i}function m6(t){const e=[t];let r=rr.themes[t]||{};do r.$extend&&!r.$resetCss?(e.push(r.$extend),r=rr.themes[r.$extend]||{}):r=null;while(r);return e.map(i=>`v-popper--theme-${i}`)}function Ty(t){const e=[t];let r=rr.themes[t]||{};do r.$extend?(e.push(r.$extend),r=rr.themes[r.$extend]||{}):r=null;while(r);return e}let os=!1;if(typeof window<"u"){os=!1;try{const t=Object.defineProperty({},"passive",{get(){os=!0}});window.addEventListener("test",null,t)}catch{}}let j1=!1;typeof window<"u"&&typeof navigator<"u"&&(j1=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);const G1=["auto","top","bottom","left","right"].reduce((t,e)=>t.concat([e,`${e}-start`,`${e}-end`]),[]),Sy={hover:"mouseenter",focus:"focus",click:"click",touch:"touchstart",pointer:"pointerdown"},Ay={hover:"mouseleave",focus:"blur",click:"click",touch:"touchend",pointer:"pointerup"};function Ey(t,e){const r=t.indexOf(e);r!==-1&&t.splice(r,1)}function Tc(){return new Promise(t=>requestAnimationFrame(()=>{requestAnimationFrame(t)}))}const Kt=[];let Ui=null;const Cy={};function Py(t){let e=Cy[t];return e||(e=Cy[t]=[]),e}let id=function(){};typeof window<"u"&&(id=window.Element);function ge(t){return function(e){return mo(e.theme,t)}}const Sc="__floating-vue__popper",V1=()=>H({name:"VPopper",provide(){return{[Sc]:{parentPopper:this}}},inject:{[Sc]:{default:null}},props:{theme:{type:String,required:!0},targetNodes:{type:Function,required:!0},referenceNode:{type:Function,default:null},popperNode:{type:Function,required:!0},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:ge("disabled")},positioningDisabled:{type:Boolean,default:ge("positioningDisabled")},placement:{type:String,default:ge("placement"),validator:t=>G1.includes(t)},delay:{type:[String,Number,Object],default:ge("delay")},distance:{type:[Number,String],default:ge("distance")},skidding:{type:[Number,String],default:ge("skidding")},triggers:{type:Array,default:ge("triggers")},showTriggers:{type:[Array,Function],default:ge("showTriggers")},hideTriggers:{type:[Array,Function],default:ge("hideTriggers")},popperTriggers:{type:Array,default:ge("popperTriggers")},popperShowTriggers:{type:[Array,Function],default:ge("popperShowTriggers")},popperHideTriggers:{type:[Array,Function],default:ge("popperHideTriggers")},container:{type:[String,Object,id,Boolean],default:ge("container")},boundary:{type:[String,id],default:ge("boundary")},strategy:{type:String,validator:t=>["absolute","fixed"].includes(t),default:ge("strategy")},autoHide:{type:[Boolean,Function],default:ge("autoHide")},handleResize:{type:Boolean,default:ge("handleResize")},instantMove:{type:Boolean,default:ge("instantMove")},eagerMount:{type:Boolean,default:ge("eagerMount")},popperClass:{type:[String,Array,Object],default:ge("popperClass")},computeTransformOrigin:{type:Boolean,default:ge("computeTransformOrigin")},autoMinSize:{type:Boolean,default:ge("autoMinSize")},autoSize:{type:[Boolean,String],default:ge("autoSize")},autoMaxSize:{type:Boolean,default:ge("autoMaxSize")},autoBoundaryMaxSize:{type:Boolean,default:ge("autoBoundaryMaxSize")},preventOverflow:{type:Boolean,default:ge("preventOverflow")},overflowPadding:{type:[Number,String],default:ge("overflowPadding")},arrowPadding:{type:[Number,String],default:ge("arrowPadding")},arrowOverflow:{type:Boolean,default:ge("arrowOverflow")},flip:{type:Boolean,default:ge("flip")},shift:{type:Boolean,default:ge("shift")},shiftCrossAxis:{type:Boolean,default:ge("shiftCrossAxis")},noAutoFocus:{type:Boolean,default:ge("noAutoFocus")},disposeTimeout:{type:Number,default:ge("disposeTimeout")}},emits:{show:()=>!0,hide:()=>!0,"update:shown":t=>!0,"apply-show":()=>!0,"apply-hide":()=>!0,"close-group":()=>!0,"close-directive":()=>!0,"auto-hide":()=>!0,resize:()=>!0},data(){return{isShown:!1,isMounted:!1,skipTransition:!1,classes:{showFrom:!1,showTo:!1,hideFrom:!1,hideTo:!0},result:{x:0,y:0,placement:"",strategy:this.strategy,arrow:{x:0,y:0,centerOffset:0},transformOrigin:null},randomId:`popper_${[Math.random(),Date.now()].map(t=>t.toString(36).substring(2,10)).join("_")}`,shownChildren:new Set,lastAutoHide:!0,pendingHide:!1,containsGlobalTarget:!1,isDisposed:!0,mouseDownContains:!1}},computed:{popperId(){return this.ariaId!=null?this.ariaId:this.randomId},shouldMountContent(){return this.eagerMount||this.isMounted},slotData(){return{popperId:this.popperId,isShown:this.isShown,shouldMountContent:this.shouldMountContent,skipTransition:this.skipTransition,autoHide:typeof this.autoHide=="function"?this.lastAutoHide:this.autoHide,show:this.show,hide:this.hide,handleResize:this.handleResize,onResize:this.onResize,classes:{...this.classes,popperClass:this.popperClass},result:this.positioningDisabled?null:this.result,attrs:this.$attrs}},parentPopper(){var t;return(t=this[Sc])==null?void 0:t.parentPopper},hasPopperShowTriggerHover(){var t,e;return((t=this.popperTriggers)==null?void 0:t.includes("hover"))||((e=this.popperShowTriggers)==null?void 0:e.includes("hover"))}},watch:{shown:"$_autoShowHide",disabled(t){t?this.dispose():this.init()},async container(){this.isShown&&(this.$_ensureTeleport(),await this.$_computePosition())},triggers:{handler:"$_refreshListeners",deep:!0},positioningDisabled:"$_refreshListeners",...["placement","distance","skidding","boundary","strategy","overflowPadding","arrowPadding","preventOverflow","shift","shiftCrossAxis","flip"].reduce((t,e)=>(t[e]="$_computePosition",t),{})},created(){this.autoMinSize&&console.warn('[floating-vue] `autoMinSize` option is deprecated. Use `autoSize="min"` instead.'),this.autoMaxSize&&console.warn("[floating-vue] `autoMaxSize` option is deprecated. Use `autoBoundaryMaxSize` instead.")},mounted(){this.init(),this.$_detachPopperNode()},activated(){this.$_autoShowHide()},deactivated(){this.hide()},beforeUnmount(){this.dispose()},methods:{show({event:t=null,skipDelay:e=!1,force:r=!1}={}){var i,n;(i=this.parentPopper)!=null&&i.lockedChild&&this.parentPopper.lockedChild!==this||(this.pendingHide=!1,(r||!this.disabled)&&(((n=this.parentPopper)==null?void 0:n.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_scheduleShow(t,e),this.$emit("show"),this.$_showFrameLocked=!0,requestAnimationFrame(()=>{this.$_showFrameLocked=!1})),this.$emit("update:shown",!0))},hide({event:t=null,skipDelay:e=!1}={}){var r;if(!this.$_hideInProgress){if(this.shownChildren.size>0){this.pendingHide=!0;return}if(this.hasPopperShowTriggerHover&&this.$_isAimingPopper()){this.parentPopper&&(this.parentPopper.lockedChild=this,clearTimeout(this.parentPopper.lockedChildTimer),this.parentPopper.lockedChildTimer=setTimeout(()=>{this.parentPopper.lockedChild===this&&(this.parentPopper.lockedChild.hide({skipDelay:e}),this.parentPopper.lockedChild=null)},1e3));return}((r=this.parentPopper)==null?void 0:r.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.pendingHide=!1,this.$_scheduleHide(t,e),this.$emit("hide"),this.$emit("update:shown",!1)}},init(){var t;this.isDisposed&&(this.isDisposed=!1,this.isMounted=!1,this.$_events=[],this.$_preventShow=!1,this.$_referenceNode=((t=this.referenceNode)==null?void 0:t.call(this))??this.$el,this.$_targetNodes=this.targetNodes().filter(e=>e.nodeType===e.ELEMENT_NODE),this.$_popperNode=this.popperNode(),this.$_innerNode=this.$_popperNode.querySelector(".v-popper__inner"),this.$_arrowNode=this.$_popperNode.querySelector(".v-popper__arrow-container"),this.$_swapTargetAttrs("title","data-original-title"),this.$_detachPopperNode(),this.triggers.length&&this.$_addEventListeners(),this.shown&&this.show())},dispose(){this.isDisposed||(this.isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.$_detachPopperNode(),this.isMounted=!1,this.isShown=!1,this.$_updateParentShownChildren(!1),this.$_swapTargetAttrs("data-original-title","title"))},async onResize(){this.isShown&&(await this.$_computePosition(),this.$emit("resize"))},async $_computePosition(){if(this.isDisposed||this.positioningDisabled)return;const t={strategy:this.strategy,middleware:[]};(this.distance||this.skidding)&&t.middleware.push(l6({mainAxis:this.distance,crossAxis:this.skidding}));const e=this.placement.startsWith("auto");if(e?t.middleware.push(n6({alignment:this.placement.split("-")[1]??""})):t.placement=this.placement,this.preventOverflow&&(this.shift&&t.middleware.push(u6({padding:this.overflowPadding,boundary:this.boundary,crossAxis:this.shiftCrossAxis})),!e&&this.flip&&t.middleware.push(s6({padding:this.overflowPadding,boundary:this.boundary}))),t.middleware.push(r6({element:this.$_arrowNode,padding:this.arrowPadding})),this.arrowOverflow&&t.middleware.push({name:"arrowOverflow",fn:({placement:i,rects:n,middlewareData:s})=>{let o;const{centerOffset:a}=s.arrow;return i.startsWith("top")||i.startsWith("bottom")?o=Math.abs(a)>n.reference.width/2:o=Math.abs(a)>n.reference.height/2,{data:{overflow:o}}}}),this.autoMinSize||this.autoSize){const i=this.autoSize?this.autoSize:this.autoMinSize?"min":null;t.middleware.push({name:"autoSize",fn:({rects:n,placement:s,middlewareData:o})=>{var a;if((a=o.autoSize)!=null&&a.skip)return{};let l,u;return s.startsWith("top")||s.startsWith("bottom")?l=n.reference.width:u=n.reference.height,this.$_innerNode.style[i==="min"?"minWidth":i==="max"?"maxWidth":"width"]=l!=null?`${l}px`:null,this.$_innerNode.style[i==="min"?"minHeight":i==="max"?"maxHeight":"height"]=u!=null?`${u}px`:null,{data:{skip:!0},reset:{rects:!0}}}})}(this.autoMaxSize||this.autoBoundaryMaxSize)&&(this.$_innerNode.style.maxWidth=null,this.$_innerNode.style.maxHeight=null,t.middleware.push(c6({boundary:this.boundary,padding:this.overflowPadding,apply:({availableWidth:i,availableHeight:n})=>{this.$_innerNode.style.maxWidth=i!=null?`${i}px`:null,this.$_innerNode.style.maxHeight=n!=null?`${n}px`:null}})));const r=await p6(this.$_referenceNode,this.$_popperNode,t);Object.assign(this.result,{x:r.x,y:r.y,placement:r.placement,strategy:r.strategy,arrow:{...r.middlewareData.arrow,...r.middlewareData.arrowOverflow}})},$_scheduleShow(t,e=!1){if(this.$_updateParentShownChildren(!0),this.$_hideInProgress=!1,clearTimeout(this.$_scheduleTimer),Ui&&this.instantMove&&Ui.instantMove&&Ui!==this.parentPopper){Ui.$_applyHide(!0),this.$_applyShow(!0);return}e?this.$_applyShow():this.$_scheduleTimer=setTimeout(this.$_applyShow.bind(this),this.$_computeDelay("show"))},$_scheduleHide(t,e=!1){if(this.shownChildren.size>0){this.pendingHide=!0;return}this.$_updateParentShownChildren(!1),this.$_hideInProgress=!0,clearTimeout(this.$_scheduleTimer),this.isShown&&(Ui=this),e?this.$_applyHide():this.$_scheduleTimer=setTimeout(this.$_applyHide.bind(this),this.$_computeDelay("hide"))},$_computeDelay(t){const e=this.delay;return parseInt(e&&e[t]||e||0)},async $_applyShow(t=!1){clearTimeout(this.$_disposeTimer),clearTimeout(this.$_scheduleTimer),this.skipTransition=t,!this.isShown&&(this.$_ensureTeleport(),await Tc(),await this.$_computePosition(),await this.$_applyShowEffect(),this.positioningDisabled||this.$_registerEventListeners([...gl(this.$_referenceNode),...gl(this.$_popperNode)],"scroll",()=>{this.$_computePosition()}))},async $_applyShowEffect(){if(this.$_hideInProgress)return;if(this.computeTransformOrigin){const e=this.$_referenceNode.getBoundingClientRect(),r=this.$_popperNode.querySelector(".v-popper__wrapper"),i=r.parentNode.getBoundingClientRect(),n=e.x+e.width/2-(i.left+r.offsetLeft),s=e.y+e.height/2-(i.top+r.offsetTop);this.result.transformOrigin=`${n}px ${s}px`}this.isShown=!0,this.$_applyAttrsToTarget({"aria-describedby":this.popperId,"data-popper-shown":""});const t=this.showGroup;if(t){let e;for(let r=0;r<Kt.length;r++)e=Kt[r],e.showGroup!==t&&(e.hide(),e.$emit("close-group"))}Kt.push(this),document.body.classList.add("v-popper--some-open");for(const e of Ty(this.theme))Py(e).push(this),document.body.classList.add(`v-popper--some-open--${e}`);this.$emit("apply-show"),this.classes.showFrom=!0,this.classes.showTo=!1,this.classes.hideFrom=!1,this.classes.hideTo=!1,await Tc(),this.classes.showFrom=!1,this.classes.showTo=!0,this.noAutoFocus||this.$_popperNode.focus()},async $_applyHide(t=!1){if(this.shownChildren.size>0){this.pendingHide=!0,this.$_hideInProgress=!1;return}if(clearTimeout(this.$_scheduleTimer),!this.isShown)return;this.skipTransition=t,Ey(Kt,this),Kt.length===0&&document.body.classList.remove("v-popper--some-open");for(const r of Ty(this.theme)){const i=Py(r);Ey(i,this),i.length===0&&document.body.classList.remove(`v-popper--some-open--${r}`)}Ui===this&&(Ui=null),this.isShown=!1,this.$_applyAttrsToTarget({"aria-describedby":void 0,"data-popper-shown":void 0}),clearTimeout(this.$_disposeTimer);const e=this.disposeTimeout;e!==null&&(this.$_disposeTimer=setTimeout(()=>{this.$_popperNode&&(this.$_detachPopperNode(),this.isMounted=!1)},e)),this.$_removeEventListeners("scroll"),this.$emit("apply-hide"),this.classes.showFrom=!1,this.classes.showTo=!1,this.classes.hideFrom=!0,this.classes.hideTo=!1,await Tc(),this.classes.hideFrom=!1,this.classes.hideTo=!0},$_autoShowHide(){this.shown?this.show():this.hide()},$_ensureTeleport(){if(this.isDisposed)return;let t=this.container;if(typeof t=="string"?t=window.document.querySelector(t):t===!1&&(t=this.$_targetNodes[0].parentNode),!t)throw new Error("No container for popover: "+this.container);t.appendChild(this.$_popperNode),this.isMounted=!0},$_addEventListeners(){const t=r=>{this.isShown&&!this.$_hideInProgress||(r.usedByTooltip=!0,!this.$_preventShow&&this.show({event:r}))};this.$_registerTriggerListeners(this.$_targetNodes,Sy,this.triggers,this.showTriggers,t),this.$_registerTriggerListeners([this.$_popperNode],Sy,this.popperTriggers,this.popperShowTriggers,t);const e=r=>{r.usedByTooltip||this.hide({event:r})};this.$_registerTriggerListeners(this.$_targetNodes,Ay,this.triggers,this.hideTriggers,e),this.$_registerTriggerListeners([this.$_popperNode],Ay,this.popperTriggers,this.popperHideTriggers,e)},$_registerEventListeners(t,e,r){this.$_events.push({targetNodes:t,eventType:e,handler:r}),t.forEach(i=>i.addEventListener(e,r,os?{passive:!0}:void 0))},$_registerTriggerListeners(t,e,r,i,n){let s=r;i!=null&&(s=typeof i=="function"?i(s):i),s.forEach(o=>{const a=e[o];a&&this.$_registerEventListeners(t,a,n)})},$_removeEventListeners(t){const e=[];this.$_events.forEach(r=>{const{targetNodes:i,eventType:n,handler:s}=r;!t||t===n?i.forEach(o=>o.removeEventListener(n,s)):e.push(r)}),this.$_events=e},$_refreshListeners(){this.isDisposed||(this.$_removeEventListeners(),this.$_addEventListeners())},$_handleGlobalClose(t,e=!1){this.$_showFrameLocked||(this.hide({event:t}),t.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),e&&(this.$_preventShow=!0,setTimeout(()=>{this.$_preventShow=!1},300)))},$_detachPopperNode(){this.$_popperNode.parentNode&&this.$_popperNode.parentNode.removeChild(this.$_popperNode)},$_swapTargetAttrs(t,e){for(const r of this.$_targetNodes){const i=r.getAttribute(t);i&&(r.removeAttribute(t),r.setAttribute(e,i))}},$_applyAttrsToTarget(t){for(const e of this.$_targetNodes)for(const r in t){const i=t[r];i==null?e.removeAttribute(r):e.setAttribute(r,i)}},$_updateParentShownChildren(t){let e=this.parentPopper;for(;e;)t?e.shownChildren.add(this.randomId):(e.shownChildren.delete(this.randomId),e.pendingHide&&e.hide()),e=e.parentPopper},$_isAimingPopper(){const t=this.$_referenceNode.getBoundingClientRect();if(Ks>=t.left&&Ks<=t.right&&Zs>=t.top&&Zs<=t.bottom){const e=this.$_popperNode.getBoundingClientRect(),r=Ks-oi,i=Zs-ai,n=e.left+e.width/2-oi+(e.top+e.height/2)-ai+e.width+e.height,s=oi+r*n,o=ai+i*n;return xa(oi,ai,s,o,e.left,e.top,e.left,e.bottom)||xa(oi,ai,s,o,e.left,e.top,e.right,e.top)||xa(oi,ai,s,o,e.right,e.top,e.right,e.bottom)||xa(oi,ai,s,o,e.left,e.bottom,e.right,e.bottom)}return!1}},render(){return this.$slots.default(this.slotData)}});if(typeof document<"u"&&typeof window<"u"){if(j1){const t=os?{passive:!0,capture:!0}:!0;document.addEventListener("touchstart",e=>ky(e,!0),t),document.addEventListener("touchend",e=>My(e,!0),t)}else window.addEventListener("mousedown",t=>ky(t,!1),!0),window.addEventListener("click",t=>My(t,!1),!0);window.addEventListener("resize",y6)}function ky(t,e){if(rr.autoHideOnMousedown)W1(t,e);else for(let r=0;r<Kt.length;r++){const i=Kt[r];try{i.mouseDownContains=i.popperNode().contains(t.target)}catch{}}}function My(t,e){rr.autoHideOnMousedown||W1(t,e)}function W1(t,e){const r={};for(let i=Kt.length-1;i>=0;i--){const n=Kt[i];try{const s=n.containsGlobalTarget=n.mouseDownContains||n.popperNode().contains(t.target);n.pendingHide=!1,requestAnimationFrame(()=>{if(n.pendingHide=!1,!r[n.randomId]&&$y(n,s,t)){if(n.$_handleGlobalClose(t,e),!t.closeAllPopover&&t.closePopover&&s){let a=n.parentPopper;for(;a;)r[a.randomId]=!0,a=a.parentPopper;return}let o=n.parentPopper;for(;o&&$y(o,o.containsGlobalTarget,t);)o.$_handleGlobalClose(t,e),o=o.parentPopper}})}catch{}}}function $y(t,e,r){return r.closeAllPopover||r.closePopover&&e||g6(t,r)&&!e}function g6(t,e){if(typeof t.autoHide=="function"){const r=t.autoHide(e);return t.lastAutoHide=r,r}return t.autoHide}function y6(){for(let t=0;t<Kt.length;t++)Kt[t].$_computePosition()}let oi=0,ai=0,Ks=0,Zs=0;typeof window<"u"&&window.addEventListener("mousemove",t=>{oi=Ks,ai=Zs,Ks=t.clientX,Zs=t.clientY},os?{passive:!0}:void 0);function xa(t,e,r,i,n,s,o,a){const l=((o-n)*(e-s)-(a-s)*(t-n))/((a-s)*(r-t)-(o-n)*(i-e)),u=((r-t)*(e-s)-(i-e)*(t-n))/((a-s)*(r-t)-(o-n)*(i-e));return l>=0&&l<=1&&u>=0&&u<=1}const v6={extends:V1()},iu=(t,e)=>{const r=t.__vccOpts||t;for(const[i,n]of e)r[i]=n;return r};function _6(t,e,r,i,n,s){return $(),N("div",{ref:"reference",class:Te(["v-popper",{"v-popper--shown":t.slotData.isShown}])},[lt(t.$slots,"default",Px(kx(t.slotData)))],2)}const b6=iu(v6,[["render",_6]]);function x6(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var r=t.indexOf("Trident/");if(r>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var n=t.indexOf("Edge/");return n>0?parseInt(t.substring(n+5,t.indexOf(".",n)),10):-1}let Ba;function nd(){nd.init||(nd.init=!0,Ba=x6()!==-1)}var nu={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){nd(),ki(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const t=document.createElement("object");this._resizeObject=t,t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",-1),t.onload=this.addResizeHandlers,t.type="text/html",Ba&&this.$el.appendChild(t),t.data="about:blank",Ba||this.$el.appendChild(t)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!Ba&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const w6=Cx();Sx("data-v-b329ee4c");const T6={class:"resize-observer",tabindex:"-1"};Ax();const S6=w6((t,e,r,i,n,s)=>($(),ue("div",T6)));nu.render=S6;nu.__scopeId="data-v-b329ee4c";nu.__file="src/components/ResizeObserver.vue";const X1=(t="theme")=>({computed:{themeClass(){return m6(this[t])}}}),A6=H({name:"VPopperContent",components:{ResizeObserver:nu},mixins:[X1()],props:{popperId:String,theme:String,shown:Boolean,mounted:Boolean,skipTransition:Boolean,autoHide:Boolean,handleResize:Boolean,classes:Object,result:Object},emits:["hide","resize"],methods:{toPx(t){return t!=null&&!isNaN(t)?`${t}px`:null}}}),E6=["id","aria-hidden","tabindex","data-popper-placement"],C6={ref:"inner",class:"v-popper__inner"},P6=O("div",{class:"v-popper__arrow-outer"},null,-1),k6=O("div",{class:"v-popper__arrow-inner"},null,-1),M6=[P6,k6];function $6(t,e,r,i,n,s){const o=ft("ResizeObserver");return $(),N("div",{id:t.popperId,ref:"popover",class:Te(["v-popper__popper",[t.themeClass,t.classes.popperClass,{"v-popper__popper--shown":t.shown,"v-popper__popper--hidden":!t.shown,"v-popper__popper--show-from":t.classes.showFrom,"v-popper__popper--show-to":t.classes.showTo,"v-popper__popper--hide-from":t.classes.hideFrom,"v-popper__popper--hide-to":t.classes.hideTo,"v-popper__popper--skip-transition":t.skipTransition,"v-popper__popper--arrow-overflow":t.result&&t.result.arrow.overflow,"v-popper__popper--no-positioning":!t.result}]]),style:yi(t.result?{position:t.result.strategy,transform:`translate3d(${Math.round(t.result.x)}px,${Math.round(t.result.y)}px,0)`}:void 0),"aria-hidden":t.shown?"false":"true",tabindex:t.autoHide?0:void 0,"data-popper-placement":t.result?t.result.placement:void 0,onKeyup:e[2]||(e[2]=Ex(a=>t.autoHide&&t.$emit("hide"),["esc"]))},[O("div",{class:"v-popper__backdrop",onClick:e[0]||(e[0]=a=>t.autoHide&&t.$emit("hide"))}),O("div",{class:"v-popper__wrapper",style:yi(t.result?{transformOrigin:t.result.transformOrigin}:void 0)},[O("div",C6,[t.mounted?($(),N(Le,{key:0},[O("div",null,[lt(t.$slots,"default")]),t.handleResize?($(),ue(o,{key:0,onNotify:e[1]||(e[1]=a=>t.$emit("resize",a))})):Q("",!0)],64)):Q("",!0)],512),O("div",{ref:"arrow",class:"v-popper__arrow-container",style:yi(t.result?{left:t.toPx(t.result.arrow.x),top:t.toPx(t.result.arrow.y)}:void 0)},M6,4)],4)],46,E6)}const Y1=iu(A6,[["render",$6]]),q1={methods:{show(...t){return this.$refs.popper.show(...t)},hide(...t){return this.$refs.popper.hide(...t)},dispose(...t){return this.$refs.popper.dispose(...t)},onResize(...t){return this.$refs.popper.onResize(...t)}}};let sd=function(){};typeof window<"u"&&(sd=window.Element);const R6=H({name:"VPopperWrapper",components:{Popper:b6,PopperContent:Y1},mixins:[q1,X1("finalTheme")],props:{theme:{type:String,default:null},referenceNode:{type:Function,default:null},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:void 0},positioningDisabled:{type:Boolean,default:void 0},placement:{type:String,default:void 0},delay:{type:[String,Number,Object],default:void 0},distance:{type:[Number,String],default:void 0},skidding:{type:[Number,String],default:void 0},triggers:{type:Array,default:void 0},showTriggers:{type:[Array,Function],default:void 0},hideTriggers:{type:[Array,Function],default:void 0},popperTriggers:{type:Array,default:void 0},popperShowTriggers:{type:[Array,Function],default:void 0},popperHideTriggers:{type:[Array,Function],default:void 0},container:{type:[String,Object,sd,Boolean],default:void 0},boundary:{type:[String,sd],default:void 0},strategy:{type:String,default:void 0},autoHide:{type:[Boolean,Function],default:void 0},handleResize:{type:Boolean,default:void 0},instantMove:{type:Boolean,default:void 0},eagerMount:{type:Boolean,default:void 0},popperClass:{type:[String,Array,Object],default:void 0},computeTransformOrigin:{type:Boolean,default:void 0},autoMinSize:{type:Boolean,default:void 0},autoSize:{type:[Boolean,String],default:void 0},autoMaxSize:{type:Boolean,default:void 0},autoBoundaryMaxSize:{type:Boolean,default:void 0},preventOverflow:{type:Boolean,default:void 0},overflowPadding:{type:[Number,String],default:void 0},arrowPadding:{type:[Number,String],default:void 0},arrowOverflow:{type:Boolean,default:void 0},flip:{type:Boolean,default:void 0},shift:{type:Boolean,default:void 0},shiftCrossAxis:{type:Boolean,default:void 0},noAutoFocus:{type:Boolean,default:void 0},disposeTimeout:{type:Number,default:void 0}},emits:{show:()=>!0,hide:()=>!0,"update:shown":t=>!0,"apply-show":()=>!0,"apply-hide":()=>!0,"close-group":()=>!0,"close-directive":()=>!0,"auto-hide":()=>!0,resize:()=>!0},computed:{finalTheme(){return this.theme??this.$options.vPopperTheme}},methods:{getTargetNodes(){return Array.from(this.$el.children).filter(t=>t!==this.$refs.popperContent.$el)}}});function I6(t,e,r,i,n,s){const o=ft("PopperContent"),a=ft("Popper");return $(),ue(a,an({ref:"popper"},t.$props,{theme:t.finalTheme,"target-nodes":t.getTargetNodes,"popper-node":()=>t.$refs.popperContent.$el,class:[t.themeClass],onShow:e[0]||(e[0]=()=>t.$emit("show")),onHide:e[1]||(e[1]=()=>t.$emit("hide")),"onUpdate:shown":e[2]||(e[2]=l=>t.$emit("update:shown",l)),onApplyShow:e[3]||(e[3]=()=>t.$emit("apply-show")),onApplyHide:e[4]||(e[4]=()=>t.$emit("apply-hide")),onCloseGroup:e[5]||(e[5]=()=>t.$emit("close-group")),onCloseDirective:e[6]||(e[6]=()=>t.$emit("close-directive")),onAutoHide:e[7]||(e[7]=()=>t.$emit("auto-hide")),onResize:e[8]||(e[8]=()=>t.$emit("resize"))}),{default:we(({popperId:l,isShown:u,shouldMountContent:c,skipTransition:h,autoHide:d,show:f,hide:p,handleResize:m,onResize:g,classes:v,result:_})=>[lt(t.$slots,"default",{shown:u,show:f,hide:p}),b(o,{ref:"popperContent","popper-id":l,theme:t.finalTheme,shown:u,mounted:c,"skip-transition":h,"auto-hide":d,"handle-resize":m,classes:v,result:_,onHide:p,onResize:g},{default:we(()=>[lt(t.$slots,"popper",{shown:u,hide:p})]),_:2},1032,["popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:3},16,["theme","target-nodes","popper-node","class"])}const Cf=iu(R6,[["render",I6]]),O6={...Cf,name:"VDropdown",vPopperTheme:"dropdown"},L6={...Cf,name:"VMenu",vPopperTheme:"menu"},D6={...Cf,name:"VTooltip",vPopperTheme:"tooltip"},B6=H({name:"VTooltipDirective",components:{Popper:V1(),PopperContent:Y1},mixins:[q1],inheritAttrs:!1,props:{theme:{type:String,default:"tooltip"},html:{type:Boolean,default:t=>mo(t.theme,"html")},content:{type:[String,Number,Function],default:null},loadingContent:{type:String,default:t=>mo(t.theme,"loadingContent")},targetNodes:{type:Function,required:!0}},data(){return{asyncContent:null}},computed:{isContentAsync(){return typeof this.content=="function"},loading(){return this.isContentAsync&&this.asyncContent==null},finalContent(){return this.isContentAsync?this.loading?this.loadingContent:this.asyncContent:this.content}},watch:{content:{handler(){this.fetchContent(!0)},immediate:!0},async finalContent(){await this.$nextTick(),this.$refs.popper.onResize()}},created(){this.$_fetchId=0},methods:{fetchContent(t){if(typeof this.content=="function"&&this.$_isShown&&(t||!this.$_loading&&this.asyncContent==null)){this.asyncContent=null,this.$_loading=!0;const e=++this.$_fetchId,r=this.content(this);r.then?r.then(i=>this.onResult(e,i)):this.onResult(e,r)}},onResult(t,e){t===this.$_fetchId&&(this.$_loading=!1,this.asyncContent=e)},onShow(){this.$_isShown=!0,this.fetchContent()},onHide(){this.$_isShown=!1}}}),F6=["innerHTML"],N6=["textContent"];function U6(t,e,r,i,n,s){const o=ft("PopperContent"),a=ft("Popper");return $(),ue(a,an({ref:"popper"},t.$attrs,{theme:t.theme,"target-nodes":t.targetNodes,"popper-node":()=>t.$refs.popperContent.$el,onApplyShow:t.onShow,onApplyHide:t.onHide}),{default:we(({popperId:l,isShown:u,shouldMountContent:c,skipTransition:h,autoHide:d,hide:f,handleResize:p,onResize:m,classes:g,result:v})=>[b(o,{ref:"popperContent",class:Te({"v-popper--tooltip-loading":t.loading}),"popper-id":l,theme:t.theme,shown:u,mounted:c,"skip-transition":h,"auto-hide":d,"handle-resize":p,classes:g,result:v,onHide:f,onResize:m},{default:we(()=>[t.html?($(),N("div",{key:0,innerHTML:t.finalContent},null,8,F6)):($(),N("div",{key:1,textContent:me(t.finalContent)},null,8,N6))]),_:2},1032,["class","popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:1},16,["theme","target-nodes","popper-node","onApplyShow","onApplyHide"])}const H6=iu(B6,[["render",U6]]),K1="v-popper--has-tooltip";function z6(t,e){let r=t.placement;if(!r&&e)for(const i of G1)e[i]&&(r=i);return r||(r=mo(t.theme||"tooltip","placement")),r}function Z1(t,e,r){let i;const n=typeof e;return n==="string"?i={content:e}:e&&n==="object"?i=e:i={content:!1},i.placement=z6(i,r),i.targetNodes=()=>[t],i.referenceNode=()=>t,i}let Ac,go,j6=0;function G6(){if(Ac)return;go=z([]),Ac=zy({name:"VTooltipDirectiveApp",setup(){return{directives:go}},render(){return this.directives.map(e=>Mx(H6,{...e.options,shown:e.shown||e.options.shown,key:e.id}))},devtools:{hide:!0}});const t=document.createElement("div");document.body.appendChild(t),Ac.mount(t)}function V6(t,e,r){G6();const i=z(Z1(t,e,r)),n=z(!1),s={id:j6++,options:i,shown:n};return go.value.push(s),t.classList&&t.classList.add(K1),t.$_popper={options:i,item:s,show(){n.value=!0},hide(){n.value=!1}}}function J1(t){if(t.$_popper){const e=go.value.indexOf(t.$_popper.item);e!==-1&&go.value.splice(e,1),delete t.$_popper,delete t.$_popperOldShown,delete t.$_popperMountTarget}t.classList&&t.classList.remove(K1)}function Ry(t,{value:e,modifiers:r}){const i=Z1(t,e,r);if(!i.content||mo(i.theme||"tooltip","disabled"))J1(t);else{let n;t.$_popper?(n=t.$_popper,n.options.value=i):n=V6(t,e,r),typeof e.shown<"u"&&e.shown!==t.$_popperOldShown&&(t.$_popperOldShown=e.shown,e.shown?n.show():n.hide())}}const W6={beforeMount:Ry,updated:Ry,beforeUnmount(t){J1(t)}};function Iy(t){t.addEventListener("mousedown",yl),t.addEventListener("click",yl),t.addEventListener("touchstart",Q1,os?{passive:!0}:!1)}function Oy(t){t.removeEventListener("mousedown",yl),t.removeEventListener("click",yl),t.removeEventListener("touchstart",Q1),t.removeEventListener("touchend",ex),t.removeEventListener("touchcancel",tx)}function yl(t){const e=t.currentTarget;t.closePopover=!e.$_vclosepopover_touch,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}function Q1(t){if(t.changedTouches.length===1){const e=t.currentTarget;e.$_vclosepopover_touch=!0;const r=t.changedTouches[0];e.$_vclosepopover_touchPoint=r,e.addEventListener("touchend",ex),e.addEventListener("touchcancel",tx)}}function ex(t){const e=t.currentTarget;if(e.$_vclosepopover_touch=!1,t.changedTouches.length===1){const r=t.changedTouches[0],i=e.$_vclosepopover_touchPoint;t.closePopover=Math.abs(r.screenY-i.screenY)<20&&Math.abs(r.screenX-i.screenX)<20,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}}function tx(t){const e=t.currentTarget;e.$_vclosepopover_touch=!1}const X6={beforeMount(t,{value:e,modifiers:r}){t.$_closePopoverModifiers=r,(typeof e>"u"||e)&&Iy(t)},updated(t,{value:e,oldValue:r,modifiers:i}){t.$_closePopoverModifiers=i,e!==r&&(typeof e>"u"||e?Iy(t):Oy(t))},beforeUnmount(t){Oy(t)}};function Y6(t,e={}){t.$_vTooltipInstalled||(t.$_vTooltipInstalled=!0,z1(rr,e),t.directive("tooltip",W6),t.directive("close-popper",X6),t.component("VTooltip",D6),t.component("VDropdown",O6),t.component("VMenu",L6))}const q6={version:"5.2.2",install:Y6,options:rr};async function K6({app:t},e){const r={};t.use(q6,Object.assign(r,e.value.siteConfig.floatingVue||{}))}const Z6=async({head:t,isClient:e,router:r})=>{if(e)return;const i=W0(),{SchemaOrgUnheadPlugin:n}=await Fe(async()=>{const{SchemaOrgUnheadPlugin:s}=await Promise.resolve().then(()=>aT);return{SchemaOrgUnheadPlugin:s}},void 0);t==null||t.use(n({host:i.value.siteConfig.url||"https://valaxy.site",inLanguage:i.value.siteConfig.lang||"en"},()=>({path:r.currentRoute.value.path,...r.currentRoute.value.meta})))},J6={intro:{desc:{t:0,b:{t:2,i:[{t:3}],s:"Valaxy Template"}},hi:{t:0,b:{t:2,i:[{t:3}],s:"Hello, Valaxy!"}}}},Q6={intro:{desc:{t:0,b:{t:2,i:[{t:3}],s:"Valaxy "}},hi:{t:0,b:{t:2,i:[{t:3}],s:"Valaxy"}}}},eU={valaxy_theme_yun:{t:0,b:{t:2,i:[{t:3}],s:"Valaxy Theme Yun"}}},tU={valaxy_theme_yun:{t:0,b:{t:2,i:[{t:3}],s:"Valaxy  "}}},rU={button:{about:{t:0,b:{t:2,i:[{t:3}],s:"About"}},back:{t:0,b:{t:2,i:[{t:3}],s:"Back"}},go:{t:0,b:{t:2,i:[{t:3}],s:"GO"}},home:{t:0,b:{t:2,i:[{t:3}],s:"Home"}},toggle_light:{t:0,b:{t:2,i:[{t:3}],s:"Switch to light mode"}},toggle_dark:{t:0,b:{t:2,i:[{t:3}],s:"Switch to dark mode"}},toggle_langs:{t:0,b:{t:2,i:[{t:3}],s:"Change languages"}},appearance:{t:0,b:{t:2,i:[{t:3}],s:"Appearance"}}},intro:{desc:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Theme Yun"},{t:2,i:[{t:3}],s:"Valaxy"}]}},hi:{t:0,b:{t:2,i:[{t:3,v:"Hi, "},{t:4,k:"name"},{t:3,v:"!"}]}}},"not-found":{t:0,b:{t:2,i:[{t:3}],s:"Oops! Space collapsed!"}},title:{archive:{t:0,b:{t:2,i:[{t:3}],s:"Archive"}},category:{t:0,b:{t:2,i:[{t:3}],s:"Category"}},tag:{t:0,b:{t:2,i:[{t:3}],s:"Tag"}},album:{t:0,b:{t:2,i:[{t:3}],s:"Album"}},gallery:{t:0,b:{t:2,i:[{t:3}],s:"Gallery"}}},menu:{title:{t:0,b:{t:2,i:[{t:3}],s:"Menu"}},home:{t:0,b:{t:2,i:[{t:3}],s:"Home"}},archives:{t:0,b:{t:2,i:[{t:3}],s:"Archives"}},categories:{t:0,b:{t:2,i:[{t:3}],s:"Categories"}},tags:{t:0,b:{t:2,i:[{t:3}],s:"Tags"}},about:{t:0,b:{t:2,i:[{t:3}],s:"About"}},search:{t:0,b:{t:2,i:[{t:3}],s:"Search"}}},sidebar:{overview:{t:0,b:{t:2,i:[{t:3}],s:"Overview"}},toc:{t:0,b:{t:2,i:[{t:3}],s:"Table of Contents"}},return_top:{t:0,b:{t:2,i:[{t:3}],s:"Return to top"}}},post:{decrypt:{t:0,b:{t:2,i:[{t:3}],s:"DECRYPT"}},posted:{t:0,b:{t:2,i:[{t:3}],s:"Posted on "}},edited:{t:0,b:{t:2,i:[{t:3}],s:"Edited on "}},created:{t:0,b:{t:2,i:[{t:3}],s:"Created"}},modified:{t:0,b:{t:2,i:[{t:3}],s:"Modified"}},edit:{t:0,b:{t:2,i:[{t:3}],s:"Edit this post"}},more:{t:0,b:{t:2,i:[{t:3}],s:"more"}},untitled:{t:0,b:{t:2,i:[{t:3}],s:"Untitled"}},toc_empty:{t:0,b:{t:2,i:[{t:3}],s:"This post does not have a Table of Contents"}},pageview_count:{t:0,b:{t:2,i:[{t:3}],s:"Views"}},comment_count:{t:0,b:{t:2,i:[{t:3}],s:"Comments"}},related_posts:{t:0,b:{t:2,i:[{t:3}],s:"Related posts"}},view_link:{t:0,b:{t:2,i:[{t:3}],s:"View link"}},read_more:{t:0,b:{t:2,i:[{t:3}],s:"READ MORE"}},cover:{t:0,b:{t:2,i:[{t:3}],s:"Cover"}},time_warning:{t:0,b:{t:2,i:[{t:3,v:"This article was last updated "},{t:4,k:"ago"},{t:3,v:". The information described in this article may have changed."}]}},copyright:{author:{t:0,b:{t:2,i:[{t:3}],s:"Post author"}},link:{t:0,b:{t:2,i:[{t:3}],s:"Post link"}},license_title:{t:0,b:{t:2,i:[{t:3}],s:"Copyright Notice"}},license_content:{t:0,b:{t:2,i:[{t:3,v:"All articles in this blog are licensed under "},{t:5,i:0},{t:3,v:" unless otherwise stated."}]}}}},footer:{powered:{t:0,b:{t:2,i:[{t:3,v:"Powered by "},{t:5,i:0}]}},theme:{t:0,b:{t:2,i:[{t:3}],s:"Theme"}},total_views:{t:0,b:{t:2,i:[{t:3}],s:"Total Views"}},total_visitors:{t:0,b:{t:2,i:[{t:3}],s:"Total Visitors"}}},counter:{archives:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"No posts"},{t:2,i:[{t:3}],s:"1 post"},{t:2,i:[{t:4,k:"count"},{t:3,v:" posts"}]}]}},categories:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"No categories"},{t:2,i:[{t:3}],s:"1 category"},{t:2,i:[{t:4,k:"count"},{t:3,v:" categories"}]}]}},tags:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"No tags"},{t:2,i:[{t:3}],s:"1 tag"},{t:2,i:[{t:4,k:"count"},{t:3,v:" tags"}]}]}},albums:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"No album"},{t:2,i:[{t:3}],s:"1 album"},{t:2,i:[{t:4,k:"count"},{t:3,v:" albums"}]}]}},photos:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"No photo"},{t:2,i:[{t:3}],s:"1 photo"},{t:2,i:[{t:4,k:"count"},{t:3,v:" photos"}]}]}}},category:{uncategorized:{t:0,b:{t:2,i:[{t:3}],s:"Uncategorized"}}},search:{placeholder:{t:0,b:{t:2,i:[{t:3}],s:"Searching..."}},empty:{t:0,b:{t:2,i:[{t:3,v:"We could not find any results for the search: "},{t:4,k:"query"},{t:3,v:"."}]}},hits_time:{t:0,b:{t:2,i:[{t:4,k:"hits"},{t:3,v:" results found in "},{t:4,k:"time"},{t:3,v:" ms"}]}},hits:{t:0,b:{t:2,i:[{t:4,k:"count"},{t:3,v:" results found"}]}}},symbol:{comma:{t:0,b:{t:2,i:[{t:3}],s:", "}},period:{t:0,b:{t:2,i:[{t:3}],s:". "}},colon:{t:0,b:{t:2,i:[{t:3}],s:": "}}},reward:{donate:{t:0,b:{t:2,i:[{t:3}],s:"Donate"}}},accessibility:{back:{t:0,b:{t:2,i:[{t:3}],s:"Back"}}},statistics:{word:{t:0,b:{t:2,i:[{t:3}],s:"Word count in article"}},word_total:{t:0,b:{t:2,i:[{t:3}],s:"Total words"}},time:{t:0,b:{t:2,i:[{t:3}],s:"Reading time"}},time_total:{t:0,b:{t:2,i:[{t:3}],s:"Total reading time"}}},time:{day:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"1 Day"},{t:2,i:[{t:4,k:"count"},{t:3,v:" Days"}]}]}},hour:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"1 Hour"},{t:2,i:[{t:4,k:"count"},{t:3,v:" Hours"}]}]}},minute:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"1 Minute"},{t:2,i:[{t:4,k:"count"},{t:3,v:" Minutes"}]}]}},second:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"1 Second"},{t:2,i:[{t:4,k:"count"},{t:3,v:" Seconds"}]}]}}},tooltip:{last_updated:{t:0,b:{t:2,i:[{t:3}],s:"Last updated"}}}},iU={button:{about:{t:0,b:{t:2,i:[{t:3}],s:""}},back:{t:0,b:{t:2,i:[{t:3}],s:""}},go:{t:0,b:{t:2,i:[{t:3}],s:""}},home:{t:0,b:{t:2,i:[{t:3}],s:""}},toggle_light:{t:0,b:{t:2,i:[{t:3}],s:""}},toggle_dark:{t:0,b:{t:2,i:[{t:3}],s:""}},toggle_langs:{t:0,b:{t:2,i:[{t:3}],s:""}},appearance:{t:0,b:{t:2,i:[{t:3}],s:""}}},intro:{desc:{t:0,b:{t:2,i:[{t:3}],s:" Yun"}},hi:{t:0,b:{t:2,i:[{t:3,v:""},{t:4,k:"name"}]}}},"not-found":{t:0,b:{t:2,i:[{t:3}],s:""}},title:{archive:{t:0,b:{t:2,i:[{t:3}],s:""}},category:{t:0,b:{t:2,i:[{t:3}],s:""}},tag:{t:0,b:{t:2,i:[{t:3}],s:""}},album:{t:0,b:{t:2,i:[{t:3}],s:""}},gallery:{t:0,b:{t:2,i:[{t:3}],s:""}}},menu:{title:{t:0,b:{t:2,i:[{t:3}],s:""}},home:{t:0,b:{t:2,i:[{t:3}],s:""}},archives:{t:0,b:{t:2,i:[{t:3}],s:""}},categories:{t:0,b:{t:2,i:[{t:3}],s:""}},tags:{t:0,b:{t:2,i:[{t:3}],s:""}},about:{t:0,b:{t:2,i:[{t:3}],s:""}},search:{t:0,b:{t:2,i:[{t:3}],s:""}}},sidebar:{overview:{t:0,b:{t:2,i:[{t:3}],s:""}},toc:{t:0,b:{t:2,i:[{t:3}],s:""}},return_top:{t:0,b:{t:2,i:[{t:3}],s:""}}},post:{decrypt:{t:0,b:{t:2,i:[{t:3}],s:""}},posted:{t:0,b:{t:2,i:[{t:3}],s:""}},edited:{t:0,b:{t:2,i:[{t:3}],s:""}},created:{t:0,b:{t:2,i:[{t:3}],s:""}},modified:{t:0,b:{t:2,i:[{t:3}],s:""}},edit:{t:0,b:{t:2,i:[{t:3}],s:""}},more:{t:0,b:{t:2,i:[{t:3}],s:""}},untitled:{t:0,b:{t:2,i:[{t:3}],s:""}},toc_empty:{t:0,b:{t:2,i:[{t:3}],s:""}},pageview_count:{t:0,b:{t:2,i:[{t:3}],s:""}},comment_count:{t:0,b:{t:2,i:[{t:3}],s:""}},related_posts:{t:0,b:{t:2,i:[{t:3}],s:""}},view_link:{t:0,b:{t:2,i:[{t:3}],s:""}},read_more:{t:0,b:{t:2,i:[{t:3}],s:""}},cover:{t:0,b:{t:2,i:[{t:3}],s:""}},time_warning:{t:0,b:{t:2,i:[{t:3,v:" "},{t:4,k:"ago"},{t:3,v:""}]}},copyright:{author:{t:0,b:{t:2,i:[{t:3}],s:""}},link:{t:0,b:{t:2,i:[{t:3}],s:""}},license_title:{t:0,b:{t:2,i:[{t:3}],s:""}},license_content:{t:0,b:{t:2,i:[{t:3,v:" "},{t:5,i:0},{t:3,v:" "}]}}}},footer:{powered:{t:0,b:{t:2,i:[{t:3,v:" "},{t:5,i:0},{t:3,v:" "}]}},theme:{t:0,b:{t:2,i:[{t:3}],s:""}},total_views:{t:0,b:{t:2,i:[{t:3}],s:""}},total_visitors:{t:0,b:{t:2,i:[{t:3}],s:""}}},counter:{archives:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:""},{t:2,i:[{t:3}],s:" 1 "},{t:2,i:[{t:3,v:" "},{t:4,k:"count"},{t:3,v:" "}]}]}},categories:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:""},{t:2,i:[{t:3}],s:" 1 "},{t:2,i:[{t:3,v:" "},{t:4,k:"count"},{t:3,v:" "}]}]}},tags:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:""},{t:2,i:[{t:3}],s:" 1 "},{t:2,i:[{t:3,v:" "},{t:4,k:"count"},{t:3,v:" "}]}]}},albums:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:""},{t:2,i:[{t:3}],s:" 1 "},{t:2,i:[{t:3,v:" "},{t:4,k:"count"},{t:3,v:" "}]}]}},photos:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:""},{t:2,i:[{t:3}],s:" 1 "},{t:2,i:[{t:3,v:" "},{t:4,k:"count"},{t:3,v:" "}]}]}}},category:{uncategorized:{t:0,b:{t:2,i:[{t:3}],s:""}}},search:{placeholder:{t:0,b:{t:2,i:[{t:3}],s:"..."}},empty:{t:0,b:{t:2,i:[{t:3,v:": "},{t:4,k:"query"}]}},hits_time:{t:0,b:{t:2,i:[{t:3,v:" "},{t:4,k:"hits"},{t:3,v:"  "},{t:4,k:"time"},{t:3,v:" "}]}},hits:{t:0,b:{t:2,i:[{t:3,v:" "},{t:4,k:"count"},{t:3,v:" "}]}}},symbol:{comma:{t:0,b:{t:2,i:[{t:3}],s:""}},period:{t:0,b:{t:2,i:[{t:3}],s:""}},colon:{t:0,b:{t:2,i:[{t:3}],s:""}}},reward:{donate:{t:0,b:{t:2,i:[{t:3}],s:""}}},accessibility:{back:{t:0,b:{t:2,i:[{t:3}],s:""}}},statistics:{word:{t:0,b:{t:2,i:[{t:3}],s:""}},word_total:{t:0,b:{t:2,i:[{t:3}],s:""}},time:{t:0,b:{t:2,i:[{t:3}],s:""}},time_total:{t:0,b:{t:2,i:[{t:3}],s:""}}},time:{day:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"1 "},{t:2,i:[{t:4,k:"count"},{t:3,v:" "}]}]}},hour:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"1 "},{t:2,i:[{t:4,k:"count"},{t:3,v:" "}]}]}},minute:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"1 "},{t:2,i:[{t:4,k:"count"},{t:3,v:" "}]}]}},second:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"1 "},{t:2,i:[{t:4,k:"count"},{t:3,v:" "}]}]}}},tooltip:{last_updated:{t:0,b:{t:2,i:[{t:3}],s:""}}}},Tt={"zh-CN":{},en:{}},ys=jy((t,e,r)=>{if(e&&t[e]&&Array.isArray(t[e])&&Array.isArray(r))return t[e]=r,!0});Tt["zh-CN"]=ys(iU,Tt["zh-CN"]);Tt.en=ys(rU,Tt.en);Tt["zh-CN"]=ys(tU,Tt["zh-CN"]);Tt.en=ys(eU,Tt.en);Tt["zh-CN"]=ys(Q6,Tt["zh-CN"]);Tt.en=ys(J6,Tt.en);const Ly=Nx({locale:"",messages:Tt});async function nU({app:t,router:e},r){const i=$d("valaxy-locale",(r==null?void 0:r.value.siteConfig.lang)||"en");Ly.global.locale.value=i.value,t.use(Ly),e.isReady().then(()=>{})}function sU(t,e){const r=t;nU(t,e),Z6(t),Ux(t),jx(t),K6(t,e),AD(r),L8(r)}const od=W0();function oU(t){t.app.component("AppLink",Eo)}const{redirectRoutes:aU,useVueRouter:lU}=od.value.runtimeConfig.redirects;lU&&cd.push(...aU);cd.forEach(t=>{var e;(e=t==null?void 0:t.children)==null||e.forEach(r=>{r.path=encodeURI(r.path)})});function rx(t){return t.filter(e=>{var r,i;return e.children&&(e.children=rx(e.children)),!((i=(r=e.meta)==null?void 0:r.frontmatter)!=null&&i.draft)})}const uU=dE(rx(cd));gE(EL,{routes:uU,base:"/",scrollBehavior(t,e){if(t.path!==e.path)return{top:0}}},t=>{const{app:e,router:r}=t;e.use(Ox,{router:r}),e.provide(G0,od),oU(t),sU(t,od)});export{Hr as $,bU as A,xU as B,vU as C,Nf as D,Yr as E,iS as F,$U as G,kU as H,Ft as I,wS as J,MU as K,Hc as L,Ao as M,El as N,wU as O,JT as P,AU as Q,IA as R,aC as S,Ue as T,IU as U,pe as V,OU as W,RU as X,H5 as Y,nr as Z,Eo as _,PU as a,ye as a0,Me as a1,Co as a2,Xd as a3,K as a4,lb as a5,wt as a6,$$ as a7,Z as a8,H_ as a9,KR as aa,Vi as ab,X as ac,U0 as b,cE as c,F0 as d,mA as e,pA as f,Pl as g,MA as h,_U as i,FA as j,q0 as k,nt as l,X0 as m,TU as n,Ii as o,St as p,nE as q,eE as r,CU as s,QA as t,$i as u,Dd as v,EU as w,SU as x,oT as y,cv as z};
