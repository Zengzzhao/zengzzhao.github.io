import"./chunks/vue-router.DKB-BOv1.js";import{u as g}from"./chunks/@vueuse/motion.DAWx69iu.js";import{C as w,D as B}from"./app.CiZxJCX8.js";import"./chunks/dayjs.CPPL_t8N.js";import{z as C,a9 as $,aa as t,ac as o,aj as y,af as i,ag as d,w as f,ah as L,P as Y,al as b,ai as N,F as p,D as I,ap as P,L as x,am as k,ab as R,C as V}from"./framework.COmLX_CU.js";import{u as M}from"./chunks/vue-i18n.DJhGtnH1.js";const z={class:"post-meta"},E={key:0,class:"post-time",font:"mono",opacity:"80"},F={class:"post-title w-full","inline-flex":"","items-center":"",font:"serif black"},T=C({__name:"YunPostCollapseItem",props:{i:{},post:{}},setup(s){const m=s,u=p(!1),r=p();return g(r,{initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{duration:200,delay:m.i*50,onComplete(){u.value=!0}}}}),(l,c)=>{const v=$("RouterLink");return t(),o("article",{ref_key:"itemRef",ref:r,class:y(["post-item relative",{show:u.value}])},[i("header",{class:y(["post-header cursor-pointer w-full",{show:u.value}]),flex:"~","items-center":"",relative:"",hover:"bg-black/1"},[i("div",z,[s.post.date?(t(),o("time",E,d(f(w)(s.post.date,{template:"MM-DD"})),1)):L("v-if",!0)]),i("h2",F,[Y(v,{to:s.post.path||"",class:"post-title-link"},{default:b(()=>[N(d(s.post.title),1)]),_:1},8,["to"])])],2)],2)}}}),S={class:"post-collapse px-10 lt-sm:px-5 max-w-3xl",relative:""},j={w:"full",text:"center",class:"yun-text-light",p:"2"},q={class:"post-collapse-action",text:"center"},A={key:0,"i-ri-sort-desc":""},G={key:1,"i-ri-sort-asc":""},H={class:"collection-title","m-0":"",relative:""},J=["id"],Z=C({__name:"YunPostCollapse",props:{posts:{}},setup(s){const m=s,{t:u}=M(),r=p([]),l=p({});I(()=>m.posts,()=>{l.value={},r.value=[],m.posts.forEach(a=>{if(!(a.hide&&a.hide!=="index")&&a.date){const e=Number.parseInt(w(a.date,{template:"YYYY"}));l.value[e]?l.value[e].push(a):(r.value.push(e),l.value[e]=[a])}})},{immediate:!0});const c=p(!0),v=V(()=>{const e=r.value.sort((h,n)=>n-h);return c.value?e:[...e].reverse()});return(a,e)=>{const h=T;return t(),o("div",S,[Y(P,{appear:"","enter-active-class":"animate-fade-in animate-duration-400"},{default:b(()=>[i("div",j,d(f(u)("counter.archives",s.posts.length)),1)]),_:1}),i("div",q,[i("button",{class:"yun-icon-btn shadow hover:shadow-md",onClick:e[0]||(e[0]=n=>c.value=!c.value)},[c.value?(t(),o("div",A)):(t(),o("div",G))])]),(t(!0),o(x,null,k(v.value,n=>(t(),o("div",{key:n,m:"b-6"},[i("div",H,[i("h2",{id:`#archive-year-${n}`,class:"archive-year",text:"4xl",p:"y-2"},d(n),9,J)]),(t(!0),o(x,null,k(f(B)(l.value[n],c.value),(D,_)=>(t(),R(h,{key:_,post:D,i:_},null,8,["post","i"]))),128))]))),128))])}}});export{Z as _};
